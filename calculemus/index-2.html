<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Proof exercises in Lean4 and Isabelle/HOL.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Calculemus (old posts, page 2) | Calculemus</title>
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/calculemus/index-2.html">
<link rel="icon" href="favicon.png" sizes="48x48">
<link rel="prev" href="index-1.html" type="text/html">
<link rel="next" href="index-3.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/calculemus/images/calculemus.jpg">
<meta name="twitter:title" content="Calculemus (old posts, page 2) | Calculemus">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="." title="Calculemus" rel="home">

        <span id="blog-title">Calculemus</span>
    </a></h1>
    <div>Proof exercises in Lean4 and Isabelle/HOL</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="archive.html">Archive</a></li>
                <li><a href="categories/">Tags</a></li>
                <li><a href="about/">About</a></li>
                <li><a href="rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/09/05-sum_of_the_first_n_natural_numbers/" class="u-url">Proofs of "0+1+2+3+···+n=n(n + 1)/2"</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/09/05-sum_of_the_first_n_natural_numbers/" rel="bookmark">
            <time class="published dt-published" datetime="2024-09-05T06:00:00+02:00" itemprop="datePublished" title="05-09-2024">05-09-2024</time></a>
            </p>
		    <p><span class="text-dark">Induction</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Prove that the sum of the natural numbers
\[ 0 + 1 + 2 + 3 + ··· + n \]
is
\[\dfrac{n(n + 1)}{2}\]</p>
<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Init.Data.Nat.Basic</span>
<span class="kn">import</span> <span class="n">Mathlib.Tactic</span>

<span class="kn">open</span> <span class="n">Nat</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span>

<span class="kd">set_option</span> <span class="n">pp.fieldNotation</span> <span class="n">false</span>

<span class="kd">def</span> <span class="n">sum</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span>
  <span class="bp">|</span> <span class="mi">0</span>      <span class="bp">=&gt;</span> <span class="mi">0</span>
  <span class="bp">|</span> <span class="n">succ</span> <span class="n">n</span> <span class="bp">=&gt;</span> <span class="n">sum</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="mi">2</span> <span class="bp">*</span> <span class="n">sum</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/09/05-sum_of_the_first_n_natural_numbers/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/09/04-sufficient_condition_of_continuity/" class="u-url">If f is continuous at a and the limit of u(n) is a, then the limit of f(u(n)) is f(a)</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/09/04-sufficient_condition_of_continuity/" rel="bookmark">
            <time class="published dt-published" datetime="2024-09-04T06:00:00+02:00" itemprop="datePublished" title="04-09-2024">04-09-2024</time></a>
            </p>
		    <p><span class="text-dark">Limits</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, we can define that \(a\) is the limit of the sequence \(u\) by:</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">k</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">k</span><span class="o">,</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">&lt;</span> <span class="n">ε</span>
</pre></div>

<p>and that \(f\) is continuous at \(a\) by:</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">continuous_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="bp">|</span><span class="n">x</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span>
</pre></div>

<p>To prove that if the function \(f\) is continuous at the point \(a\), and the sequence \(u(n)\) converges to \(a\), then the sequence \(f(u(n))\) converges to \(f(a)\).</p>
<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.Real.Basic</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">k</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">k</span><span class="o">,</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span>

<span class="kd">def</span> <span class="n">continuous_at</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">δ</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">,</span> <span class="bp">|</span><span class="n">x</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">δ</span> <span class="bp">→</span> <span class="bp">|</span><span class="n">f</span> <span class="n">x</span> <span class="bp">-</span> <span class="n">f</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">≤</span> <span class="n">ε</span>

<span class="kd">example</span>
  <span class="o">(</span><span class="n">hf</span> <span class="o">:</span> <span class="n">continuous_at</span> <span class="n">f</span> <span class="n">a</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hu</span> <span class="o">:</span> <span class="n">is_limit</span> <span class="n">u</span> <span class="n">a</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/09/04-sufficient_condition_of_continuity/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/09/03-limits_are_less_than_or_equal_to_upper_bounds/" class="u-url">If x is the limit of u and y is an upper bound of u, then x ≤ y</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/09/03-limits_are_less_than_or_equal_to_upper_bounds/" rel="bookmark">
            <time class="published dt-published" datetime="2024-09-03T06:00:00+02:00" itemprop="datePublished" title="03-09-2024">03-09-2024</time></a>
            </p>
		    <p><span class="text-dark">Limits</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, we can define that \(a\) is the limit of the sequence \(u\) by:</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">k</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">k</span><span class="o">,</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">&lt;</span> <span class="n">ε</span>
</pre></div>

<p>and that \(a\) is an upper bound of \(u\) by:</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">is_upper_bound</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">u</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">a</span>
</pre></div>

<p>Prove that if \(x\) is the limit of the sequence \(u\) and \(y\) is an upper bound of \(u\), then \(x ≤ y\).</p>
<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.Real.Basic</span>
<span class="kn">import</span> <span class="n">Mathlib.Tactic</span>

<span class="kd">variable</span>  <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">is_limit</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">k</span><span class="o">,</span> <span class="bp">∀</span> <span class="n">n</span> <span class="bp">≥</span> <span class="n">k</span><span class="o">,</span> <span class="bp">|</span><span class="n">u</span> <span class="n">n</span> <span class="bp">-</span> <span class="n">a</span><span class="bp">|</span> <span class="bp">&lt;</span> <span class="n">ε</span>

<span class="kd">def</span> <span class="n">is_upper_bound</span> <span class="o">(</span><span class="n">u</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">n</span><span class="o">,</span> <span class="n">u</span> <span class="n">n</span> <span class="bp">≤</span> <span class="n">a</span>

<span class="kd">example</span>
  <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">is_limit</span> <span class="n">u</span> <span class="n">x</span><span class="o">)</span>
  <span class="o">(</span><span class="n">hy</span> <span class="o">:</span> <span class="n">is_upper_bound</span> <span class="n">u</span> <span class="n">y</span><span class="o">)</span>
  <span class="o">:</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/09/03-limits_are_less_than_or_equal_to_upper_bounds/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/09/02-le_of_forall_pos_le_add/" class="u-url">If (∀ ε &gt; 0, y ≤ x + ε), then y ≤ x</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/09/02-le_of_forall_pos_le_add/" rel="bookmark">
            <time class="published dt-published" datetime="2024-09-02T06:00:00+02:00" itemprop="datePublished" title="02-09-2024">02-09-2024</time></a>
            </p>
		    <p><span class="text-dark">Real numbers</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Let \(x, y ∈ ℝ\). Prove that
\[ (∀ ε &gt; 0, y ≤ x + ε) → y ≤ x \]</p>
<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.Real.Basic</span>
<span class="kn">import</span> <span class="n">Mathlib.Tactic</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">ε</span> <span class="bp">&gt;</span> <span class="mi">0</span><span class="o">,</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">ε</span><span class="o">)</span> <span class="bp">→</span> <span class="n">y</span> <span class="bp">≤</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/09/02-le_of_forall_pos_le_add/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/31-if_x_is_the_supremum_of_set_a_then_forall_y_y_lt_x_to_exists_a_in_a_y_lt_a/" class="u-url">If x is the supremum of set A, then ((∀ y)[y &lt; x → (∃ a ∈ A)[y &lt; a]]</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/31-if_x_is_the_supremum_of_set_a_then_forall_y_y_lt_x_to_exists_a_in_a_y_lt_a/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-31T06:00:00+02:00" itemprop="datePublished" title="31-08-2024">31-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Real numbers</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, one can define that \(x\) is an upper bound of \(A\) by</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">is_upper_bound</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">x</span>
</pre></div>

<p>and \(x\) is supremum of \(A\) by</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">is_supremum</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
     <span class="n">is_upper_bound</span> <span class="n">A</span> <span class="n">x</span> <span class="bp">∧</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">is_upper_bound</span> <span class="n">A</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span>
</pre></div>

<p>Prove that if \(x\) is the supremum of \(A\), then
\[ (∀ y)[y &lt; x → (∃ a ∈ A)[y &lt; a]] \]</p>
<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.Real.Basic</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">A</span> <span class="o">:</span> <span class="n">Set</span> <span class="n">ℝ</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">{</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">}</span>

<span class="kd">def</span> <span class="n">is_upper_bound</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="bp">∀</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">a</span> <span class="bp">≤</span> <span class="n">x</span>

<span class="kd">def</span> <span class="n">is_supremum</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">Set</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:=</span>
  <span class="n">is_upper_bound</span> <span class="n">A</span> <span class="n">x</span> <span class="bp">∧</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">is_upper_bound</span> <span class="n">A</span> <span class="n">y</span> <span class="bp">→</span> <span class="n">x</span> <span class="bp">≤</span> <span class="n">y</span>

<span class="kd">example</span>
  <span class="o">(</span><span class="n">hx</span> <span class="o">:</span> <span class="n">is_supremum</span> <span class="n">A</span> <span class="n">x</span><span class="o">)</span>
  <span class="o">:</span> <span class="bp">∀</span> <span class="n">y</span><span class="o">,</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">x</span> <span class="bp">→</span> <span class="bp">∃</span> <span class="n">a</span> <span class="bp">∈</span> <span class="n">A</span><span class="o">,</span> <span class="n">y</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/08/31-if_x_is_the_supremum_of_set_a_then_forall_y_y_lt_x_to_exists_a_in_a_y_lt_a/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/29-fibonacci/" class="u-url">Equivalence of definitions of the Fibonacci function</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/29-fibonacci/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-29T06:00:00+02:00" itemprop="datePublished" title="29-08-2024">29-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Induction</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, the Fibonacci function can be defined as</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">def</span><span class="w"> </span><span class="n">fibonacci</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Nat</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="kt">Nat</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">     </span><span class="ow">=&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="ow">=&gt;</span><span class="w"> </span><span class="mi">1</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">fibonacci</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fibonacci</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

<p>Another more efficient definition is</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">def</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Nat</span><span class="p">)</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Nat</span><span class="w"> </span><span class="kt">:=</span>
<span class="w">     </span><span class="p">(</span><span class="n">loop</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="mi">1</span>
<span class="w">   </span><span class="kr">where</span>
<span class="w">     </span><span class="n">loop</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Nat</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="kt">Nat</span><span class="w"> </span><span class="err">×</span><span class="w"> </span><span class="kt">Nat</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">=&gt;</span>
<span class="w">         </span><span class="kr">let</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="kt">:=</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="n">n</span>
<span class="w">         </span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

<p>Prove that both definitions are equivalent; that is,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">fibonacci</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fib</span>
</pre></div>

<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">open</span> <span class="n">Nat</span>

<span class="kd">set_option</span> <span class="n">pp.fieldNotation</span> <span class="n">false</span>

<span class="kd">def</span> <span class="n">fibonacci</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span>
  <span class="bp">|</span> <span class="mi">0</span>     <span class="bp">=&gt;</span> <span class="mi">0</span>
  <span class="bp">|</span> <span class="mi">1</span>     <span class="bp">=&gt;</span> <span class="mi">1</span>
  <span class="bp">|</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=&gt;</span> <span class="n">fibonacci</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">fibonacci</span> <span class="o">(</span><span class="n">n</span><span class="bp">+</span><span class="mi">1</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">fib</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">Nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">Nat</span> <span class="o">:=</span>
  <span class="o">(</span><span class="n">loop</span> <span class="n">n</span><span class="o">)</span><span class="bp">.</span><span class="mi">1</span>
<span class="n">where</span>
  <span class="n">loop</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">Nat</span> <span class="bp">×</span> <span class="n">Nat</span>
    <span class="bp">|</span> <span class="mi">0</span>   <span class="bp">=&gt;</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
    <span class="bp">|</span> <span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=&gt;</span>
      <span class="k">let</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">loop</span> <span class="n">n</span>
      <span class="o">(</span><span class="n">p.2</span><span class="o">,</span> <span class="n">p.1</span> <span class="bp">+</span> <span class="n">p.2</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">fibonacci</span> <span class="bp">=</span> <span class="n">fib</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/08/29-fibonacci/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/28-flatten_of_mirror/" class="u-url">Proofs of "flatten (mirror a) = reverse (flatten a)"</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/28-flatten_of_mirror/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-28T06:00:00+02:00" itemprop="datePublished" title="28-08-2024">28-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Binary trees</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>The tree corresponding to</p>
<div class="code"><pre class="code literal-block">    3
   / \
  2   4
 / \
1   5
</pre></div>

<p>can be represented by the term</p>
<div class="code"><pre class="code literal-block">Node 3 (Node 2 (Leaf 1) (Leaf 5)) (Leaf 4)
</pre></div>

<p>using the datatype defined by</p>
<div class="code"><pre class="code literal-block">   <span class="kd">inductive</span> <span class="n">Tree'</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
     <span class="bp">|</span> <span class="n">Leaf</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
     <span class="bp">|</span> <span class="n">Node</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
</pre></div>

<p>The mirror image of the previous tree is</p>
<div class="code"><pre class="code literal-block">  3
 / \
4   2
   / \
  5   1
</pre></div>

<p>and the list obtained by flattening it (traversing it in infix order) is</p>
<div class="code"><pre class="code literal-block">[4, 3, 5, 2, 1]
</pre></div>

<p>The definition of the function that calculates the mirror image is</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">mirror</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
     <span class="bp">|</span> <span class="n">Leaf</span> <span class="n">x</span>     <span class="bp">=&gt;</span> <span class="n">Leaf</span> <span class="n">x</span>
     <span class="bp">|</span> <span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span> <span class="bp">=&gt;</span> <span class="n">Node</span> <span class="n">x</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">l</span><span class="o">)</span>
</pre></div>

<p>and the one that flattens the tree is</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">flatten</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
     <span class="bp">|</span> <span class="n">Leaf</span> <span class="n">x</span>     <span class="bp">=&gt;</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>
     <span class="bp">|</span> <span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span> <span class="bp">=&gt;</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">l</span><span class="o">)</span> <span class="bp">++</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="bp">++</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">r</span><span class="o">)</span>
</pre></div>

<p>Prove that</p>
<div class="code"><pre class="code literal-block">   <span class="n">flatten</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">reverse</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">a</span><span class="o">)</span>
</pre></div>

<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Tactic</span>

<span class="kn">open</span> <span class="n">List</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">set_option</span> <span class="n">pp.fieldNotation</span> <span class="n">false</span>

<span class="kd">inductive</span> <span class="n">Tree'</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
  <span class="bp">|</span> <span class="n">Leaf</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
  <span class="bp">|</span> <span class="n">Node</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>

<span class="kn">namespace</span> <span class="n">Tree'</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">a</span> <span class="n">l</span> <span class="n">r</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">mirror</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
  <span class="bp">|</span> <span class="n">Leaf</span> <span class="n">x</span>     <span class="bp">=&gt;</span> <span class="n">Leaf</span> <span class="n">x</span>
  <span class="bp">|</span> <span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span> <span class="bp">=&gt;</span> <span class="n">Node</span> <span class="n">x</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">l</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">flatten</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
  <span class="bp">|</span> <span class="n">Leaf</span> <span class="n">x</span>     <span class="bp">=&gt;</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>
  <span class="bp">|</span> <span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span> <span class="bp">=&gt;</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">l</span><span class="o">)</span> <span class="bp">++</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="bp">++</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">r</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="n">flatten</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">reverse</span> <span class="o">(</span><span class="n">flatten</span> <span class="n">a</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/08/28-flatten_of_mirror/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/26-proofs_that_the_mirror_function_of_binary_trees_is_involutive/" class="u-url">Proofs that the mirror function of binary trees is involutive</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/26-proofs_that_the_mirror_function_of_binary_trees_is_involutive/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-26T06:00:00+02:00" itemprop="datePublished" title="26-08-2024">26-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Binary trees</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>The tree corresponding to</p>
<div class="code"><pre class="code literal-block">    3
   / \
  2   4
 / \
1   5
</pre></div>

<p>can be represented by the term</p>
<div class="code"><pre class="code literal-block">Node 3 (Node 2 (Leaf 1) (Leaf 5)) (Leaf 4)
</pre></div>

<p>using the datatype defined by</p>
<div class="code"><pre class="code literal-block">   <span class="kd">inductive</span> <span class="n">Tree'</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
     <span class="bp">|</span> <span class="n">Leaf</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
     <span class="bp">|</span> <span class="n">Node</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
</pre></div>

<p>The mirror image of the previous tree is</p>
<div class="code"><pre class="code literal-block">  3
 / \
4   2
   / \
  5   1
</pre></div>

<p>whose term is</p>
<div class="code"><pre class="code literal-block">Node 3 (Leaf 4) (Node 2 (Leaf 5) (Leaf 1))
</pre></div>

<p>The definition of the function that calculates the mirror image is</p>
<div class="code"><pre class="code literal-block">   <span class="kd">def</span> <span class="n">mirror</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
     <span class="bp">|</span> <span class="o">(</span><span class="n">Leaf</span> <span class="n">x</span><span class="o">)</span>     <span class="bp">=&gt;</span> <span class="n">Leaf</span> <span class="n">x</span>
     <span class="bp">|</span> <span class="o">(</span><span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span><span class="o">)</span> <span class="bp">=&gt;</span> <span class="n">Node</span> <span class="n">x</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">l</span><span class="o">)</span>
</pre></div>

<p>Prove that the mirror function is involutive; that is,</p>
<div class="code"><pre class="code literal-block">   <span class="n">mirror</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span>
</pre></div>

<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Tactic</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>

<span class="kd">set_option</span> <span class="n">pp.fieldNotation</span> <span class="n">false</span>

<span class="kd">inductive</span> <span class="n">Tree'</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Type</span>
  <span class="bp">|</span> <span class="n">Leaf</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
  <span class="bp">|</span> <span class="n">Node</span> <span class="o">:</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>

<span class="kn">namespace</span> <span class="n">Tree'</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">a</span> <span class="n">l</span> <span class="n">r</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">def</span> <span class="n">mirror</span> <span class="o">:</span> <span class="n">Tree'</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Tree'</span> <span class="n">α</span>
  <span class="bp">|</span> <span class="o">(</span><span class="n">Leaf</span> <span class="n">x</span><span class="o">)</span>     <span class="bp">=&gt;</span> <span class="n">Leaf</span> <span class="n">x</span>
  <span class="bp">|</span> <span class="o">(</span><span class="n">Node</span> <span class="n">x</span> <span class="n">l</span> <span class="n">r</span><span class="o">)</span> <span class="bp">=&gt;</span> <span class="n">Node</span> <span class="n">x</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">r</span><span class="o">)</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">l</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span>
  <span class="n">mirror</span> <span class="o">(</span><span class="n">mirror</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">a</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>

<span class="kd">end</span> <span class="n">Tree'</span>
</pre></div>

<p class="more"><a href="posts/2024/08/26-proofs_that_the_mirror_function_of_binary_trees_is_involutive/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/19-equivalence_of_reverse_definitions/" class="u-url">Equivalence of reverse definitions</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/19-equivalence_of_reverse_definitions/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-19T06:00:00+02:00" itemprop="datePublished" title="19-08-2024">19-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Lists</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, the function</p>
<div class="code"><pre class="code literal-block">    <span class="n">reverse</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
</pre></div>

<p>is defined such that (reverse xs) is the list obtained by reversing the order of  elements in xs, such that the first element becomes the last, the second element becomes the second to last, and so on, resulting in a new list with the same elements but in the opposite sequence. For example,</p>
<div class="code"><pre class="code literal-block">reverse  [3,2,5,1] = [1,5,2,3]
</pre></div>

<p>Its definition is</p>
<div class="code"><pre class="code literal-block">    <span class="kd">def</span> <span class="n">reverseAux</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
      <span class="bp">|</span> <span class="o">[],</span>    <span class="n">ys</span> <span class="bp">=&gt;</span> <span class="n">ys</span>
      <span class="bp">|</span> <span class="n">x</span><span class="o">::</span><span class="n">xs</span><span class="o">,</span> <span class="n">ys</span> <span class="bp">=&gt;</span> <span class="n">reverseAux</span> <span class="n">xs</span> <span class="o">(</span><span class="n">x</span><span class="o">::</span><span class="n">ys</span><span class="o">)</span>

    <span class="kd">def</span> <span class="n">reverse</span> <span class="o">(</span><span class="n">xs</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span> <span class="o">:=</span>
      <span class="n">reverseAux</span> <span class="n">xs</span> <span class="o">[]</span>
</pre></div>

<p>The following lemmas characterize its behavior:</p>
<div class="code"><pre class="code literal-block">    <span class="n">reverseAux_nil</span> <span class="o">:</span> <span class="n">reverseAux</span> <span class="o">[]</span> <span class="n">ys</span> <span class="bp">=</span> <span class="n">ys</span>
    <span class="n">reverseAux_cons</span> <span class="o">:</span> <span class="n">reverseAux</span> <span class="o">(</span><span class="n">x</span><span class="o">::</span><span class="n">xs</span><span class="o">)</span> <span class="n">ys</span> <span class="bp">=</span> <span class="n">reverseAux</span> <span class="n">xs</span> <span class="o">(</span><span class="n">x</span><span class="o">::</span><span class="n">ys</span><span class="o">)</span>
</pre></div>

<p>An alternative definition is</p>
<div class="code"><pre class="code literal-block">    <span class="kd">def</span> <span class="n">reverse2</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
      <span class="bp">|</span> <span class="o">[]</span>        <span class="bp">=&gt;</span> <span class="o">[]</span>
      <span class="bp">|</span> <span class="o">(</span><span class="n">x</span> <span class="o">::</span> <span class="n">xs</span><span class="o">)</span> <span class="bp">=&gt;</span> <span class="n">reverse2</span> <span class="n">xs</span> <span class="bp">++</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>
</pre></div>

<p>Prove that the two definitions are equivalent; that is,</p>
<div class="code"><pre class="code literal-block">    <span class="n">reverse</span> <span class="n">xs</span> <span class="bp">=</span> <span class="n">reverse2</span> <span class="n">xs</span>
</pre></div>

<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.List.Basic</span>
<span class="kn">open</span> <span class="n">List</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">xs</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">reverse</span> <span class="n">xs</span> <span class="bp">=</span> <span class="n">reverse2</span> <span class="n">xs</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/08/19-equivalence_of_reverse_definitions/">Read more…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/08/14-proofs_of_take_n_xs_%2B%2B_drop_n_xs_eq_xs/" class="u-url">Proofs of take n xs ++ drop n xs = xs</a></h1>
                <div class="metadata">
                    <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                        José A. Alonso
                    </span></p>
            <p class="dateline">
            <a href="posts/2024/08/14-proofs_of_take_n_xs_%2B%2B_drop_n_xs_eq_xs/" rel="bookmark">
            <time class="published dt-published" datetime="2024-08-14T06:00:00+02:00" itemprop="datePublished" title="14-08-2024">14-08-2024</time></a>
            </p>
		    <p><span class="text-dark">Lists</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>In Lean4, the functions</p>
<div class="code"><pre class="code literal-block">    <span class="n">take</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Nat</span>
    <span class="n">drop</span> <span class="o">:</span> <span class="n">Nat</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">Nat</span>
    <span class="o">(</span><span class="bp">++</span><span class="o">)</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span> <span class="bp">→</span> <span class="n">List</span> <span class="n">α</span>
</pre></div>

<p>are defined such that</p>
<ul>
<li>
<p>(take n xs) is the list consisting of the first n elements of xs. For example,</p>
<div class="code"><pre class="code literal-block">take 2 [3,5,1,9,7] = [3,5]
</pre></div>

</li>
<li>
<p>(drop n xs) is the list containing all elements of xs except the first n elements. For example,</p>
<div class="code"><pre class="code literal-block">drop 2 [3,5,1,9,7] = [1,9,7]
</pre></div>

</li>
<li>
<p>(xs ++ ys) is the list obtained by concatenating xs and ys. For example,</p>
<div class="code"><pre class="code literal-block">[3,5] ++ [1,9,7] = [3,5,1,9,7]
</pre></div>

</li>
</ul>
<p>These functions are characterized by the following lemmas:</p>
<div class="code"><pre class="code literal-block"><span class="n">take_zero</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span>
<span class="n">take_nil</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span>
<span class="n">take_cons</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="o">(</span><span class="n">succ</span><span class="w"> </span><span class="n">n</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">xs</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">xs</span>
<span class="n">drop_zero</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xs</span>
<span class="n">drop_nil</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span>
<span class="n">drop_succ_cons</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="o">(</span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">xs</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">xs</span>
<span class="n">nil_append</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ys</span>
<span class="n">cons_append</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">x</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">xs</span><span class="o">)</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">(</span><span class="n">xs</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">ys</span><span class="o">)</span>
</pre></div>

<p>Prove that</p>
<div class="code"><pre class="code literal-block">take n xs ++ drop n xs = xs
</pre></div>

<p>To do this, complete the following Lean4 theory:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="n">Mathlib.Data.List.Basic</span>
<span class="kn">import</span> <span class="n">Mathlib.Tactic</span>
<span class="kn">open</span> <span class="n">List</span> <span class="n">Nat</span>

<span class="kd">variable</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>
<span class="kd">variable</span> <span class="o">(</span><span class="n">xs</span> <span class="o">:</span> <span class="n">List</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">take</span> <span class="n">n</span> <span class="n">xs</span> <span class="bp">++</span> <span class="n">drop</span> <span class="n">n</span> <span class="n">xs</span> <span class="bp">=</span> <span class="n">xs</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="gr">sorry</span>
</pre></div>

<p class="more"><a href="posts/2024/08/14-proofs_of_take_n_xs_%2B%2B_drop_n_xs_eq_xs/">Read more…</a></p>
</div>
                </div>
            </article>
</div>
            <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-3.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script></main><footer id="footer"><p>By <a href="https://jaalonso.github.io/">José A. Alonso</a>, created with <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> This work is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.en">Creative Commons Attribution Non Commercial Share Alike 4.0 International</a> <br><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
