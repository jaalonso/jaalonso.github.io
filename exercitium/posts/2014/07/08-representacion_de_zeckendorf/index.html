<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Representación de Zeckendorf | Exercitium</title>
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="../../../../assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="es" href="../../../../rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/exercitium/posts/2014/07/08-representacion_de_zeckendorf/">
<link rel="icon" href="../../../../favicon.png" sizes="48x48">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta name="twitter:title" content="Representación de Zeckendorf | Exercitium">
<meta name="author" content="José A. Alonso">
<link rel="prev" href="../07-ventana_deslizante/" title="Ventana deslizante" type="text/html">
<link rel="next" href="../09-mas_cercano_cumpliendo_la_propiedad/" title="Elemento más cercano que cumple una propiedad" type="text/html">
<meta property="og:site_name" content="Exercitium">
<meta property="og:title" content="Representación de Zeckendorf">
<meta property="og:url" content="https://jaalonso.github.io/exercitium/posts/2014/07/08-representacion_de_zeckendorf/">
<meta property="og:description" content="Los primeros números de Fibonacci son
1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, ...


tales que los dos primeros son iguales a 1 y los siguientes se obtienen sumando los dos anteriores.
El teore">
<meta property="og:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-07-08T06:00:00+02:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Jose_A_Alonso">
<meta name="twitter:creator" content="@Jose_A_Alonso">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="../../../../" title="Exercitium" rel="home">

        <span id="blog-title">Exercitium</span>
    </a></h1>
    <div>Ejercicios de programación con Haskell y Python</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="../../../../archive.html">Archivo</a></li>
                <li><a href="../../../../categories/">Etiquetas</a></li>
                <li><a href="../../../../about/">Acerca de</a></li>
                <li><a href="../../../../rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Representación de Zeckendorf</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    José A. Alonso
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2014-07-08T06:00:00+02:00" itemprop="datePublished" title="08-07-2014">08-07-2014</time></a>
            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Los primeros <a href="https://en.wikipedia.org/wiki/Fibonacci_sequence">números de Fibonacci</a> son</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">13</span><span class="p">,</span><span class="w"> </span><span class="mf">21</span><span class="p">,</span><span class="w"> </span><span class="mf">34</span><span class="p">,</span><span class="w"> </span><span class="mf">55</span><span class="p">,</span><span class="w"> </span><span class="mf">89</span><span class="p">,</span><span class="w"> </span><span class="mf">144</span><span class="p">,</span><span class="w"> </span><span class="mf">233</span><span class="p">,</span><span class="w"> </span><span class="mf">...</span>
</pre></div>

<p>tales que los dos primeros son iguales a 1 y los siguientes se obtienen sumando los dos anteriores.</p>
<p>El <a href="https://en.wikipedia.org/wiki/Zeckendorf's_theorem#Representation_with_negafibonacci_numbers">teorema de Zeckendorf</a> establece que todo entero positivo n se puede representar, de manera única, como la suma de números de Fibonacci no consecutivos decrecientes. Dicha suma se llama la representación de Zeckendorf de n. Por ejemplo, la representación de Zeckendorf de 100 es</p>
<div class="code"><pre class="code literal-block"><span class="mf">100</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">89</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">3</span>
</pre></div>

<p>Hay otras formas de representar 100 como sumas de números de Fibonacci; por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="mf">100</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">89</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="mf">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">100</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">55</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">34</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">3</span>
</pre></div>

<p>pero no son representaciones de Zeckendorf porque 1 y 2 son números de Fibonacci consecutivos, al igual que 34 y 55.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="nf">zeckendorf</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>tal que (zeckendorf n) es la representación de Zeckendorf de n. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="nf">zeckendorf</span><span class="w"> </span><span class="mi">100</span><span class="w">       </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">89</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="nf">zeckendorf</span><span class="w"> </span><span class="mi">2014</span><span class="w">      </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">1597</span><span class="p">,</span><span class="mi">377</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">zeckendorf</span><span class="w"> </span><span class="mi">28656</span><span class="w">     </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">17711</span><span class="p">,</span><span class="mi">6765</span><span class="p">,</span><span class="mi">2584</span><span class="p">,</span><span class="mi">987</span><span class="p">,</span><span class="mi">377</span><span class="p">,</span><span class="mi">144</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">zeckendorf</span><span class="w"> </span><span class="mi">14930396</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">14930352</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

<hr>
<!-- TEASER_END --><h3>Soluciones</h3>
<div class="code"><pre class="code literal-block"><span class="c1">-- 1ª solución</span>
<span class="c1">-- ===========</span>
<span class="nf">zeckendorf1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">zeckendorf1</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">reverse</span><span class="w"> </span><span class="p">(</span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">tail</span><span class="w"> </span><span class="n">fibs</span><span class="p">)))</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="kt">[]</span><span class="p">]</span>
<span class="w">          </span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">zs</span><span class="p">)</span>
<span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">zs</span><span class="p">]</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">zs</span><span class="p">)</span>
<span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>

<span class="c1">-- fibs es la la sucesión de los números de Fibonacci. Por ejemplo,</span>
<span class="c1">--    take 14 fibs  == [1,1,2,3,5,8,13,21,34,55,89,144,233,377]</span>
<span class="nf">fibs</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">fibs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">scanl</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">fibs</span>

<span class="c1">-- 2ª solución</span>
<span class="c1">-- ===========</span>
<span class="nf">zeckendorf2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">zeckendorf2</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">reverse</span><span class="w"> </span><span class="p">(</span><span class="n">takeWhile</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">fibs</span><span class="p">))</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="w">          </span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">dropWhile</span><span class="w"> </span><span class="p">(</span><span class="o">&gt;</span><span class="n">n</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- 3ª solución</span>
<span class="c1">-- ===========</span>
<span class="nf">zeckendorf3</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">zeckendorf3</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="nf">zeckendorf3</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">zeckendorf3</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="p">(</span><span class="n">takeWhile</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">fibs</span><span class="p">)</span>

<span class="c1">-- Comparación de eficiencia</span>
<span class="c1">-- =========================</span>

<span class="c1">-- La comparación es</span>
<span class="c1">--    λ&gt; zeckendorf1 300000</span>
<span class="c1">--    [196418,75025,17711,6765,2584,987,377,89,34,8,2]</span>
<span class="c1">--    (0.72 secs, 58478576 bytes)</span>
<span class="c1">--    λ&gt; zeckendorf2 300000</span>
<span class="c1">--    [196418,75025,17711,6765,2584,987,377,89,34,8,2]</span>
<span class="c1">--    (0.00 secs, 517852 bytes)</span>
<span class="c1">--    λ&gt; zeckendorf3 300000</span>
<span class="c1">--    [196418,75025,17711,6765,2584,987,377,89,34,8,2]</span>
<span class="c1">--    (0.00 secs, 515360 bytes)</span>
<span class="c1">-- Se observa que las definiciones más eficientes son la 2ª y la 3ª.</span>
</pre></div>

<h3>Referencias</h3>
<ul>
<li>Este ejercicio se basa en el problema <a href="https://programmingpraxis.com/2012/07/24/zeckendorf-representation/">Zeckendorf representation</a> de <a href="http://programmingpraxis.com">Programming Praxis</a>.</li>
<li>La representación de Zeckendorf se describe en el artículo de la Wikipedia <a href="https://en.wikipedia.org/wiki/Zeckendorf's_theorem#Representation_with_negafibonacci_numbers">Zeckendorf’s theorem</a>.</li>
</ul>
</div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../07-ventana_deslizante/" rel="prev" title="Ventana deslizante">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../09-mas_cercano_cumpliendo_la_propiedad/" rel="next" title="Elemento más cercano que cumple una propiedad">Siguiente publicación</a>
            </li>
        </ul></nav></aside></article></main><footer id="footer"><p>Escrito por <a href="https://jaalonso.github.io/">José A. Alonso</a> usando <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> Esta obra está bajo una 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
