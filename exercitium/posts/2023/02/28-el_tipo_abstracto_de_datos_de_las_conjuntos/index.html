<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>El tipo abstracto de datos de los conjuntos | Exercitium</title>
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="../../../../assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="es" href="../../../../rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/exercitium/posts/2023/02/28-el_tipo_abstracto_de_datos_de_las_conjuntos/">
<link rel="icon" href="../../../../favicon.png" sizes="48x48">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/exercitium/meta-twitter.png">
<meta name="twitter:title" content="El tipo abstracto de datos de los conjuntos | Exercitium">
<meta name="author" content="José A. Alonso">
<link rel="prev" href="../27-maxcola/" title="TAD de las colas - Máximo elemento de una cola" type="text/html">
<link rel="next" href="../../09/04-problema_de_suma_cero/" title="Problema de suma cero" type="text/html">
<meta property="og:site_name" content="Exercitium">
<meta property="og:title" content="El tipo abstracto de datos de los conjuntos">
<meta property="og:url" content="https://jaalonso.github.io/exercitium/posts/2023/02/28-el_tipo_abstracto_de_datos_de_las_conjuntos/">
<meta property="og:description" content="1. El tipo abstracto de datos de los conjuntos
Un conjunto es una estructura de datos, caracterizada por ser una colección de elementos en la que no importe ni el orden ni la repetición de elementos.
">
<meta property="og:image" content="https://jaalonso.github.io/exercitium/favicon.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-28T06:00:00+02:00">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="../../../../" title="Exercitium" rel="home">

        <span id="blog-title">Exercitium</span>
    </a></h1>
    <div>Ejercicios de programación con Haskell y Python</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="../../../../archive.html">Archivo</a></li>
                <li><a href="../../../../categories/">Etiquetas</a></li>
                <li><a href="../../../../about/">Acerca de</a></li>
                <li><a href="../../../../rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">El tipo abstracto de datos de los conjuntos</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    José A. Alonso
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T06:00:00+02:00" itemprop="datePublished" title="28-02-2023">28-02-2023</time></a>
            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <h2>1. El tipo abstracto de datos de los conjuntos</h2>
<p>Un conjunto es una estructura de datos, caracterizada por ser una colección de elementos en la que no importe ni el orden ni la repetición de elementos.</p>
<p>Las operaciones que definen al tipo abstracto de datos (TAD) de los conjuntos (cuyos elementos son del tipo a) son las siguientes:</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">vacio</span><span class="w">      </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">inserta</span><span class="w">    </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">menor</span><span class="w">      </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">elimina</span><span class="w">    </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">pertenece</span><span class="w">  </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="w">   </span><span class="n">esVacio</span><span class="w">    </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tales que</p>
<ul>
<li>vacio es el conjunto vacío.</li>
<li>(inserta x c) es el conjunto obtenido añadiendo el elemento x al
  conjunto c.</li>
<li>(menor c) es el menor elemento del conjunto c.</li>
<li>(elimina x c) es el conjunto obtenido eliminando el elemento x del conjunto c.</li>
<li>(pertenece x c) se verifica si x pertenece al conjunto c.</li>
<li>(esVacio c) se verifica si c es el conjunto vacío.</li>
</ul>
<p>Las operaciones tienen que verificar las siguientes propiedades:</p>
<ul>
<li>inserta x (inserta x c) == inserta x c</li>
<li>inserta x (inserta y c) == inserta y (inserta x c)</li>
<li>not (pertenece x vacio)</li>
<li>pertenece y (inserta x c) == (x==y) || pertenece y c</li>
<li>elimina x vacio == vacio</li>
<li>Si x == y, entonces elimina x (inserta y c) == elimina x c</li>
<li>Si x /= y, entonces elimina x (inserta y c) == inserta y (elimina x c)</li>
<li>esVacio vacio</li>
<li>not (esVacio (inserta x c))</li>
</ul>
<!-- TEASER_END --><h2>2. Los conjuntos en Haskell</h2>
<h3>2.1. El tipo abstracto de datos de los conjuntos en Haskell</h3>
<p>El TAD de los conjuntos se encuentra en el módulo <a href="https://bit.ly/3kM3HfP">Conjunto.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.Conjunto</span>
<span class="w">  </span><span class="p">(</span><span class="kt">Conj</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacio</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Conj a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">menor</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Ord a =&gt; Conj a -&gt; a</span>
<span class="w">   </span><span class="nf">elimina</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">pertenece</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Bool</span>
<span class="w">   </span><span class="nf">esVacio</span><span class="w">    </span><span class="c1">-- Conj a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">TAD.ConjuntoConListasNoOrdenadasConDuplicados</span>
<span class="c1">-- import TAD.ConjuntoConListasNoOrdenadasSinDuplicados</span>
<span class="c1">-- import TAD.ConjuntoConListasOrdenadasSinDuplicados</span>
<span class="c1">-- import TAD.ConjuntosConLibreria</span>
</pre></div>

<p>Para usar el TAD hay que usar una implementación concreta. En principio, consideraremos las siguientes:</p>
<ul>
<li>mediante listas no ordenadas con duplicados,</li>
<li>mediante listas no ordenadas sin duplicados,</li>
<li>mediante listas ordenadas sin duplicados y</li>
<li>mediante la librería de conjuntos.</li>
</ul>
<h3>2.2. Implementación de los conjuntos mediante listas no ordenadas con duplicados</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3Dodqzf">ConjuntoConListasNoOrdenadasConDuplicados.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ConjuntoConListasNoOrdenadasConDuplicados</span>
<span class="w">  </span><span class="p">(</span><span class="kt">Conj</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacio</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Conj a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">menor</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Ord a =&gt; Conj a -&gt; a</span>
<span class="w">   </span><span class="nf">elimina</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">pertenece</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Bool</span>
<span class="w">   </span><span class="nf">esVacio</span><span class="w">    </span><span class="c1">-- Conj a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">intercalate</span><span class="p">,</span><span class="w"> </span><span class="nf">nub</span><span class="p">,</span><span class="w"> </span><span class="nf">sort</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.QuickCheck</span>

<span class="c1">-- Conjuntos como listas no ordenadas con repeticiones:</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>

<span class="c1">-- (escribeConjunto c) es la cadena correspondiente al conjunto c. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [])</span>
<span class="c1">--    "{}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5])</span>
<span class="c1">--    "{5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [2, 5])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5, 2, 5])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="s">"{"</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">intercalate</span><span class="w"> </span><span class="s">", "</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="n">sort</span><span class="w"> </span><span class="p">(</span><span class="n">nub</span><span class="w"> </span><span class="n">xs</span><span class="p">)))</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">"}"</span>

<span class="c1">-- Procedimiento de escritura de conjuntos.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">escribeConjunto</span>

<span class="c1">-- Nota: Aunque el conjunto no está ordenado y tenga repeticiones, al</span>
<span class="c1">-- escribirlo se hará sin repeticiones y ordenando sus elementos.</span>

<span class="c1">-- vacio es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; vacio</span>
<span class="c1">--    {}</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span>

<span class="c1">-- (inserta x c) es el conjunto obtenido añadiendo el elemento x al</span>
<span class="c1">-- conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; inserta 5 vacio</span>
<span class="c1">--    {5}</span>
<span class="c1">--    λ&gt; inserta 2 (inserta 5 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="c1">--    λ&gt; inserta 5 (inserta 2 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="nf">inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span>

<span class="c1">-- (menor c) es el menor elemento del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; menor (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    2</span>
<span class="nf">menor</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">"conjunto vacío"</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (elimina x c) es el conjunto obtenido eliminando el elemento x</span>
<span class="c1">-- del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; elimina 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    {5}</span>
<span class="nf">elimina</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">filter</span><span class="w"> </span><span class="p">(</span><span class="o">/=</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span>

<span class="c1">-- (esVacio c) se verifica si c es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; esVacio (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="c1">--    λ&gt; esVacio vacio</span>
<span class="c1">--    True</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (pertenece x c) se verifica si x pertenece al conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; pertenece 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; pertenece 4 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">`</span><span class="n">elem</span><span class="p">`</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (subconjunto c1 c2) se verifica si c1 es un subconjunto de c2. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    subconjunto (Cj [1,3,2,1]) (Cj [3,1,3,2])  ==  True</span>
<span class="c1">--    subconjunto (Cj [1,3,4,1]) (Cj [3,1,3,2])  ==  False</span>
<span class="nf">subconjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">subconjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="n">ys</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">_</span><span class="w">      </span><span class="ow">=</span><span class="w"> </span><span class="kt">True</span>
<span class="w">        </span><span class="n">sublista</span><span class="w"> </span><span class="p">(</span><span class="n">z</span><span class="kt">:</span><span class="n">zs</span><span class="p">)</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">elem</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="n">zs</span><span class="w"> </span><span class="n">vs</span>

<span class="c1">-- (igualConjunto c1 c2) se verifica si los conjuntos c1 y c2 son</span>
<span class="c1">-- iguales. Por ejemplo,</span>
<span class="c1">--    igualConjunto (Cj [1,3,2,1]) (Cj [3,1,3,2])  ==  True</span>
<span class="c1">--    igualConjunto (Cj [1,3,4,1]) (Cj [3,1,3,2])  ==  False</span>
<span class="nf">igualConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">igualConjunto</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">subconjunto</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">subconjunto</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="n">c</span>

<span class="c1">--- Los conjuntos son comparables por igualdad.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="p">(</span><span class="o">==</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">igualConjunto</span>

<span class="c1">-- Generador de conjuntos                                          --</span>
<span class="c1">-- ======================</span>

<span class="c1">-- genConjunto es un generador de conjuntos. Por ejemplo,</span>
<span class="c1">--    λ&gt; sample (genConjunto :: Gen (Conj Int))</span>
<span class="c1">--    {}</span>
<span class="c1">--    {1}</span>
<span class="c1">--    {0, 2, 3}</span>
<span class="c1">--    {-6, 5}</span>
<span class="c1">--    {2, 5}</span>
<span class="c1">--    {-9, -6, 4, 8}</span>
<span class="c1">--    {0, 1}</span>
<span class="c1">--    {-13, -11, -5, -2, -1, 0, 4, 6, 7, 8, 9, 14}</span>
<span class="c1">--    {-7, -5, -2, -1, 1, 2, 10, 13, 15}</span>
<span class="c1">--    {-18, -17, -16, -10, -9, 0, 1, 3, 4, 13, 16}</span>
<span class="c1">--    {-20, -15, -7, -1, 2, 8, 10, 15, 20}</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Gen</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">listOf</span><span class="w"> </span><span class="n">arbitrary</span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- Los conjuntos son concreciones de los arbitrarios.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Arbitrary</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">arbitrary</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">genConjunto</span>

<span class="c1">-- Propiedades de los conjuntos                                        --</span>
<span class="c1">-- ============================</span>

<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="kr">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span>
<span class="w">                              </span><span class="kr">then</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>
<span class="w">                              </span><span class="kr">else</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span>

<span class="c1">-- Comprobación</span>
<span class="c1">--    λ&gt; quickCheck prop_conjuntos</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>
</pre></div>

<h3>2.3. Implementación de los conjuntos mediante listas no ordenadas sin duplicados</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3HeojVD">ConjuntoConListasNoOrdenadasSinDuplicados.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ConjuntoConListasNoOrdenadasSinDuplicados</span>
<span class="w">  </span><span class="p">(</span><span class="kt">Conj</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacio</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Conj a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">menor</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Ord a =&gt; Conj a -&gt; a</span>
<span class="w">   </span><span class="nf">elimina</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">pertenece</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Bool</span>
<span class="w">   </span><span class="nf">esVacio</span><span class="w">    </span><span class="c1">-- Conj a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">intercalate</span><span class="p">,</span><span class="w"> </span><span class="nf">sort</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.QuickCheck</span>

<span class="c1">-- Los conjuntos como listas no ordenadas sin repeticiones.</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>

<span class="c1">-- (escribeConjunto c) es la cadena correspondiente al conjunto c. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [])</span>
<span class="c1">--    "{}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5])</span>
<span class="c1">--    "{5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [2, 5])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5, 2])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="s">"{"</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">intercalate</span><span class="w"> </span><span class="s">", "</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="n">sort</span><span class="w"> </span><span class="n">xs</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">"}"</span>

<span class="c1">-- Procedimiento de escritura de conjuntos.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">escribeConjunto</span>

<span class="c1">-- vacio es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; vacio</span>
<span class="c1">--    {}</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span>

<span class="c1">-- (inserta x c) es el conjunto obtenido añadiendo el elemento x al</span>
<span class="c1">-- conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; inserta 5 vacio</span>
<span class="c1">--    {5}</span>
<span class="c1">--    λ&gt; inserta 2 (inserta 5 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="c1">--    λ&gt; inserta 5 (inserta 2 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="nf">inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="o">@</span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">s</span>
<span class="w">                    </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- (menor c) es el menor elemento del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; menor (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    2</span>
<span class="nf">menor</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">"conjunto vacío"</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (elimina x c) es el conjunto obtenido eliminando el elemento x</span>
<span class="c1">-- del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; elimina 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    {5}</span>
<span class="nf">elimina</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">x</span><span class="p">]</span>

<span class="c1">-- (esVacio c) se verifica si c es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; esVacio (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="c1">--    λ&gt; esVacio vacio</span>
<span class="c1">--    True</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (pertenece x c) se verifica si x pertenece al conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; pertenece 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; pertenece 4 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">`</span><span class="n">elem</span><span class="p">`</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (subconjunto c1 c2) se verifica si c1 es un subconjunto de c2. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    subconjunto (Cj [1,3,2]) (Cj [3,1,2])    ==  True</span>
<span class="c1">--    subconjunto (Cj [1,3,4,1]) (Cj [1,3,2])  ==  False</span>
<span class="nf">subconjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">subconjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="n">ys</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">_</span><span class="w">      </span><span class="ow">=</span><span class="w"> </span><span class="kt">True</span>
<span class="w">        </span><span class="n">sublista</span><span class="w"> </span><span class="p">(</span><span class="n">z</span><span class="kt">:</span><span class="n">zs</span><span class="p">)</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">elem</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">vs</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sublista</span><span class="w"> </span><span class="n">zs</span><span class="w"> </span><span class="n">vs</span>

<span class="c1">-- (igualConjunto c1 c2) se verifica si los conjuntos c1 y c2 son</span>
<span class="c1">-- iguales. Por ejemplo,</span>
<span class="c1">--    igualConjunto (Cj [3,2,1]) (Cj [1,3,2])  ==  True</span>
<span class="c1">--    igualConjunto (Cj [1,3,4]) (Cj [1,3,2])  ==  False</span>
<span class="nf">igualConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">igualConjunto</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">subconjunto</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">subconjunto</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="n">c</span>

<span class="c1">--- Los conjuntos son comparables por igualdad.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="p">(</span><span class="o">==</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">igualConjunto</span>

<span class="c1">-- Generador de conjuntos                                          --</span>
<span class="c1">-- ======================</span>

<span class="c1">-- genConjunto es un generador de conjuntos. Por ejemplo,</span>
<span class="c1">--    λ&gt; sample (genConjunto :: Gen (Conj Int))</span>
<span class="c1">--    {}</span>
<span class="c1">--    {-1, 0}</span>
<span class="c1">--    {-4, 1, 2}</span>
<span class="c1">--    {-3, 0, 2, 3, 4}</span>
<span class="c1">--    {-7}</span>
<span class="c1">--    {-10, -7, -5, -2, -1, 2, 5, 8}</span>
<span class="c1">--    {5, 7, 8, 10}</span>
<span class="c1">--    {-9, -6, -3, 8}</span>
<span class="c1">--    {-8, -6, -5, -1, 7, 9, 14}</span>
<span class="c1">--    {-18, -15, -14, -13, -3, -2, 1, 2, 4, 8, 12, 17}</span>
<span class="c1">--    {-17, -16, -13, -12, -11, -9, -6, -3, 0, 1, 3, 5, 6, 7, 16, 18}</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Gen</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">listOf</span><span class="w"> </span><span class="n">arbitrary</span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- Los conjuntos son concreciones de los arbitrarios.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Arbitrary</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">arbitrary</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">genConjunto</span>

<span class="c1">-- Propiedades de los conjuntos                                        --</span>
<span class="c1">-- ============================</span>

<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="kr">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span>
<span class="w">                              </span><span class="kr">then</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>
<span class="w">                              </span><span class="kr">else</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span>

<span class="c1">-- Comprobación</span>
<span class="c1">--    λ&gt; quickCheck prop_conjuntos</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>
</pre></div>

<h3>2.4. Implementación de los conjuntos mediante listas ordenadas sin repeticiones</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3HFEtbZ">ConjuntoConListasOrdenadasSinDuplicados.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ConjuntoConListasOrdenadasSinDuplicados</span>
<span class="w">  </span><span class="p">(</span><span class="kt">Conj</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacio</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Conj a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">menor</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Ord a =&gt; Conj a -&gt; a</span>
<span class="w">   </span><span class="nf">elimina</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">pertenece</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Bool</span>
<span class="w">   </span><span class="nf">esVacio</span><span class="w">    </span><span class="c1">-- Conj a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">intercalate</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.QuickCheck</span>

<span class="c1">-- Los conjuntos como listas ordenadas sin repeticiones.</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="kt">Eq</span>

<span class="c1">-- (escribeConjunto c) es la cadena correspondiente al conjunto c. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [])</span>
<span class="c1">--    "{}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5])</span>
<span class="c1">--    "{5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [2, 5])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj [5, 2])</span>
<span class="c1">--    "{2, 5}"</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="s">"{"</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">intercalate</span><span class="w"> </span><span class="s">", "</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">"}"</span>

<span class="c1">-- Procedimiento de escritura de conjuntos.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">escribeConjunto</span>

<span class="c1">-- vacio es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; vacio</span>
<span class="c1">--    {}</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span>

<span class="c1">-- (inserta x c) es el conjunto obtenido añadiendo el elemento x al</span>
<span class="c1">-- conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; inserta 5 vacio</span>
<span class="c1">--    {5}</span>
<span class="c1">--    λ&gt; inserta 2 (inserta 5 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="c1">--    λ&gt; inserta 5 (inserta 2 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="nf">inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">agrega</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">agrega</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="kt">[]</span><span class="w">                     </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">z</span><span class="p">]</span>
<span class="w">        </span><span class="n">agrega</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">s'</span><span class="o">@</span><span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">y</span><span class="w">      </span><span class="ow">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">agrega</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">ys</span>
<span class="w">                           </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">y</span><span class="w">      </span><span class="ow">=</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">s'</span>
<span class="w">                           </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="n">s'</span>

<span class="c1">-- (menor c) es el menor elemento del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; menor (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    2</span>
<span class="nf">menor</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="kt">[]</span><span class="p">)</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">"conjunto vacío"</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span>

<span class="c1">-- (elimina x c) es el conjunto obtenido eliminando el elemento x</span>
<span class="c1">-- del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; elimina 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    {5}</span>
<span class="nf">elimina</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">elimina'</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">elimina'</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="kt">[]</span><span class="w">                    </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="w">        </span><span class="n">elimina'</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">s'</span><span class="o">@</span><span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">y</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">elimina'</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">ys</span>
<span class="w">                             </span><span class="o">|</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">y</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="n">s'</span>
<span class="w">                             </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">ys</span>

<span class="c1">-- (esVacio c) se verifica si c es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; esVacio (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="c1">--    λ&gt; esVacio vacio</span>
<span class="c1">--    True</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (pertenece x c) se verifica si x pertenece al conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; pertenece 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; pertenece 4 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">`</span><span class="n">elem</span><span class="p">`</span><span class="w"> </span><span class="n">takeWhile</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">s</span>

<span class="c1">-- Generador de conjuntos                                          --</span>
<span class="c1">-- ======================</span>

<span class="c1">-- genConjunto es un generador de conjuntos. Por ejemplo,</span>
<span class="c1">--    λ&gt; sample (genConjunto :: Gen (Conj Int))</span>
<span class="c1">--    {}</span>
<span class="c1">--    {1}</span>
<span class="c1">--    {2}</span>
<span class="c1">--    {}</span>
<span class="c1">--    {-5, -1}</span>
<span class="c1">--    {-9, -8, 2, 3, 10}</span>
<span class="c1">--    {4}</span>
<span class="c1">--    {-13, -7, 1, 14}</span>
<span class="c1">--    {-12, -10, -9, -4, 1, 2, 5, 14, 16}</span>
<span class="c1">--    {-18, -15, -14, -13, -10, -7, -6, -4, -1, 1, 10, 11, 12, 16}</span>
<span class="c1">--    {-16, -9, -6, -5, -4, -2, 3, 6, 9, 13, 17}</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Gen</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">listOf</span><span class="w"> </span><span class="n">arbitrary</span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- Los conjuntos son concreciones de los arbitrarios.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Arbitrary</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">arbitrary</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">genConjunto</span>

<span class="c1">-- Propiedades de los conjuntos                                        --</span>
<span class="c1">-- ============================</span>

<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="kr">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span>
<span class="w">                              </span><span class="kr">then</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>
<span class="w">                              </span><span class="kr">else</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span>

<span class="c1">-- Comprobación</span>
<span class="c1">--    λ&gt; quickCheck prop_conjuntos</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>
</pre></div>

<h3>2.5. Implementación de los conjuntos mediante librería</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3HeBCFr">ConjuntoConLibreria.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ConjuntoConLibreria</span>
<span class="w">  </span><span class="p">(</span><span class="kt">Conj</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacio</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Conj a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">menor</span><span class="p">,</span><span class="w">     </span><span class="c1">-- Ord a =&gt; Conj a -&gt; a</span>
<span class="w">   </span><span class="nf">elimina</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Conj a</span>
<span class="w">   </span><span class="nf">pertenece</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; Conj a -&gt; Bool</span>
<span class="w">   </span><span class="nf">esVacio</span><span class="w">    </span><span class="c1">-- Conj a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">Data.Set</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="p">(</span><span class="kt">Set</span><span class="p">,</span><span class="w"> </span><span class="n">empty</span><span class="p">,</span><span class="w"> </span><span class="n">insert</span><span class="p">,</span><span class="w"> </span><span class="n">findMin</span><span class="p">,</span><span class="w"> </span><span class="n">delete</span><span class="p">,</span><span class="w"> </span><span class="n">member</span><span class="p">,</span><span class="w"> </span><span class="n">null</span><span class="p">,</span>
<span class="w">                      </span><span class="n">fromList</span><span class="p">,</span><span class="w"> </span><span class="n">toList</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">intercalate</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.QuickCheck</span>

<span class="c1">-- Los conjuntos como conjuntos de la librería Data.Set</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="kt">Set</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="p">)</span>

<span class="c1">-- (escribeConjunto c) es la cadena correspondiente al conjunto c. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj (fromList []))</span>
<span class="c1">--    "{}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj (fromList [5]))</span>
<span class="c1">--    "{5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj (fromList [2, 5]))</span>
<span class="c1">--    "{2, 5}"</span>
<span class="c1">--    λ&gt; escribeConjunto (Cj (fromList [5, 2]))</span>
<span class="c1">--    "{2, 5}"</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">escribeConjunto</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="s">"{"</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">intercalate</span><span class="w"> </span><span class="s">", "</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="n">toList</span><span class="w"> </span><span class="n">s</span><span class="p">))</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">"}"</span>

<span class="c1">-- Procedimiento de escritura de conjuntos.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">escribeConjunto</span>

<span class="c1">-- vacio es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; vacio</span>
<span class="c1">--    {}</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">vacio</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="n">empty</span>

<span class="c1">-- (inserta x c) es el conjunto obtenido añadiendo el elemento x al</span>
<span class="c1">-- conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; inserta 5 vacio</span>
<span class="c1">--    {5}</span>
<span class="c1">--    λ&gt; inserta 2 (inserta 5 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="c1">--    λ&gt; inserta 5 (inserta 2 vacio)</span>
<span class="c1">--    {2, 5}</span>
<span class="nf">inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">insert</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>

<span class="c1">-- (menor c) es el menor elemento del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; menor (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    2</span>
<span class="nf">menor</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">menor</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">findMin</span><span class="w"> </span><span class="n">s</span>

<span class="c1">-- (elimina x c) es el conjunto obtenido eliminando el elemento x</span>
<span class="c1">-- del conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; elimina 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    {5}</span>
<span class="nf">elimina</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span>
<span class="nf">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">delete</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>

<span class="c1">-- (esVacio c) se verifica si c es el conjunto vacío. Por ejemplo,</span>
<span class="c1">--    λ&gt; esVacio (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="c1">--    λ&gt; esVacio vacio</span>
<span class="c1">--    True</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esVacio</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">S</span><span class="o">.</span><span class="n">null</span><span class="w"> </span><span class="n">s</span>

<span class="c1">-- (pertenece x c) se verifica si x pertenece al conjunto c. Por ejemplo,</span>
<span class="c1">--    λ&gt; pertenece 2 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; pertenece 4 (inserta 5 (inserta 2 vacio))</span>
<span class="c1">--    False</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">member</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">s</span>

<span class="c1">-- Generador de conjuntos                                          --</span>
<span class="c1">-- ======================</span>

<span class="c1">-- genConjunto es un generador de conjuntos. Por ejemplo,</span>
<span class="c1">--    λ&gt; sample (genConjunto :: Gen (Conj Int))</span>
<span class="c1">--    {}</span>
<span class="c1">--    {-2, 0}</span>
<span class="c1">--    {-1, 3}</span>
<span class="c1">--    {-3, 2}</span>
<span class="c1">--    {-5, -4, -3, 2, 4, 6, 7}</span>
<span class="c1">--    {-4, 4}</span>
<span class="c1">--    {-9, -6, -3, 1, 5, 11, 12}</span>
<span class="c1">--    {-10, -8, -7, -3, 1, 2, 8, 9, 10, 13}</span>
<span class="c1">--    {-13, -8, -7, -6, -1, 0, 1, 6, 7, 9, 11, 14, 16}</span>
<span class="c1">--    {-15, -12, -9, 1, 2, 9, 13, 15, 16, 18}</span>
<span class="c1">--    {-16}</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Gen</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="nf">genConjunto</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">listOf</span><span class="w"> </span><span class="n">arbitrary</span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="kt">Cj</span><span class="w"> </span><span class="p">(</span><span class="n">fromList</span><span class="w"> </span><span class="n">xs</span><span class="p">))</span>

<span class="c1">-- Los conjuntos son concreciones de los arbitrarios.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Arbitrary</span><span class="w"> </span><span class="p">(</span><span class="kt">Conj</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">arbitrary</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">genConjunto</span>

<span class="c1">-- Propiedades de los conjuntos                                        --</span>
<span class="c1">-- ============================</span>

<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_conjuntos</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">pertenece</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">pertenece</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vacio</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="kr">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span>
<span class="w">                              </span><span class="kr">then</span><span class="w"> </span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>
<span class="w">                              </span><span class="kr">else</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">elimina</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">vacio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Conj</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">esVacio</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span>

<span class="c1">-- Comprobación</span>
<span class="c1">--    λ&gt; quickCheck prop_conjuntos</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>
</pre></div>

<h2>3. Los conjuntos en Python</h2>
<h3>3.1. El tipo abstracto de los conjuntos en Python</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/40aLTv6">conjunto.py</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Conj'</span><span class="p">,</span>
    <span class="s1">'vacio'</span><span class="p">,</span>
    <span class="s1">'inserta'</span><span class="p">,</span>
    <span class="s1">'menor'</span><span class="p">,</span>
    <span class="s1">'elimina'</span><span class="p">,</span>
    <span class="s1">'pertenece'</span><span class="p">,</span>
    <span class="s1">'esVacio'</span><span class="p">,</span>
    <span class="s1">'conjuntoAleatorio'</span>
<span class="p">]</span>

<span class="c1"># from src.TAD.conjuntoConListasNoOrdenadasConDuplicados import (</span>
<span class="c1">#     Conj, conjuntoAleatorio, elimina, esVacio, inserta,</span>
<span class="c1">#     menor, pertenece, vacio)</span>

<span class="c1"># from src.TAD.conjuntoConListasNoOrdenadasSinDuplicados import (</span>
<span class="c1">#     Conj, conjuntoAleatorio, elimina, esVacio, inserta, menor, pertenece,</span>
<span class="c1">#     vacio)</span>

<span class="kn">from</span> <span class="nn">src.TAD.conjuntoConListasOrdenadasSinDuplicados</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Conj</span><span class="p">,</span> <span class="n">conjuntoAleatorio</span><span class="p">,</span> <span class="n">elimina</span><span class="p">,</span> <span class="n">esVacio</span><span class="p">,</span> <span class="n">inserta</span><span class="p">,</span> <span class="n">menor</span><span class="p">,</span> <span class="n">pertenece</span><span class="p">,</span>
    <span class="n">vacio</span><span class="p">)</span>

<span class="c1"># from src.TAD.conjuntoConLibreria import (</span>
<span class="c1">#     Conj, conjuntoAleatorio, elimina, esVacio, inserta, menor, pertenece,</span>
<span class="c1">#     vacio)</span>
</pre></div>

<p>Para usar el TAD hay que usar una implementación concreta. En principio, consideraremos las siguientes:</p>
<ul>
<li>mediante listas no ordenadas con duplicados,</li>
<li>mediante listas no ordenadas sin duplicados,</li>
<li>mediante listas ordenadas sin duplicados y</li>
<li>mediante la librería de conjuntos.</li>
</ul>
<h3>3.2. Implementación de los conjuntos mediante listas no ordenadas con duplicados</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3kxW4JT">conjuntoConListasNoOrdenadasConDuplicados.py</a> en el que se define la clase Conj con los siguientes métodos:</p>
<ul>
<li>inserta(x) añade x al conjunto.</li>
<li>menor() es el menor elemento del conjunto.</li>
<li>elimina(x) elimina las ocurrencias de x en el conjunto.</li>
<li>pertenece(x) se verifica si x pertenece al conjunto.</li>
<li>esVacia() se verifica si la cola es vacía.</li>
</ul>
<p>Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Conj</span><span class="nb">()</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span>
<span class="w">   </span><span class="p">{}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span>
<span class="w">   </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">menor</span><span class="nb">()</span>
<span class="w">   </span><span class="mi">2</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">elimina</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span>
<span class="w">   </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="kt">False</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="nb">()</span>
<span class="w">   </span><span class="kt">False</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Conj</span><span class="nb">()</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="nb">()</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Conj</span><span class="nb">()</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Conj</span><span class="nb">()</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">d</span>
<span class="w">   </span><span class="kt">True</span>
</pre></div>

<p>Además se definen las correspondientes funciones. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span>
<span class="w">   </span><span class="p">{}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">))))</span>
<span class="w">   </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">menor</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">)))))</span>
<span class="w">   </span><span class="mi">2</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">elimina</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">)))))</span>
<span class="w">   </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">pertenece</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">)))))</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">pertenece</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">)))))</span>
<span class="w">   </span><span class="kt">False</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">esVacio</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">)))))</span>
<span class="w">   </span><span class="kt">False</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">esVacio</span><span class="p">(</span><span class="n">vacio</span><span class="nb">()</span><span class="p">)</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inserta</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">vacio</span><span class="nb">()</span><span class="p">))))</span>
<span class="w">   </span><span class="kt">True</span>
</pre></div>

<p>Finalmente, se define un generador aleatorio de conjuntos y se comprueba que los conjuntos cumplen las propiedades de su especificación.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Conj'</span><span class="p">,</span>
    <span class="s1">'vacio'</span><span class="p">,</span>
    <span class="s1">'inserta'</span><span class="p">,</span>
    <span class="s1">'menor'</span><span class="p">,</span>
    <span class="s1">'elimina'</span><span class="p">,</span>
    <span class="s1">'pertenece'</span><span class="p">,</span>
    <span class="s1">'esVacio'</span><span class="p">,</span>
    <span class="s1">'conjuntoAleatorio'</span>
<span class="p">]</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>

<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="c1"># Clase de los conjuntos mediante listas no ordenadas con duplicados</span>
<span class="c1"># ==================================================================</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Conj</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">A</span><span class="p">]):</span>
    <span class="n">_elementos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve una cadena con los elementos del conjunto entre llaves</span>
<span class="sd">        y separados por ", ".</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s1">'{'</span> <span class="o">+</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">))))</span> <span class="o">+</span> <span class="s1">'}'</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto es igual a c; es decir, tienen los</span>
<span class="sd">        mismos elementos sin importar el orden ni las repeticiones.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Añade el elemento x al conjunto.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve el menor elemento del conjunto</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Elimina el elemento x del conjunto.</span>
<span class="sd">        """</span>
        <span class="k">while</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto está vacío.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

    <span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si x pertenece al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

<span class="c1"># Funciones del tipo conjunto</span>
<span class="c1"># ===========================</span>

<span class="k">def</span> <span class="nf">vacio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Crea y devuelve un conjunto vacío de tipo A.</span>
<span class="sd">    """</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">Conj</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Inserta un elemento x en el conjunto c y devuelve un nuevo comjunto</span>
<span class="sd">    con el elemento insertado.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve el menor elemento del conjunto c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">menor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Elimina las ocurrencias de c en c y devuelve una copia del conjunto</span>
<span class="sd">    resultante.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si x pertenece a c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si el conjunto está vacío.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="p">()</span>

<span class="c1"># Generador de conjuntos</span>
<span class="c1"># ======================</span>

<span class="k">def</span> <span class="nf">conjuntoAleatorio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">st</span><span class="o">.</span><span class="n">SearchStrategy</span><span class="p">[</span><span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Genera una estrategia de búsqueda para generar conjuntos de enteros</span>
<span class="sd">    de forma aleatoria.</span>

<span class="sd">    Utiliza la librería Hypothesis para generar una lista de enteros y</span>
<span class="sd">    luego se convierte en una instancia de la clase cola.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">lists</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Conj</span><span class="p">)</span>

<span class="c1"># Comprobación de las propiedades de los conjuntos</span>
<span class="c1"># ================================================</span>

<span class="c1"># Las propiedades son</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">conjuntoAleatorio</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_conjuntos</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">v</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">vacio</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span> <span class="ow">or</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="n">v</span>

    <span class="k">def</span> <span class="nf">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="c1"># La comprobación es</span>
<span class="c1">#    &gt; poetry run pytest -q conjuntoConListasNoOrdenadasConDuplicados.py</span>
<span class="c1">#    1 passed in 0.33s</span>
</pre></div>

<h3>3.3. Implementación de los conjuntos mediante listas no ordenadas sin duplicados</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3WN4AlH">conjuntoConListasNoOrdenadasSinDuplicados.py</a> cuyo contenido es</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Conj'</span><span class="p">,</span>
    <span class="s1">'vacio'</span><span class="p">,</span>
    <span class="s1">'inserta'</span><span class="p">,</span>
    <span class="s1">'menor'</span><span class="p">,</span>
    <span class="s1">'elimina'</span><span class="p">,</span>
    <span class="s1">'pertenece'</span><span class="p">,</span>
    <span class="s1">'esVacio'</span><span class="p">,</span>
    <span class="s1">'conjuntoAleatorio'</span>
<span class="p">]</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>

<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="c1"># Clase de los conjuntos mediante listas no ordenadas sin duplicados</span>
<span class="c1"># ==================================================================</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Conj</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">A</span><span class="p">]):</span>
    <span class="n">_elementos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve una cadena con los elementos del conjunto entre llaves</span>
<span class="sd">        y separados por ", ".</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s1">'{'</span> <span class="o">+</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">))</span> <span class="o">+</span> <span class="s1">'}'</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto es igual a c; es decir, tienen los</span>
<span class="sd">        mismos elementos sin importar el orden ni las repeticiones.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Añade el elemento x al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve el menor elemento del conjunto</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Elimina el elemento x del conjunto.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto está vacío.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

    <span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si x pertenece al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

<span class="c1"># Funciones del tipo conjunto</span>
<span class="c1"># ===========================</span>

<span class="k">def</span> <span class="nf">vacio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Crea y devuelve un conjunto vacío de tipo A.</span>
<span class="sd">    """</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">Conj</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Inserta un elemento x en el conjunto c y devuelve un nuevo comjunto</span>
<span class="sd">    con el elemento insertado.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve el menor elemento del conjunto c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">menor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Elimina las ocurrencias de c en c y devuelve una copia del conjunto</span>
<span class="sd">    resultante.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si x pertenece a c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si el conjunto está vacío.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="p">()</span>

<span class="c1"># Generador de conjuntos</span>
<span class="c1"># ======================</span>

<span class="k">def</span> <span class="nf">sin_duplicados</span><span class="p">(</span><span class="n">xs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">conjuntoAleatorio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">st</span><span class="o">.</span><span class="n">SearchStrategy</span><span class="p">[</span><span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Estrategia de búsqueda para generar conjuntos de enteros de forma</span>
<span class="sd">    aleatoria.</span>
<span class="sd">    """</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">lists</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sin_duplicados</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xs</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Conj</span><span class="p">)</span>

<span class="c1"># Comprobación de las propiedades de los conjuntos</span>
<span class="c1"># ================================================</span>

<span class="c1"># Las propiedades son</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">conjuntoAleatorio</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_conjuntos</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span> <span class="ow">or</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span> <span class="o">==</span> <span class="n">vacio</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="c1"># La comprobación es</span>
<span class="c1">#    &gt; poetry run pytest -q conjuntoConListasNoOrdenadasSinDuplicados.py</span>
<span class="c1">#    1 passed in 0.26s</span>
</pre></div>

<h3>3.4. Implementación de los conjuntos mediante listas ordenadas sin duplicados</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3XNETT9">conjuntoConListasOrdenadasSinDuplicados.py</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Conj'</span><span class="p">,</span>
    <span class="s1">'vacio'</span><span class="p">,</span>
    <span class="s1">'inserta'</span><span class="p">,</span>
    <span class="s1">'menor'</span><span class="p">,</span>
    <span class="s1">'elimina'</span><span class="p">,</span>
    <span class="s1">'pertenece'</span><span class="p">,</span>
    <span class="s1">'esVacio'</span><span class="p">,</span>
    <span class="s1">'conjuntoAleatorio'</span>
<span class="p">]</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">bisect</span> <span class="kn">import</span> <span class="n">bisect_left</span><span class="p">,</span> <span class="n">insort_left</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">takewhile</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>

<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="c1"># Clase de los conjuntos mediante listas ordenadas sin duplicados</span>
<span class="c1"># ===============================================================</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Conj</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">A</span><span class="p">]):</span>
    <span class="n">_elementos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve una cadena con los elementos del conjunto entre llaves</span>
<span class="sd">        y separados por ", ".</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="s1">'{'</span> <span class="o">+</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'}'</span>

    <span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Añade el elemento x al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="n">insort_left</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve el menor elemento del conjunto</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Elimina el elemento x del conjunto.</span>
<span class="sd">        """</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">bisect_left</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pos</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto está vacío.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

    <span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si x pertenece al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">takewhile</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

<span class="c1"># Funciones del tipo conjunto</span>
<span class="c1"># ===========================</span>

<span class="k">def</span> <span class="nf">vacio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Crea y devuelve un conjunto vacío de tipo A.</span>
<span class="sd">    """</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">Conj</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Inserta un elemento x en el conjunto c y devuelve un nuevo comjunto</span>
<span class="sd">    con el elemento insertado.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve el menor elemento del conjunto c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">menor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Elimina las ocurrencias de c en c y devuelve una copia del conjunto</span>
<span class="sd">    resultante.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si x pertenece a c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si el conjunto está vacío.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="p">()</span>

<span class="c1"># Generador de conjuntos</span>
<span class="c1"># ======================</span>

<span class="k">def</span> <span class="nf">sin_duplicados_y_ordenado</span><span class="p">(</span><span class="n">xs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
    <span class="n">xs</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">xs</span>

<span class="k">def</span> <span class="nf">conjuntoAleatorio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">st</span><span class="o">.</span><span class="n">SearchStrategy</span><span class="p">[</span><span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Estrategia de búsqueda para generar conjuntos de enteros de forma</span>
<span class="sd">    aleatoria.</span>
<span class="sd">    """</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">lists</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sin_duplicados_y_ordenado</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xs</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Conj</span><span class="p">)</span>

<span class="c1"># Comprobación de las propiedades de los conjuntos</span>
<span class="c1"># ================================================</span>

<span class="c1"># Las propiedades son</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">conjuntoAleatorio</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_conjuntos</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span> <span class="ow">or</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span> <span class="o">==</span> <span class="n">vacio</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="c1"># La comprobación es</span>
<span class="c1">#    &gt; poetry run pytest -q conjuntoConListasOrdenadasSinDuplicados.py</span>
<span class="c1">#    1 passed in 0.13s</span>
</pre></div>

<h3>3.5. Implementación de los conjuntos mediante librería</h3>
<p>La implementación se encuentra en el módulo <a href="https://bit.ly/3wEoxjP">conjuntoConLibreria.py</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Conj'</span><span class="p">,</span>
    <span class="s1">'vacio'</span><span class="p">,</span>
    <span class="s1">'inserta'</span><span class="p">,</span>
    <span class="s1">'menor'</span><span class="p">,</span>
    <span class="s1">'elimina'</span><span class="p">,</span>
    <span class="s1">'pertenece'</span><span class="p">,</span>
    <span class="s1">'esVacio'</span><span class="p">,</span>
    <span class="s1">'conjuntoAleatorio'</span>
<span class="p">]</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>

<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="c1"># Clase de los conjuntos mediante librería</span>
<span class="c1"># ========================================</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Conj</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">A</span><span class="p">]):</span>
    <span class="n">_elementos</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">set</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">"{"</span> <span class="o">+</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"}"</span>

    <span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Añade el elemento x al conjunto.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve el menor elemento del conjunto</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Elimina el elemento x del conjunto.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si el conjunto está vacío.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

    <span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Se verifica si x pertenece al conjunto.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

<span class="c1"># Funciones del tipo conjunto</span>
<span class="c1"># ===========================</span>

<span class="k">def</span> <span class="nf">vacio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Crea y devuelve un conjunto vacío de tipo A.</span>
<span class="sd">    """</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">Conj</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Inserta un elemento x en el conjunto c y devuelve un nuevo comjunto</span>
<span class="sd">    con el elemento insertado.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">menor</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve el menor elemento del conjunto c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">menor</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Elimina las ocurrencias de c en c y devuelve una copia del conjunto</span>
<span class="sd">    resultante.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si x pertenece a c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">esVacio</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Se verifica si el conjunto está vacío.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">esVacio</span><span class="p">()</span>

<span class="c1"># Generador de conjuntos</span>
<span class="c1"># ======================</span>

<span class="k">def</span> <span class="nf">conjuntoAleatorio</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">st</span><span class="o">.</span><span class="n">SearchStrategy</span><span class="p">[</span><span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Estrategia de búsqueda para generar conjuntos de enteros de forma</span>
<span class="sd">    aleatoria.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">builds</span><span class="p">(</span><span class="n">Conj</span><span class="p">,</span> <span class="n">st</span><span class="o">.</span><span class="n">lists</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">set</span><span class="p">))</span>

<span class="c1"># Comprobación de las propiedades de los conjuntos</span>
<span class="c1"># ================================================</span>

<span class="c1"># Las propiedades son</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">conjuntoAleatorio</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_conjuntos</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span> <span class="ow">or</span> <span class="n">pertenece</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacio</span><span class="p">())</span> <span class="o">==</span> <span class="n">vacio</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Conj</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="k">assert</span> <span class="n">elimina</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">relacion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">vacio</span><span class="p">())</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">esVacio</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="c1"># La comprobación es</span>
<span class="c1">#    &gt; poetry run pytest -q conjuntoConLibreria.py</span>
<span class="c1">#    1 passed in 0.22s</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../27-maxcola/" rel="prev" title="TAD de las colas - Máximo elemento de una cola">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../../09/04-problema_de_suma_cero/" rel="next" title="Problema de suma cero">Siguiente publicación</a>
            </li>
        </ul></nav></aside></article></main><footer id="footer"><p>Escrito por <a href="https://jaalonso.github.io/">José A. Alonso</a> usando <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> Esta obra está bajo una 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
