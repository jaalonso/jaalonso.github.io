<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Contando en la arena | Exercitium</title>
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="../../../../assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="es" href="../../../../rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/exercitium/posts/2017/03/02-contando_en_la_arena/">
<link rel="icon" href="../../../../favicon.png" sizes="48x48">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta name="twitter:title" content="Contando en la arena | Exercitium">
<meta name="author" content="José A. Alonso">
<link rel="prev" href="../01-calculo_de_pi_mediante_la_serie_de_nilakantha/" title="Cálculo de pi mediante la serie de Nilakantha" type="text/html">
<link rel="next" href="../03-numeros_construibles_como_sumas_de_dos_dados/" title="Números construibles como sumas de dos dados" type="text/html">
<meta property="og:site_name" content="Exercitium">
<meta property="og:title" content="Contando en la arena">
<meta property="og:url" content="https://jaalonso.github.io/exercitium/posts/2017/03/02-contando_en_la_arena/">
<meta property="og:description" content="El problema de ayer de ¡Acepta el reto! fue
Contando en la arena cuyo enunciado reproduzco a continuación:

Es ampliamente conocido que escribimos los números utilizando base 10, en la que expresamos ">
<meta property="og:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-03-02T06:00:00+02:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Jose_A_Alonso">
<meta name="twitter:creator" content="@Jose_A_Alonso">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="../../../../" title="Exercitium" rel="home">

        <span id="blog-title">Exercitium</span>
    </a></h1>
    <div>Ejercicios de programación con Haskell y Python</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="../../../../archive.html">Archivo</a></li>
                <li><a href="../../../../categories/">Etiquetas</a></li>
                <li><a href="../../../../about/">Acerca de</a></li>
                <li><a href="../../../../rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Contando en la arena</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
        <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
</span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2017-03-02T06:00:00+02:00" itemprop="datePublished" title="02-03-2017">02-03-2017</time></a>
            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>El problema de ayer de <a href="https://www.aceptaelreto.com/">¡Acepta el reto!</a> fue
<a href="https://aceptaelreto.com/problem/statement.php?id=369&amp;potw=1">Contando en la arena</a> cuyo enunciado reproduzco a continuación:</p>
<blockquote>
Es ampliamente conocido que escribimos los números utilizando base 10, en la que expresamos las cantidades utilizando 10 dígitos distintos (0…9). El valor de cada uno de ellos depende de la posición que ocupe dentro del número, pues cada dígito se multiplica por una potencia de 10 distinta según cuál sea esa posición.

La descomposición, por ejemplo, del número 1.234 es:
1.234 = 1×10^3 + 2×10^2 + 3×10^1 + 4×10^0

Otra base muy conocida es la base 2 al ser la utilizada por los dispositivos electrónicos. En ella sólo hay dos dígitos distintos (0 y 1), que se ven multiplicados por potencias de 2.

Mucho antes de que llegaran la base 2, la base 10 e incluso los números romanos, los primeros seres humanos contaban haciendo surcos en la arena, muescas en un trozo de madera o colocando palos en línea. Estaban, sin saberlo, usando base 1. En ella sólo hay un símbolo y cada dígito es multiplicado por una potencia de 1. Dado que 1^n = 1 el resultado es que todos los dígitos tienen el mismo peso.
</blockquote>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="nf">transformaAbase1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">FilePath</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">FilePath</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
</pre></div>

<p>tal que al evaluar (transformaAbase1 f1 f2) lee el contenido del fichero f1 (que estará compuesto por distintos números mayores que 0, cada uno en una línea) y escribe en el fichero f2 una línea con la representación en base 1 de cada uno de los números de f1 excepto el 0 final. Por ejemplo, si el contenido de "Entrada.txt" es</p>
<div class="code"><pre class="code literal-block"><span class="mi">1</span>
<span class="mi">4</span>
<span class="mi">6</span>
<span class="mi">0</span>
</pre></div>

<p>al evaluar (transformaAbase1 "Entrada.txt" "Salida.txt") el contenido de "Salida.txt" debe de ser</p>
<div class="code"><pre class="code literal-block"><span class="mi">1</span>
<span class="mi">1111</span>
<span class="mi">111111</span>
</pre></div>

<hr>
<!-- TEASER_END --><h3>Soluciones</h3>
<div class="code"><pre class="code literal-block"><span class="nf">transformaAbase1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">FilePath</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">FilePath</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">transformaAbase1</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">cs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">readFile</span><span class="w"> </span><span class="n">f1</span>
<span class="w">  </span><span class="n">writeFile</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="p">(</span><span class="n">transformaAbase1Aux</span><span class="w"> </span><span class="n">cs</span><span class="p">)</span>

<span class="c1">-- (transformaAbase1Aux cs) es la cadena obtenida transformando a base 1</span>
<span class="c1">-- cada uno de los números de cs. Por ejemplo,</span>
<span class="c1">--    λ&gt; transformaAbase1Aux "1\n4\n6\n0\n"</span>
<span class="c1">--    "1\n1111\n111111\n"</span>
<span class="nf">transformaAbase1Aux</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">transformaAbase1Aux</span><span class="w"> </span><span class="n">cs</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">unlines</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">enBase1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">numeros</span><span class="w"> </span><span class="n">cs</span><span class="p">))</span>

<span class="c1">-- (numeros cs) es la lista de los números de cs, excepto el último. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    numeros "1\n4\n6\n0\n"  ==  [1,4,6]</span>
<span class="nf">numeros</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">numeros</span><span class="w"> </span><span class="n">cs</span><span class="w">  </span><span class="ow">=</span>
<span class="w">  </span><span class="n">init</span><span class="w"> </span><span class="p">(</span><span class="n">map</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="p">(</span><span class="n">lines</span><span class="w"> </span><span class="n">cs</span><span class="p">))</span>

<span class="c1">-- (enBsase1 x) es la representación de x en base 1. Por ejemplo,</span>
<span class="c1">--    enBase1 4  ==  1111</span>
<span class="nf">enBase1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="nf">enBase1</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">div</span><span class="p">`</span><span class="w"> </span><span class="mi">9</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../01-calculo_de_pi_mediante_la_serie_de_nilakantha/" rel="prev" title="Cálculo de pi mediante la serie de Nilakantha">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../03-numeros_construibles_como_sumas_de_dos_dados/" rel="next" title="Números construibles como sumas de dos dados">Siguiente publicación</a>
            </li>
        </ul></nav></aside></article></main><footer id="footer"><p>Escrito por <a href="https://jaalonso.github.io/">José A. Alonso</a> usando <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> Esta obra está bajo una 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
