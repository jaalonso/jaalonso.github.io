<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Primos circulares | Exercitium</title>
<link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="../../../../assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="es" href="../../../../rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/exercitium/posts/2015/04/24-primos_circulares/">
<link rel="icon" href="../../../../favicon.png" sizes="48x48">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta name="twitter:title" content="Primos circulares | Exercitium">
<meta name="author" content="José A. Alonso">
<link rel="prev" href="../23-diccionario_de_frecuencias/" title="Diccionario de frecuencias" type="text/html">
<link rel="next" href="../27-distancia_invierte_y_suma_hasta_capicua/" title="Distancia invierte y suma hasta capicúa" type="text/html">
<meta property="og:site_name" content="Exercitium">
<meta property="og:title" content="Primos circulares">
<meta property="og:url" content="https://jaalonso.github.io/exercitium/posts/2015/04/24-primos_circulares/">
<meta property="og:description" content="Un primo circular es un número tal que todas las rotaciones de sus dígitos producen números primos. Por ejemplo, 195 es un primo circular ya que las rotaciones de sus dígitos son 197, 971 y 719 y los ">
<meta property="og:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-04-24T06:00:00+02:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@Jose_A_Alonso">
<meta name="twitter:creator" content="@Jose_A_Alonso">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="../../../../" title="Exercitium" rel="home">

        <span id="blog-title">Exercitium</span>
    </a></h1>
    <div>Ejercicios de programación con Haskell y Python</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="../../../../archive.html">Archivo</a></li>
                <li><a href="../../../../categories/">Etiquetas</a></li>
                <li><a href="../../../../about/">Acerca de</a></li>
                <li><a href="../../../../rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Primos circulares</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    José A. Alonso
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2015-04-24T06:00:00+02:00" itemprop="datePublished" title="24-04-2015">24-04-2015</time></a>
            </p>
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Un primo circular es un número tal que todas las rotaciones de sus dígitos producen números primos. Por ejemplo, 195 es un primo circular ya que las rotaciones de sus dígitos son 197, 971 y 719 y los tres números son primos.</p>
<p>Definir la constante</p>
<div class="code"><pre class="code literal-block"><span class="nf">circulares</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>cuyo valor es la lista de los números primos circulares. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="nf">take</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="n">circulares</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">79</span><span class="p">]</span>
<span class="nf">circulares</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="mi">50</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">939193</span>
</pre></div>

<hr>
<!-- TEASER_END --><h3>Soluciones</h3>
<div class="code"><pre class="code literal-block"><span class="kr">import</span><span class="w"> </span><span class="nn">Data.Numbers.Primes</span>

<span class="nf">circulares</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">circulares</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">esCircular</span><span class="w"> </span><span class="n">primes</span>

<span class="c1">-- (esCircular n) se verifica si n es un número circular. Por ejemplo,</span>
<span class="c1">--    esCircular 197  ==  True</span>
<span class="c1">--    esCircular 157  ==  False</span>
<span class="nf">esCircular</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esCircular</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="p">(</span><span class="n">isPrime</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">rotaciones</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">show</span>

<span class="c1">-- (rotaciones xs) es la lista de las rotaciones obtenidas desplazando</span>
<span class="c1">-- el primer elemento xs al final. Por ejemplo,</span>
<span class="c1">--    rotaciones [2,3,5]  ==  [[2,3,5],[3,5,2],[5,2,3]]</span>
<span class="nf">rotaciones1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
<span class="nf">rotaciones1</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">reverse</span><span class="w"> </span><span class="p">(</span><span class="n">aux</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">xs</span><span class="p">])</span>
<span class="w">    </span><span class="kr">where</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">yss</span><span class="w">      </span><span class="ow">=</span><span class="w"> </span><span class="n">yss</span>
<span class="w">          </span><span class="n">aux</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">ys</span><span class="kt">:</span><span class="n">yss</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">aux</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">rota</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">ys</span><span class="w"> </span><span class="kt">:</span><span class="n">yss</span><span class="p">)</span>

<span class="c1">-- 2ª definición de rotaciones (con iterate)</span>
<span class="nf">rotaciones2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
<span class="nf">rotaciones2</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">iterate</span><span class="w"> </span><span class="n">rota</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- En lo sucesivo usaremos la 2ª definición</span>
<span class="nf">rotaciones</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
<span class="nf">rotaciones</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="n">rotaciones2</span>

<span class="c1">-- (rota xs) es la lista añadiendo el primer elemento de xs al</span>
<span class="c1">-- final. Por ejemplo,</span>
<span class="c1">--    rota [3,2,5,7]  ==  [2,5,7,3]</span>
<span class="nf">rota</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">rota</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span>

<span class="c1">-- (rotacionesNumero n) es la lista de las rotaciones obtenidas desplazando</span>
<span class="c1">-- el primer dígito de n al final. Por ejemplo,</span>
<span class="c1">--    rotacionesNumero 325  ==  [325,253,532]</span>
<span class="nf">rotacionesNumero</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">rotacionesNumero</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="p">(</span><span class="n">rotaciones</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="n">n</span><span class="p">))</span>

<span class="c1">-- Se pueden eliminar los argumentos</span>
<span class="nf">rotacionesNumero2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">rotacionesNumero2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">rotaciones</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">show</span>

<span class="c1">-- 2ª definición</span>
<span class="c1">-- =============</span>

<span class="c1">-- Nota. La 2ª definición es una mejora observando que para que n sea un</span>
<span class="c1">-- número primo circular es necesario que todos los dígitos de n sean</span>
<span class="c1">-- impares.</span>

<span class="nf">circulares2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
<span class="nf">circulares2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">esCircular2</span><span class="w"> </span><span class="n">primes</span>

<span class="c1">-- (esCircular2 n) se verifica si n es un número circular. Por ejemplo,</span>
<span class="c1">--    esCircular2 197  ==  True</span>
<span class="c1">--    esCircular2 157  ==  False</span>
<span class="nf">esCircular2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esCircular2</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">digitosImpares</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                </span><span class="n">all</span><span class="w"> </span><span class="p">(</span><span class="n">isPrime</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">read</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">rotaciones</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="n">n</span><span class="p">))</span>

<span class="c1">-- (digitosImpares n) se verifica si todos los dígitos de n son</span>
<span class="c1">-- impares. Por ejemplo,</span>
<span class="c1">--    digitosImpares 7351  ==  True</span>
<span class="c1">--    digitosImpares 7341  ==  False</span>
<span class="nf">digitosImpares</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">digitosImpares</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="p">(`</span><span class="n">elem</span><span class="p">`</span><span class="w"> </span><span class="s">"135679"</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>

<span class="c1">-- Comparación de eficiencia</span>
<span class="c1">--    λ&gt; circulares !! 45</span>
<span class="c1">--    319993</span>
<span class="c1">--    (6.33 secs, 3322708864 bytes)</span>
<span class="c1">--</span>
<span class="c1">--    λ&gt; circulares2 !! 45</span>
<span class="c1">--    331999</span>
<span class="c1">--    (0.96 secs, 448282368 bytes)</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../23-diccionario_de_frecuencias/" rel="prev" title="Diccionario de frecuencias">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../27-distancia_invierte_y_suma_hasta_capicua/" rel="next" title="Distancia invierte y suma hasta capicúa">Siguiente publicación</a>
            </li>
        </ul></nav></aside></article></main><footer id="footer"><p>Escrito por <a href="https://jaalonso.github.io/">José A. Alonso</a> usando <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> Esta obra está bajo una 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
