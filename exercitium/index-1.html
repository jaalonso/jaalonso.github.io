<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="Ejercicios de programación con Haskell y Python.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Exercitium (publicaciones antiguas, página 1) | Exercitium</title>
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather&amp;family=Open+Sans&amp;family=Source+Code+Pro:wght@400;600&amp;display=swap" rel="stylesheet">
<link href="assets/css/extras.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="es" href="rss.xml">
<link rel="canonical" href="https://jaalonso.github.io/exercitium/index-1.html">
<link rel="icon" href="favicon.png" sizes="48x48">
<link rel="prev" href="." type="text/html">
<link rel="next" href="index-2.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jaalonso.github.io/exercitium/images/exercitium.jpg">
<meta name="twitter:title" content="Exercitium (publicaciones antiguas, página 1) | Exercitium">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="." title="Exercitium" rel="home">

        <span id="blog-title">Exercitium</span>
    </a></h1>
    <div>Ejercicios de programación con Haskell y Python</div>

        
            <nav id="menu"><ul>
<li><a href="https://jaalonso.github.io/">José A. Alonso</a></li>
                <li><a href="archive.html">Archivo</a></li>
                <li><a href="categories/">Etiquetas</a></li>
                <li><a href="about/">Acerca de</a></li>
                <li><a href="rss.xml">RSS</a></li>

    
    
    
    </ul></nav></header><main id="content"><div class="postindex">
            <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/06/14-minimo_producto_escalar/" class="u-url">Mínimo producto escalar</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/06/14-minimo_producto_escalar/" rel="bookmark">
            <time class="published dt-published" datetime="2024-06-14T06:00:00+02:00" itemprop="datePublished" title="14-06-2024">14-06-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El producto escalar de los vectores \([a_1,a_2,...,a_n]\) y \([b_1,b_2,..., b_n]\)
es
\[ a_1·b_1 + a_2·b_2 + ··· + a_n·b_n \]</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
</pre></div>

<p>tal que <code>(menorProductoEscalar xs ys)</code> es el mínimo de los productos escalares de las permutaciones de <code>xs</code> y de las permutaciones de <code>ys</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w"> </span><span class="mi">29</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span><span class="w">   </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="mi">19</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">171700</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">167167000</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">166716670000</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">166671666700000</span>
<span class="w">   </span><span class="n">menorProductoEscalar</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">166667166667000000</span>
</pre></div>

<p class="more"><a href="posts/2024/06/14-minimo_producto_escalar/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/06/09-numeros_con_digitos_primos/" class="u-url">Números con dígitos primos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/06/09-numeros_con_digitos_primos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-06-09T06:00:00+02:00" itemprop="datePublished" title="09-06-2024">09-06-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la lista</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">numerosConDigitosPrimos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>cuyos elementos son los números con todos sus dígitos primos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="mi">22</span><span class="w"> </span><span class="n">numerosConDigitosPrimos</span>
<span class="w">   </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">223</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numerosConDigitosPrimos</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
<span class="w">   </span><span class="mi">322732232572</span>
</pre></div>

<p class="more"><a href="posts/2024/06/09-numeros_con_digitos_primos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/06/04-representacion_de_zeckendorf/" class="u-url">Representación de Zeckendorf</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/06/04-representacion_de_zeckendorf/" rel="bookmark">
            <time class="published dt-published" datetime="2024-06-04T06:00:00+02:00" itemprop="datePublished" title="04-06-2024">04-06-2024</time></a>
            </p>
		    <p><span class="text-dark">Listas infinitas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los primeros números de Fibonacci son</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="mi">144</span><span class="p">,</span><span class="w"> </span><span class="mi">233</span><span class="p">,</span><span class="w"> </span><span class="o">...</span>
</pre></div>

<p>tales que los dos primeros son iguales a 1 y los siguientes se obtienen sumando los dos anteriores.</p>
<p>El <a href="https://en.wikipedia.org/wiki/Zeckendorf's_theorem">teorema de Zeckendorf</a> establece que  entero positivo n se puede representar, de manera única, como la suma de números de Fibonacci no consecutivos decrecientes. Dicha suma se llama la representación de Zeckendorf de n. Por ejemplo, la representación de Zeckendorf de 100 es</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="mi">100</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">89</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p>Hay otras formas de representar 100 como sumas de números de Fibonacci; por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="mi">100</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">89</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="mi">100</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">55</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">34</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p>pero no son representaciones de Zeckendorf porque 1 y 2 son números de Fibonacci consecutivos, al igual que 34 y 55.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">zeckendorf</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>tal que <code>(zeckendorf n)</code> es la representación de Zeckendorf de <code>n</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">zeckendorf</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">89</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">zeckendorf</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">144</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="w">   </span><span class="n">zeckendorf</span><span class="w"> </span><span class="mi">300</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">233</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="w">   </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">zeckendorf</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">50000</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">66097</span>
</pre></div>

<p class="more"><a href="posts/2024/06/04-representacion_de_zeckendorf/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/29-descomposiciones_triangulares/" class="u-url">Descomposiciones triangulares</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/29-descomposiciones_triangulares/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-29T06:00:00+02:00" itemprop="datePublished" title="29-05-2024">29-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Teoría de números</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los números triangulares se forman como sigue</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">*</span><span class="w">     </span><span class="o">*</span><span class="w">      </span><span class="o">*</span>
<span class="w">        </span><span class="o">*</span><span class="w"> </span><span class="o">*</span><span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="o">*</span>
<span class="w">              </span><span class="o">*</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="o">*</span>
<span class="w">   </span><span class="mi">1</span><span class="w">     </span><span class="mi">3</span><span class="w">      </span><span class="mi">6</span>
</pre></div>

<p>La sucesión de los números triangulares se obtiene sumando los números naturales. Así, los 5 primeros números triangulares son</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="mi">10</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="mi">15</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">descomposicionesTriangulares</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>descomposicionesTriangulares n</code> es la lista de las ternas correspondientes a las descomposiciones de <code>n</code> en tres sumandos, como máximo, formados por números triangulares. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="kt">[]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">5</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">12</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">30</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">28</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">21</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">61</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">45</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">45</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">36</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">52</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">45</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">36</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">28</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">36</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">21</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="mi">82</span>
<span class="w">   </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">78</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">66</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">45</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">66</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">10</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">36</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">descomposicionesTriangulares3</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">))</span>
<span class="w">   </span><span class="mi">124</span>
</pre></div>

<p class="more"><a href="posts/2024/05/29-descomposiciones_triangulares/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/24-conjunto_de_primos_relativos/" class="u-url">Conjunto de primos relativos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/24-conjunto_de_primos_relativos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-24T06:00:00+02:00" itemprop="datePublished" title="24-05-2024">24-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Dos números enteros positivos son <a href="https://es.wikipedia.org/wiki/N%C3%BAmeros_coprimos">primos relativos</a> si no tienen ningún factor primo en común; es decir, si 1 es su único divisor común. Por ejemplo, 6 y 35 son primos entre sí, pero 6 y 27 no lo son porque ambos son divisibles por 3.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Int</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>primosRelativos xs</code> se verifica si los elementos de <code>xs</code> son primos relativos dos a dos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">35</span><span class="p">]</span><span class="w">         </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">27</span><span class="p">]</span><span class="w">         </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
<span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span><span class="w">        </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
<span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">11</span><span class="p">]</span><span class="w">      </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">221</span><span class="p">]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">primosRelativos</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">231</span><span class="p">]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2024/05/24-conjunto_de_primos_relativos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/19-diferencia_simetrica/" class="u-url">Diferencia simétrica</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/19-diferencia_simetrica/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-19T06:00:00+02:00" itemprop="datePublished" title="19-05-2024">19-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La <a href="https://es.wikipedia.org/wiki/Diferencia_sim%C3%A9trica">diferencia simétrica</a> de dos conjuntos es el conjunto cuyos elementos son aquellos que pertenecen a alguno de los conjuntos iniciales, sin pertenecer a ambos a la vez. Por ejemplo, la diferencia simétrica de {2,5,3} y {4,2,3,7} es {5,4,7}.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
</pre></div>

<p>tal que <code>diferenciaSimetrica xs ys</code> es la diferencia simétrica de <code>xs</code> e <code>ys</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="w">      </span><span class="o">==</span><span class="w">  </span><span class="kt">[]</span>
<span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="w">   </span><span class="n">diferenciaSimetrica</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2024/05/19-diferencia_simetrica/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/14-matriz_toeplitz/" class="u-url">Matrices de Toepliz</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/14-matriz_toeplitz/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-14T06:00:00+02:00" itemprop="datePublished" title="14-05-2024">14-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Una <a href="https://en.wikipedia.org/wiki/Toeplitz_matrix">matriz de Toeplitz</a> es una matriz cuadrada que es constante a lo largo de las diagonales paralelas a la diagonal principal. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">|</span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">6</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">6</span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">1</span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="mi">9</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="mi">9</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">2</span><span class="o">|</span>
</pre></div>

<p>la primera es una matriz de Toeplitz y la segunda no lo es.</p>
<p>Las anteriores matrices se pueden definir por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">ej1</span><span class="p">,</span><span class="w"> </span><span class="n">ej2</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Array</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">ej1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">listArray</span><span class="w"> </span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="w">   </span><span class="n">ej2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">listArray</span><span class="w"> </span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">esToeplitz</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Array</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>esToeplitz p</code> se verifica si la matriz <code>p</code> es de Toeplitz. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">esToeplitz</span><span class="w"> </span><span class="n">ej1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">esToeplitz</span><span class="w"> </span><span class="n">ej2</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2024/05/14-matriz_toeplitz/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/09-diagonales_principales/" class="u-url">Diagonales principales de una matriz</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/09-diagonales_principales/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-09T06:00:00+02:00" itemprop="datePublished" title="09-05-2024">09-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La lista de las diagonales principales de la matriz</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">4</span>
<span class="w">   </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span>
<span class="w">   </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span>
</pre></div>

<p>es</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">[[</span><span class="mi">9</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">diagonalesPrincipales</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Array</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
</pre></div>

<p>tal que <code>diagonalesPrincipales p</code> es la lista de las diagonales principales de <code>p</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">diagonalesPrincipales</span><span class="w"> </span><span class="p">(</span><span class="n">listArray</span><span class="w"> </span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">12</span><span class="p">])</span>
<span class="w">   </span><span class="p">[[</span><span class="mi">9</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]</span>
</pre></div>

<p class="more"><a href="posts/2024/05/09-diagonales_principales/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/05/04-posiciones_diagonales_principales/" class="u-url">Posiciones de las diagonales principales</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/05/04-posiciones_diagonales_principales/" rel="bookmark">
            <time class="published dt-published" datetime="2024-05-04T06:00:00+02:00" itemprop="datePublished" title="04-05-2024">04-05-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Las posiciones de una matriz con 3 filas y 4 columnas son</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

<p>La posiciones de sus 6 diagonales principales son</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">posicionesDiagonalesPrincipales</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[(</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">)]]</span>
</pre></div>

<p>tal que <code>posicionesdiagonalesprincipales m n</code> es la lista de las posiciones de las diagonales principales de una matriz con <code>m</code> filas y <code>n</code> columnas. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapM_</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="n">posicionesDiagonalesPrincipales</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapM_</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="n">posicionesDiagonalesPrincipales</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="w">  </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapM_</span><span class="w"> </span><span class="n">print</span><span class="w"> </span><span class="p">(</span><span class="n">posicionesDiagonalesPrincipales</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">  </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
</pre></div>

<p class="more"><a href="posts/2024/05/04-posiciones_diagonales_principales/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/29-triangulares_con_cifras/" class="u-url">Números triangulares con n cifras distintas</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/29-triangulares_con_cifras/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-29T06:00:00+02:00" itemprop="datePublished" title="29-04-2024">29-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los números triangulares se forman como sigue</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">*</span><span class="w">     </span><span class="o">*</span><span class="w">      </span><span class="o">*</span>
<span class="w">        </span><span class="o">*</span><span class="w"> </span><span class="o">*</span><span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="o">*</span>
<span class="w">              </span><span class="o">*</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="o">*</span>
<span class="w">   </span><span class="mi">1</span><span class="w">     </span><span class="mi">3</span><span class="w">      </span><span class="mi">6</span>
</pre></div>

<p>La sucesión de los números triangulares se obtiene sumando los números naturales. Así, los 5 primeros números triangulares son</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="mi">6</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="mi">10</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="mi">15</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>tal que <code>triangularesConCifras n</code> es la lista de los números triangulares con <code>n</code> cifras distintas. Por  ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">(</span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">666</span><span class="p">]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">(</span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">45</span><span class="p">]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">(</span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">105</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">210</span><span class="p">]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">1035</span><span class="p">,</span><span class="mi">1275</span><span class="p">,</span><span class="mi">1326</span><span class="p">,</span><span class="mi">1378</span><span class="p">,</span><span class="mi">1485</span><span class="p">]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">triangularesConCifras</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">1062489753</span><span class="p">,</span><span class="mi">1239845706</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2024/04/29-triangulares_con_cifras/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/24-numeracion_de_ternas/" class="u-url">Numeración de las ternas de números naturales</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/24-numeracion_de_ternas/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-24T06:00:00+02:00" itemprop="datePublished" title="24-04-2024">24-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Las ternas de números naturales se pueden ordenar como sigue</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="w">   </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="w">   </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="w">   </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="o">...</span>
<span class="w">   </span><span class="o">...</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">posicion</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que <code>posicion (x,y,z)</code> es la posición de la terna de números naturales <code>(x,y,z)</code> en la ordenación anterior. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">posicion</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">2</span>
<span class="w">   </span><span class="n">posicion</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
<span class="w">   </span><span class="n">posicion</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">5</span>
</pre></div>

<p>Comprobar con QuickCheck que</p>
<ul>
<li>la posición de (x,0,0) es x(x²+6x+11)/6</li>
<li>la posición de (0,y,0) es y(y²+3y+ 8)/6</li>
<li>la posición de (0,0,z) es z(z²+3z+ 2)/6</li>
<li>la posición de (x,x,x) es x(9x²+14x+7)/2</li>
</ul>
<p class="more"><a href="posts/2024/04/24-numeracion_de_ternas/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/19-primos_equidistantes/" class="u-url">Primos equidistantes</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/19-primos_equidistantes/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-19T06:00:00+02:00" itemprop="datePublished" title="19-04-2024">19-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="kt">Integer</span><span class="p">,</span><span class="kt">Integer</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>primosEquidistantes k</code> es la lista de los pares de primos cuya diferencia es <code>k</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">),(</span><span class="mi">19</span><span class="p">,</span><span class="mi">23</span><span class="p">)]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">23</span><span class="p">,</span><span class="mi">29</span><span class="p">),(</span><span class="mi">31</span><span class="p">,</span><span class="mi">37</span><span class="p">),(</span><span class="mi">47</span><span class="p">,</span><span class="mi">53</span><span class="p">)]</span>
<span class="w">   </span><span class="n">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">89</span><span class="p">,</span><span class="mi">97</span><span class="p">),(</span><span class="mi">359</span><span class="p">,</span><span class="mi">367</span><span class="p">),(</span><span class="mi">389</span><span class="p">,</span><span class="mi">397</span><span class="p">)]</span>
<span class="w">   </span><span class="n">primosEquidistantes</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">!!</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="p">(</span><span class="mi">18467047</span><span class="p">,</span><span class="mi">18467051</span><span class="p">)</span>
</pre></div>

<p class="more"><a href="posts/2024/04/19-primos_equidistantes/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/14-numeros_amigos/" class="u-url">Números amigos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/14-numeros_amigos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-14T06:00:00+02:00" itemprop="datePublished" title="14-04-2024">14-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Dos <a href="https://en.wikipedia.org/wiki/Amicable_numbers">números amigos</a> son dos números  positivos distintos tales que la suma de los divisores propios de cada uno es igual al otro. Los divisores propios de un número incluyen la unidad pero no al propio número. Por ejemplo,  divisores propios de 220 son 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 y 110. La suma de estos números equivale a 284. A su vez, los divisores propios de 284 son 1, 2, 4, 71 y 142. Su suma equivale a 220. Por tanto, 220 y 284 son amigos.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">amigos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>amigos x y</code> se verifica si los números <code>x</code> e <code>y</code> son amigos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">amigos</span><span class="w"> </span><span class="mi">220</span><span class="w"> </span><span class="mi">284</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">True</span>
<span class="w">   </span><span class="n">amigos</span><span class="w"> </span><span class="mi">220</span><span class="w"> </span><span class="mi">23</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="kt">False</span>
<span class="w">   </span><span class="n">amigos</span><span class="w"> </span><span class="mi">9967523980</span><span class="w"> </span><span class="mi">12890541236</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">True</span>
</pre></div>

<p class="more"><a href="posts/2024/04/14-numeros_amigos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/09-maxima_suma_de_caminos_en_un_triangulo/" class="u-url">Máxima suma de caminos en un triángulo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/09-maxima_suma_de_caminos_en_un_triangulo/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-09T06:00:00+02:00" itemprop="datePublished" title="09-04-2024">09-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los triángulos se pueden representar mediante listas de listas. Por ejemplo, el triángulo</p>
<div class="code"><pre class="code literal-block"><span class="w">      </span><span class="mi">3</span>
<span class="w">     </span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">6</span>
<span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p>se representa por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[[</span><span class="kt">Integer</span><span class="p">]]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que (maximaSuma xss) es el máximo de las sumas de los  de los caminos en el triángulo xss donde los caminos comienzan en el elemento de la primera fila, en cada paso se mueve a uno de  sus dos elementos adyacentes en la fila siguiente y terminan en la última fila. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span><span class="w">                    </span><span class="o">==</span><span class="w">  </span><span class="mi">10</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span><span class="w">            </span><span class="o">==</span><span class="w">  </span><span class="mi">14</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">23</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="n">n</span><span class="o">..</span><span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">100</span><span class="p">]]</span><span class="w">     </span><span class="o">==</span><span class="w">  </span><span class="mi">10100</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="n">n</span><span class="o">..</span><span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">1000</span><span class="p">]]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">1001000</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="n">n</span><span class="o">..</span><span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">2000</span><span class="p">]]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">4002000</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="n">n</span><span class="o">..</span><span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">3000</span><span class="p">]]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">9003000</span>
<span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="p">[[</span><span class="n">n</span><span class="o">..</span><span class="n">n</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">4000</span><span class="p">]]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">16004000</span>
</pre></div>

<p class="more"><a href="posts/2024/04/09-maxima_suma_de_caminos_en_un_triangulo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/04/04-caminos_en_un_triangulo/" class="u-url">Caminos en un triángulo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/04/04-caminos_en_un_triangulo/" rel="bookmark">
            <time class="published dt-published" datetime="2024-04-04T06:00:00+02:00" itemprop="datePublished" title="04-04-2024">04-04-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los triángulos se pueden representar mediante listas de listas. Por ejemplo, el triángulo</p>
<div class="code"><pre class="code literal-block"><span class="w">      </span><span class="mi">3</span>
<span class="w">     </span><span class="mi">7</span><span class="w"> </span><span class="mi">4</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">6</span>
<span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p>se representa por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">caminos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
</pre></div>

<p>tal que (caminos xss) es la lista de los caminos en el triángulo, donde los caminos comienzan en el elemento de la primera fila, en cada paso se mueve a uno de  sus dos elementos adyacentes en la fila siguiente y terminan en la última fila. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">caminos</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="w">   </span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">caminos</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span>
<span class="w">   </span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">caminos</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
<span class="w">   </span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
</pre></div>

<p class="more"><a href="posts/2024/04/04-caminos_en_un_triangulo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/29-maximos_locales/" class="u-url">Máximos locales</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/29-maximos_locales/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-29T06:00:00+02:00" itemprop="datePublished" title="29-03-2024">29-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un máximo local de una lista es un elemento de la lista que es mayor que su predecesor y que su sucesor en la lista. Por ejemplo, 5 es un máximo local de [3,2,5,3,7,7,1,6,2] ya que es mayor que 2 (su predecesor) y que 3 (su sucesor).</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">maximosLocales</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
</pre></div>

<p>tal que (maximosLocales xs) es la lista de los máximos locales de la lista xs. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">maximosLocales</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="w">   </span><span class="n">maximosLocales</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">]</span><span class="w">             </span><span class="o">==</span><span class="w">  </span><span class="kt">[]</span>
<span class="w">   </span><span class="n">maximosLocales</span><span class="w"> </span><span class="s">"adbpmqexyz"</span><span class="w">         </span><span class="o">==</span><span class="w">  </span><span class="s">"dpq"</span>
</pre></div>

<p class="more"><a href="posts/2024/03/29-maximos_locales/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/24-mayor_orbita_de_la_sucesion_de_collatz/" class="u-url">Mayor órbita de la sucesión de Collatz</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/24-mayor_orbita_de_la_sucesion_de_collatz/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-24T06:00:00+02:00" itemprop="datePublished" title="24-03-2024">24-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Se considera la siguiente operación, aplicable a cualquier número entero positivo:</p>
<ul>
<li>Si el número es par, se divide entre 2.</li>
<li>Si el número es impar, se multiplica por 3 y se suma 1.</li>
</ul>
<p>Dado un número cualquiera, podemos calcular su órbita; es decir, las imágenes sucesivas al iterar la función. Por ejemplo, la órbita de 13 es</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="o">...</span>
</pre></div>

<p>Si observamos este ejemplo, la órbita de 13 es periódica, es decir,
se repite indefinidamente a partir de un momento dado). La conjetura
de Collatz dice que siempre alcanzaremos el 1 para cualquier número
con el que comencemos. Ejemplos:</p>
<ul>
<li>Empezando en n = 6 se obtiene 6, 3, 10, 5, 16, 8, 4, 2, 1.</li>
<li>Empezando en n = 11 se obtiene: 11, 34, 17, 52, 26, 13, 40, 20, 10, 5, 16, 8, 4, 2, 1.</li>
<li>Empezando en n = 27, la sucesión tiene 112 pasos, llegando hasta
  9232 antes de descender a 1:  27, 82, 41, 124, 62, 31, 94, 47, 142, 71, 214, 107, 322, 161, 484, 242, 121, 364, 182, 91, 274, 137, 412, 206, 103, 310, 155, 466, 233, 700, 350, 175, 526, 263, 790, 395, 1186, 593, 1780, 890, 445, 1336, 668, 334, 167, 502, 251, 754, 377, 1132, 566, 283, 850, 425, 1276, 638, 319, 958, 479, 1438, 719, 2158, 1079, 3238, 1619, 4858, 2429, 7288, 3644, 1822, 911, 2734, 1367, 4102, 2051, 6154, 3077, 9232, 4616, 2308, 1154, 577, 1732, 866, 433, 1300, 650, 325, 976, 488, 244, 122, 61, 184, 92, 46, 23, 70, 35, 106, 53, 160, 80, 40, 20, 10, 5, 16, 8, 4, 2, 1.</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">mayoresGeneradores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Integer</span><span class="p">]</span>
</pre></div>

<p>tal que (mayoresGeneradores n) es la lista de los números menores o iguales que n cuyas órbitas de Collatz son las de mayor longitud. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">mayoresGeneradores</span><span class="w"> </span><span class="mi">20</span><span class="w">      </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">]</span>
<span class="w">   </span><span class="n">mayoresGeneradores</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">837799</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2024/03/24-mayor_orbita_de_la_sucesion_de_collatz/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/19-exponente_en_la_factorizacion/" class="u-url">Exponente en la factorización</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/19-exponente_en_la_factorizacion/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-19T06:00:00+02:00" itemprop="datePublished" title="19-03-2024">19-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">exponente</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que (exponente x n) es el exponente de x en la factorización prima de n (se supone que x &gt; 1 y n &gt; 0). Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">exponente</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">24</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">3</span>
<span class="w">   </span><span class="n">exponente</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">24</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">1</span>
<span class="w">   </span><span class="n">exponente</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">24</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">0</span>
<span class="w">   </span><span class="n">exponente</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">24</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">0</span>
</pre></div>

<p class="more"><a href="posts/2024/03/19-exponente_en_la_factorizacion/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/14-reconocimiento_de_potencias_de_4/" class="u-url">Reconocimiento de potencias de 4</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/14-reconocimiento_de_potencias_de_4/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-14T06:00:00+02:00" itemprop="datePublished" title="14-03-2024">14-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">esPotenciaDe4</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Integral</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que (esPotenciaDe4 n) se verifica si n es una potencia de 4. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">esPotenciaDe4</span><span class="w"> </span><span class="mi">16</span><span class="w">                </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">esPotenciaDe4</span><span class="w"> </span><span class="mi">17</span><span class="w">                </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
<span class="w">   </span><span class="n">esPotenciaDe4</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="o">^</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">))</span><span class="w">      </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">esPotenciaDe4</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="o">^</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">))</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2024/03/14-reconocimiento_de_potencias_de_4/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/09-producto_de_los_elementos_de_la_diagonal_principal/" class="u-url">Producto de los elementos de la diagonal principal</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/09-producto_de_los_elementos_de_la_diagonal_principal/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-09T06:00:00+02:00" itemprop="datePublished" title="09-03-2024">09-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Las matrices se pueden representar como lista de listas de la misma longitud, donde cada uno de sus elementos representa una fila de la matriz.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">productoDiagonalPrincipal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
</pre></div>

<p>tal que (productoDiagonalPrincipal xss) es el producto de los elementos de la diagonal principal de la matriz cuadrada xss. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">productoDiagonal</span><span class="w"> </span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">168</span>
<span class="w">   </span><span class="n">productoDiagonal</span><span class="w"> </span><span class="p">(</span><span class="n">replicate</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">])</span><span class="w">       </span><span class="o">==</span><span class="w">  </span><span class="mi">120</span>
<span class="w">   </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="p">(</span><span class="n">productoDiagonal</span><span class="w"> </span><span class="p">(</span><span class="n">replicate</span><span class="w"> </span><span class="mi">30000</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">30000</span><span class="p">])))</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">121288</span>
</pre></div>

<p class="more"><a href="posts/2024/03/09-producto_de_los_elementos_de_la_diagonal_principal/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/03/04-reiteracion_de_suma_de_consecutivos/" class="u-url">Reiteración de suma de consecutivos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/03/04-reiteracion_de_suma_de_consecutivos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-03-04T06:00:00+02:00" itemprop="datePublished" title="04-03-2024">04-03-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La reiteración de la suma de los elementos consecutivos de la lista [1,5,3] es 14 como se explica en el siguiente diagrama</p>
<div class="code"><pre class="code literal-block">   1 + 5 = 6
             \
              ==&gt; 14
             /
   5 + 3 = 8
</pre></div>

<p>y la de la lista [1,5,3,4] es 29 como se explica en el siguiente diagrama</p>
<div class="code"><pre class="code literal-block">   1 + 5 = 6
             \
              ==&gt; 14
             /       \
   5 + 3 = 8          ==&gt; 29
             \       /
              ==&gt; 15
             /
   3 + 4 = 7
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">sumaReiterada</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
</pre></div>

<p>tal que (sumaReiterada xs) es la suma reiterada de los elementos consecutivos de la lista no vacía xs. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">sumaReiterada</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">14</span>
<span class="w">   </span><span class="n">sumaReiterada</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">29</span>
</pre></div>

<p class="more"><a href="posts/2024/03/04-reiteracion_de_suma_de_consecutivos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/29-suma_de_fila_del_triangulo_de_los_impares/" class="u-url">Suma fila del triángulo de los impares</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/29-suma_de_fila_del_triangulo_de_los_impares/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-29T06:00:00+02:00" itemprop="datePublished" title="29-02-2024">29-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Se condidera el siguiente triángulo de números impares</p>
<div class="code"><pre class="code literal-block">             1
          3     5
       7     9    11
   13    15    17    19
21    23    25    27    29
...
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que (sumaFilaTrianguloImpares n) es la suma de la n-ésima fila del triángulo de los números impares. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="nv">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">1</span>
<span class="w">   </span><span class="nv">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">8</span>
<span class="w">   </span><span class="nv">length</span><span class="w"> </span><span class="ss">(</span><span class="k">show</span><span class="w"> </span><span class="ss">(</span><span class="nv">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="ss">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">500</span><span class="ss">)))</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="mi">1501</span>
<span class="w">   </span><span class="nv">length</span><span class="w"> </span><span class="ss">(</span><span class="k">show</span><span class="w"> </span><span class="ss">(</span><span class="nv">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="ss">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5000</span><span class="ss">)))</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="mi">15001</span>
<span class="w">   </span><span class="nv">length</span><span class="w"> </span><span class="ss">(</span><span class="k">show</span><span class="w"> </span><span class="ss">(</span><span class="nv">sumaFilaTrianguloImpares</span><span class="w"> </span><span class="ss">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">50000</span><span class="ss">)))</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">150001</span>
</pre></div>

<p class="more"><a href="posts/2024/02/29-suma_de_fila_del_triangulo_de_los_impares/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/24-duplicacion_de_cada_elemento/" class="u-url">Duplicación de cada elemento</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/24-duplicacion_de_cada_elemento/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-24T06:00:00+02:00" itemprop="datePublished" title="24-02-2024">24-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<hr>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="nf">duplicaElementos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
</pre></div>

<p>tal que <code>(duplicaElementos xs)</code> es la lista obtenida duplicando cada elemento de <code>xs</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="nf">duplicaElementos</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span><span class="w">    </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="nf">duplicaElementos</span><span class="w"> </span><span class="s">"Haskell"</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="s">"HHaasskkeellll"</span>
</pre></div>

<h3>
<strong>Nota:</strong> Escribir las soluciones en Haskell, en Python y en Common Lisp.</h3>
<p class="more"><a href="posts/2024/02/24-duplicacion_de_cada_elemento/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/19-sistema_factoradico_de_numeracion/" class="u-url">Sistema factorádico de numeración</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/19-sistema_factoradico_de_numeracion/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-19T06:00:00+02:00" itemprop="datePublished" title="19-02-2024">19-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<hr>
<p>El <a href="https://es.wikipedia.org/wiki/Factor%C3%A1dico">sistema factorádico</a> es un sistema numérico basado en factoriales en el que el n-ésimo dígito, empezando desde la derecha, debe ser multiplicado por n! Por ejemplo, el número "341010" en el sistema factorádico es 463 en el sistema decimal ya que</p>
<div class="code"><pre class="code literal-block"><span class="mf">3</span><span class="err">×</span><span class="mf">5</span><span class="err">!</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">4</span><span class="err">×</span><span class="mf">4</span><span class="err">!</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="err">×</span><span class="mf">3</span><span class="err">!</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0</span><span class="err">×</span><span class="mf">2</span><span class="err">!</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="err">×</span><span class="mf">1</span><span class="err">!</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0</span><span class="err">×</span><span class="mf">0</span><span class="err">!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">463</span>
</pre></div>

<p>En este sistema numérico, el dígito de más a la derecha es siempre 0, el segundo 0 o 1, el tercero 0,1 o 2 y así sucesivamente.</p>
<p>Con los dígitos del 0 al 9 el mayor número que podemos codificar es el 10!-1 = 3628799. En cambio, si lo ampliamos con las letras A a Z podemos codificar hasta 36!-1 = 37199332678990121746799944815083519999999910.</p>
<p>Definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="n">factoradicoAdecimal</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
<span class="n">decimalAfactoradico</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">String</span>
</pre></div>

<p>tales que</p>
<ul>
<li>(factoradicoAdecimal cs) es el número decimal correspondiente al número factorádico cs. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block">λ&gt; factoradicoAdecimal "341010"
463
λ&gt; factoradicoAdecimal "2441000"
2022
λ&gt; factoradicoAdecimal "A0000000000"
36288000
λ&gt; map factoradicoAdecimal ["10","100","110","200","210","1000","1010","1100","1110","1200"]
[1,2,3,4,5,6,7,8,9,10]
λ&gt; factoradicoAdecimal "3KXWVUTSRQPONMLKJIHGFEDCBA9876543210"
37199332678990121746799944815083519999999
</pre></div>

<ul>
<li>(decimalAfactoradico n) es el número factorádico correpondiente al número decimal n. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block">λ&gt; decimalAfactoradico 463
"341010"
λ&gt; decimalAfactoradico 2022
"2441000"
λ&gt; decimalAfactoradico 36288000
"A0000000000"
λ&gt; map decimalAfactoradico [1..10]
["10","100","110","200","210","1000","1010","1100","1110","1200"]
λ&gt; decimalAfactoradico 37199332678990121746799944815083519999999
"3KXWVUTSRQPONMLKJIHGFEDCBA9876543210"
</pre></div>

<p>Comprobar con QuickCheck que, para cualquier entero positivo n,</p>
<div class="code"><pre class="code literal-block">factoradicoAdecimal (decimalAfactoradico n) == n
</pre></div>

<h3>
<strong>Nota:</strong> Escribir las soluciones en Haskell, en Python y en Common Lisp.</h3>
<p class="more"><a href="posts/2024/02/19-sistema_factoradico_de_numeracion/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/14-suma_de_cadenas/" class="u-url">Suma de cadenas</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/14-suma_de_cadenas/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-14T06:00:00+02:00" itemprop="datePublished" title="14-02-2024">14-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<hr>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="nf">sumaCadenas</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
</pre></div>

<p>tal que <code>(sumaCadenas xs ys)</code> es la cadena formada por el número entero que es la suma de los números enteros cuyas cadenas que lo representan son <code>xs</code> e <code>ys</code>; además, se supone que la cadena vacía representa al cero. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"2"</span><span class="w">   </span><span class="s">"6"</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="s">"8"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"14"</span><span class="w">  </span><span class="s">"2"</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="s">"16"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"14"</span><span class="w">  </span><span class="s">"-5"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"9"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"-14"</span><span class="w"> </span><span class="s">"-5"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"-19"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"5"</span><span class="w">   </span><span class="s">"-5"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"0"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">""</span><span class="w">    </span><span class="s">"5"</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="s">"5"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">"6"</span><span class="w">   </span><span class="s">""</span><span class="w">   </span><span class="o">==</span><span class="w"> </span><span class="s">"6"</span>
<span class="nf">sumaCadenas</span><span class="w"> </span><span class="s">""</span><span class="w">    </span><span class="s">""</span><span class="w">   </span><span class="o">==</span><span class="w"> </span><span class="s">"0"</span>
</pre></div>

<h3>
<strong>Nota:</strong> Escribir las soluciones en Haskell, en Python y en Common Lisp.</h3>
<p class="more"><a href="posts/2024/02/14-suma_de_cadenas/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/09-cuadrado_mas_cercano/" class="u-url">Cuadrado más cercano</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/09-cuadrado_mas_cercano/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-09T06:00:00+02:00" itemprop="datePublished" title="09-02-2024">09-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">cuadradoCercano</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>cuadradoCercano n</code> es el número cuadrado más cercano a <code>n</code>, donde <code>n</code> es un entero positivo. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   cuadradoCercano 2       == 1
   cuadradoCercano 6       == 4
   cuadradoCercano 8       == 9
   cuadradoCercano (10^46) == 10000000000000000000000000000000000000000000000
</pre></div>

<p class="more"><a href="posts/2024/02/09-cuadrado_mas_cercano/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/02/04-primos_cubanos/" class="u-url">Primos cubanos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/02/04-primos_cubanos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-02-04T06:00:00+02:00" itemprop="datePublished" title="04-02-2024">04-02-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un <a href="https://en.wikipedia.org/wiki/Cuban_prime">primo cubano</a> es un número primo que se puede escribir como diferencia de dos cubos consecutivos. Por ejemplo, el 61 es un primo cubano porque es primo y 61 = 5³-4³.</p>
<p>Definir la sucesión</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">cubanos</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
</pre></div>

<p>tal que sus elementos son los números cubanos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 15 cubanos
   [7,19,37,61,127,271,331,397,547,631,919,1657,1801,1951,2269]
</pre></div>

<p class="more"><a href="posts/2024/02/04-primos_cubanos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/29-ceros_finales_del_factorial/" class="u-url">Ceros finales del factorial</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/29-ceros_finales_del_factorial/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-29T06:00:00+02:00" itemprop="datePublished" title="29-01-2024">29-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">cerosDelFactorial</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>cerosDelFactorial n</code> es el número de ceros en que termina el factorial de <code>n</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="nv">cerosDelFactorial</span><span class="w"> </span><span class="mi">24</span><span class="w">                         </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="nv">cerosDelFactorial</span><span class="w"> </span><span class="mi">25</span><span class="w">                         </span><span class="o">==</span><span class="w"> </span><span class="mi">6</span>
<span class="w">   </span><span class="nv">length</span><span class="w"> </span><span class="ss">(</span><span class="k">show</span><span class="w"> </span><span class="ss">(</span><span class="nv">cerosDelFactorial</span><span class="w"> </span><span class="ss">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">70000</span><span class="ss">)))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">70000</span>
</pre></div>

<p class="more"><a href="posts/2024/01/29-ceros_finales_del_factorial/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/24-la_funcion_indicatriz_de_euler/" class="u-url">La función indicatriz de Euler</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/24-la_funcion_indicatriz_de_euler/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-24T06:00:00+02:00" itemprop="datePublished" title="24-01-2024">24-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La <a href="https://es.wikipedia.org/wiki/Funci%C3%B3n_%CF%86_de_Euler">indicatriz de Euler</a> (también  función φ de Euler) es una función importante en teoría de números. Si n es un entero positivo, entonces φ(n) se define como el número de enteros positivos menores o iguales a n y coprimos con n. Por ejemplo, φ(36) = 12 ya que los números menores o iguales a 36 y coprimos con 36 son doce: 1, 5, 7, 11, 13, 17, 19, 23, 25, 29, 31, y 35.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">phi</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>phi n</code> es igual a φ(n). Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">phi</span><span class="w"> </span><span class="mi">36</span><span class="w">                          </span><span class="o">==</span><span class="w">  </span><span class="mi">12</span>
<span class="w">   </span><span class="n">map</span><span class="w"> </span><span class="n">phi</span><span class="w"> </span><span class="err">[</span><span class="mf">10..20</span><span class="err">]</span><span class="w">                </span><span class="o">==</span><span class="w">  </span><span class="err">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="err">]</span>
<span class="w">   </span><span class="n">phi</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="n n-Quoted">`mod`</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span><span class="w">       </span><span class="o">==</span><span class="w">  </span><span class="mi">681333334</span>
<span class="w">   </span><span class="nf">length</span><span class="w"> </span><span class="p">(</span><span class="k">show</span><span class="w"> </span><span class="p">(</span><span class="n">phi</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">))))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">100000</span>
</pre></div>

<p>Comprobar con QuickCheck que, para todo n &gt; 0, φ(10^n) tiene n dígitos.</p>
<p class="more"><a href="posts/2024/01/24-la_funcion_indicatriz_de_euler/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/19-huecos_maximales_entre_primos/" class="u-url">Huecos maximales entre primos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/19-huecos_maximales_entre_primos/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-19T06:00:00+02:00" itemprop="datePublished" title="19-01-2024">19-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El <strong>hueco de un número primo</strong> p es la distancia entre p y primo siguiente de p. Por ejemplo, el hueco de 7 es 4 porque el primo siguiente de 7 es 11 y 4 = 11-7. Los huecos de los primeros números son</p>
<div class="code"><pre class="code literal-block">   Primo Hueco
    2    1
    3    2
    7    4
   11    2
</pre></div>

<p>El hueco de un número primo p es <strong>maximal</strong> si es mayor que los huecos de todos los números menores que p. Por ejemplo, 4 es un hueco maximal de 7 ya que los huecos de los primos menores que 7 son 1 y 2 y ambos son menores que 4. La tabla de los primeros huecos maximales es</p>
<div class="code"><pre class="code literal-block">   Primo Hueco
     2    1
     3    2
     7    4
    23    6
    89    8
   113   14
   523   18
   887   20
</pre></div>

<p>Definir la sucesión</p>
<div class="code"><pre class="code literal-block">   primosYhuecosMaximales :: [(Integer,Integer)]
</pre></div>

<p>cuyos elementos son los números primos con huecos maximales junto son sus huecos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 8 primosYhuecosMaximales
   [(2,1),(3,2),(7,4),(23,6),(89,8),(113,14),(523,18),(887,20)]
   λ&gt; primosYhuecosMaximales !! 20
   (2010733,148)
</pre></div>

<p class="more"><a href="posts/2024/01/19-huecos_maximales_entre_primos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/14-la_sucesion_de_thue_morse/" class="u-url">La sucesión de Thue-Morse</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/14-la_sucesion_de_thue_morse/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-14T06:00:00+02:00" itemprop="datePublished" title="14-01-2024">14-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La serie de Thue-Morse comienza con el término [0] y sus siguientes términos se construyen añadiéndole al anterior su complementario. Los primeros términos de la serie son</p>
<div class="code"><pre class="code literal-block">   [0]
   [0,1]
   [0,1,1,0]
   [0,1,1,0,1,0,0,1]
   [0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0]
</pre></div>

<p>De esta forma se va formando una sucesión</p>
<div class="code"><pre class="code literal-block">   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,...
</pre></div>

<p>que se conoce como la <a href="https://en.wikipedia.org/wiki/Thue%E2%80%93Morse_sequence">sucesión de Thue-Morse</a>.</p>
<p>Definir la sucesión</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">sucThueMorse</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Int</span><span class="o">]</span>
</pre></div>

<p>cuyos elementos son los de la sucesión de Thue-Morse. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 30 sucThueMorse
   [0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0]
   λ&gt; map (sucThueMorse4 !!) [1234567..1234596]
   [1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0]
   λ&gt; map (sucThueMorse4 !!) [4000000..4000030]
   [1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1]
</pre></div>

<p>Comprobar con QuickCheck que si s(n) representa el término n-ésimo de la sucesión de Thue-Morse, entonces</p>
<div class="code"><pre class="code literal-block">   s(2n)   = s(n)
   s(2n+1) = 1 - s(n)
</pre></div>

<p class="more"><a href="posts/2024/01/14-la_sucesion_de_thue_morse/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/09-la_serie_de_thue_morse/" class="u-url">La serie de Thue-Morse</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/09-la_serie_de_thue_morse/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-09T06:00:00+02:00" itemprop="datePublished" title="09-01-2024">09-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La <a href="https://en.wikipedia.org/wiki/Thue%E2%80%93Morse_sequence">serie de Thue-Morse</a> comienza con el término [0] y sus siguientes términos se construyen añadiéndole al anterior su complementario (es decir, la lista obtenida cambiando el 0 por 1 y el 1 por 0). Los primeros términos de la serie son</p>
<div class="code"><pre class="code literal-block">   [0]
   [0,1]
   [0,1,1,0]
   [0,1,1,0,1,0,0,1]
   [0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0]
</pre></div>

<p>Definir la lista</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">serieThueMorse</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">[Int</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que sus elementos son los términos de la serie de Thue-Morse. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 4 serieThueMorse
   [[0],[0,1],[0,1,1,0],[0,1,1,0,1,0,0,1]]
</pre></div>

<p class="more"><a href="posts/2024/01/09-la_serie_de_thue_morse/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2024/01/04-representaciones_de_un_numero_como_suma_de_dos_cuadrados/" class="u-url">Representaciones de un número como suma de dos cuadrados</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2024/01/04-representaciones_de_un_numero_como_suma_de_dos_cuadrados/" rel="bookmark">
            <time class="published dt-published" datetime="2024-01-04T06:00:00+02:00" itemprop="datePublished" title="04-01-2024">04-01-2024</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">representaciones</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">Integer</span><span class="p">,</span><span class="n">Integer</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>representaciones n</code> es la lista de pares de números naturales (x,y) tales que n = x² + y². Por ejemplo.</p>
<div class="code"><pre class="code literal-block">   representaciones  20              ==  [(2,4)]
   representaciones  25              ==  [(0,5),(3,4)]
   representaciones 325              ==  [(1,18),(6,17),(10,15)]
   length (representaciones (10^14)) == 8
</pre></div>

<p>Comprobar con QuickCheck que un número natural n se puede representar como suma de dos cuadrados si, y sólo si, en la factorización prima de n todos los exponentes de sus factores primos congruentes con 3 módulo 4 son pares.</p>
<p class="more"><a href="posts/2024/01/04-representaciones_de_un_numero_como_suma_de_dos_cuadrados/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/29-sumas_de_dos_primos/" class="u-url">Sumas de dos primos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/29-sumas_de_dos_primos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-29T06:00:00+02:00" itemprop="datePublished" title="29-12-2023">29-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la sucesión</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">sumasDeDosPrimos</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
</pre></div>

<p>cuyos elementos son los números que se pueden escribir como suma de dos números primos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 23 sumasDeDosPrimos
   [4,5,6,7,8,9,10,12,13,14,15,16,18,19,20,21,22,24,25,26,28,30,31]
   λ&gt; sumasDeDosPrimos !! (5*10^5)
   862878
</pre></div>

<p class="more"><a href="posts/2023/12/29-sumas_de_dos_primos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/24-factorizaciones_de_numeros_de_hilbert/" class="u-url">Factorizaciones de números de Hilbert</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/24-factorizaciones_de_numeros_de_hilbert/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-24T06:00:00+02:00" itemprop="datePublished" title="24-12-2023">24-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un <a href="https://en.wikipedia.org/wiki/Hilbert_number"><strong>número de Hilbert</strong></a> es un entero positivo de la forma 4n+1. Los primeros números de Hilbert son 1, 5, 9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, ...</p>
<p>Un <strong>primo de Hilbert</strong> es un número de Hilbert n que no es divisible por ningún número de Hilbert menor que n (salvo el 1). Los primeros primos de Hilbert son 5, 9, 13, 17, 21, 29, 33, 37, 41, 49, 53, 57, 61, 69, 73, 77, 89, 93, 97, 101, 109, 113, 121, 129, 133, 137, ...</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">factorizacionesH</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="k">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">[Integer</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que <code>factorizacionesH n</code> es la listas de primos de Hilbert cuyo producto es el número de Hilbert <code>n</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">  factorizacionesH  25    ==  [[5,5]]
  factorizacionesH  45    ==  [[5,9]]
  factorizacionesH 441    ==  [[9,49],[21,21]]
  factorizacionesH 80109  ==  [[9,9,989],[9,69,129]]
</pre></div>

<p>Comprobar con QuickCheck que todos los números de Hilbert son factorizables como producto de primos de Hilbert (aunque la factorización, como para el 441, puede no ser única).</p>
<p class="more"><a href="posts/2023/12/24-factorizaciones_de_numeros_de_hilbert/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/19-numeros_primos_de_hilbert/" class="u-url">Números primos de Hilbert</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/19-numeros_primos_de_hilbert/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-19T06:00:00+02:00" itemprop="datePublished" title="19-12-2023">19-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un <a href="https://en.wikipedia.org/wiki/Hilbert_number">número de Hilbert</a> es un entero positivo de la forma 4n+1. Los primeros números de Hilbert son 1, 5, 9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, 73, 77, 81, 85, 89, 93, 97, ...</p>
<p>Un <strong>primo de Hilbert</strong> es un número de Hilbert n que no es divisible por ningún número de Hilbert menor que n (salvo el 1). Los primeros primos de Hilbert son 5, 9, 13, 17, 21, 29, 33, 37, 41, 49, 53, 57, 61, 69, 73, 77, 89, 93, 97, 101, 109, 113, 121, 129, 133, 137, 141, 149, 157, 161, 173, 177, 181, 193, 197, ...</p>
<p>Definir la sucesión</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">primosH</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
</pre></div>

<p>tal que sus elementos son los primos de Hilbert. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   take 15 primosH     == [5,9,13,17,21,29,33,37,41,49,53,57,61,69,73]
   primosH !! (3*10^4) == 313661
</pre></div>

<p class="more"><a href="posts/2023/12/19-numeros_primos_de_hilbert/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/14-el_teorema_de_navidad_de_fermat/" class="u-url">El teorema de Navidad de Fermat</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/14-el_teorema_de_navidad_de_fermat/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-14T06:00:00+02:00" itemprop="datePublished" title="14-12-2023">14-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El 25 de diciembre de 1640, en una carta a Mersenne, Fermat demostró la conjetura de Girard: todo primo de la forma 4n+1 puede expresarse de manera única como suma de dos cuadrados. Por eso es conocido como el <a href="https://en.wikipedia.org/wiki/Fermat's_theorem_on_sums_of_two_squares">teorema de Navidad de Fermat</a>.</p>
<p>Definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">representaciones</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="k">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">(Integer,Integer)</span><span class="o">]</span>
<span class="w">   </span><span class="n">primosImparesConRepresentacionUnica</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
<span class="w">   </span><span class="n">primos4nM1</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
</pre></div>

<p>tales que</p>
<ul>
<li>
<code>representaciones n</code> es la lista de pares de números naturales <code>(x,y)</code> tales que <code>n = x^2 + y^2</code> con <code>x &lt;= y</code>. Por ejemplo.</li>
</ul>
<div class="code"><pre class="code literal-block">     representaciones  20           ==  [(2,4)]
     representaciones  25           ==  [(0,5),(3,4)]
     representaciones 325           ==  [(1,18),(6,17),(10,15)]
     representaciones 100000147984  ==  [(0,316228)]
     length (representaciones (10^10))    ==  6
     length (representaciones (4*10^12))  ==  7
</pre></div>

<ul>
<li>
<code>primosImparesConRepresentacionUnica</code> es la lista de los números primos impares que se pueden escribir exactamente de una manera como suma de cuadrados de pares de números naturales <code>(x,y)</code> con <code>x &lt;= y</code>. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block">     λ&gt; take 20 primosImparesConRepresentacionUnica
     [5,13,17,29,37,41,53,61,73,89,97,101,109,113,137,149,157,173,181,193]
</pre></div>

<ul>
<li>
<code>primos4nM1</code> es la lista de los números primos que se pueden escribir como uno más un múltiplo de 4 (es decir, que son congruentes con 1 módulo 4). Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block">     λ&gt; take 20 primos4nM1
     [5,13,17,29,37,41,53,61,73,89,97,101,109,113,137,149,157,173,181,193]
</pre></div>

<p>El teorema de Navidad de Fermat afirma que un número primo impar p se puede escribir exactamente de una manera como suma de dos cuadrados de números naturales p = x² + y² (con x &lt;= y) si, y sólo si, p se puede escribir como uno más un múltiplo de 4 (es decir, que es congruente con 1 módulo 4).</p>
<p>Comprobar con QuickCheck el teorema de Navidad de Fermat; es decir, que para todo número n, los n-ésimos elementos de
primosImparesConRepresentacionUnica y de primos4nM1 son iguales.</p>
<p class="more"><a href="posts/2023/12/14-el_teorema_de_navidad_de_fermat/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/09-numeros_de_pentanacci/" class="u-url">Números de Pentanacci</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/09-numeros_de_pentanacci/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-09T06:00:00+02:00" itemprop="datePublished" title="09-12-2023">09-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Misceláneas</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los números de Fibonacci se definen mediante las ecuaciones</p>
<div class="code"><pre class="code literal-block">   F(0) = 0
   F(1) = 1
   F(n) = F(n-1) + F(n-2), si n &gt; 1
</pre></div>

<p>Los primeros números de Fibonacci son</p>
<div class="code"><pre class="code literal-block">   0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, ...
</pre></div>

<p>Una generalización de los anteriores son los números de Pentanacci definidos por las siguientes ecuaciones</p>
<div class="code"><pre class="code literal-block">   P(0) = 0
   P(1) = 1
   P(2) = 1
   P(3) = 2
   P(4) = 4
   P(n) = P(n-1) + P(n-2) + P(n-3) + P(n-4) + P(n-5), si n &gt; 4
</pre></div>

<p>Los primeros números de Pentanacci son</p>
<div class="code"><pre class="code literal-block">  0, 1, 1, 2, 4, 8, 16, 31, 61, 120, 236, 464, 912, 1793, 3525, ...
</pre></div>

<p>Definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">pentanacci</span><span class="w">  </span><span class="o">::</span><span class="w"> </span><span class="k">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">Integer</span>
<span class="w">   </span><span class="n">pentanaccis</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Integer</span><span class="o">]</span>
</pre></div>

<p>tales que</p>
<ul>
<li>
<code>pentanacci n</code> es el <code>n</code>-ésimo número de Pentanacci. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pentanacci</span><span class="w"> </span><span class="mi">14</span>
<span class="w">     </span><span class="mi">3525</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pentanacci</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="n n-Quoted">`mod`</span><span class="w"> </span><span class="mi">10</span><span class="o">^</span><span class="mi">30</span>
<span class="w">     </span><span class="mi">482929150584077921552549215816</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">length</span><span class="w"> </span><span class="p">(</span><span class="k">show</span><span class="w"> </span><span class="p">(</span><span class="n">pentanacci</span><span class="w"> </span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)))</span>
<span class="w">     </span><span class="mi">29357</span>
</pre></div>

<ul>
<li>
<code>pentanaccis</code> es la lista de los números de Pentanacci. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block">     λ&gt; take 15 pentanacci
     [0,1,1,2,4,8,16,31,61,120,236,464,912,1793,3525]
</pre></div>

<p class="more"><a href="posts/2023/12/09-numeros_de_pentanacci/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/12/04-algoritmo_de_bajada/" class="u-url">Algoritmo de bajada para resolver un sistema triangular inferior</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/12/04-algoritmo_de_bajada/" rel="bookmark">
            <time class="published dt-published" datetime="2023-12-04T06:00:00+02:00" itemprop="datePublished" title="04-12-2023">04-12-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un sistema de ecuaciones lineales \(Ax = b\) es triangular inferior si todos los elementos de la matriz \(A\) que están por encima de la diagonal principal son nulos; es decir, es de la forma
\begin{align}
   &amp;a_{1 1}x_1                                            &amp;= b_1 \newline
   &amp;a_{2 1}x_1 + a_{2 2}x_2                               &amp;= b_2 \newline
   &amp;a_{3 1}x_1 + a_{3 2}x_2 + a_{3 3}x_3                  &amp;= b_3 \newline
   &amp;...                                                   &amp;      \newline
   &amp;a_{n 1}x_1 + a_{n 2}x_2 + a_{n 3}x_3 +...+ a_{n n}x_n &amp;= b_n
\end{align}</p>
<p>El sistema es compatible si, y sólo si, el producto de los elementos de la diagonal principal es distinto de cero. En este caso, la solución se puede calcular mediante el algoritmo de bajada:
\begin{align}
   x_1 &amp;= \frac{b_1}{a_{1 1}} \newline
   x_2 &amp;= \frac{b_2 - a_{2 1}x_1}{a_{2 2}} \newline
   x_3 &amp;= \frac{b_3 - a_{3 1}x_1 - a_{3 2}x_2}{a_{3 3}} \newline
   ... \newline
   x_n &amp;= \frac{b_n - a_{n 1}x_1 - a_{n 2}x_2 - ... - a_{n,n-1}x_{n-1}}{a_{n n}}
\end{align}</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">bajada</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>bajada a b</code> es la solución, mediante el algoritmo de bajada, del sistema compatible triangular superior <code>ax = b</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; let a = fromLists [[2,0,0],[3,1,0],[4,2,5.0]]
   λ&gt; let b = fromLists [[3],[6.5],[10]]
   λ&gt; bajada a b
   ( 1.5 )
   ( 2.0 )
   ( 0.0 )
</pre></div>

<p>Es decir, la solución del sistema
\begin{align}
   2x           &amp;= 3   \newline
   3x + y       &amp;= 6.5 \newline
   4x + 2y + 5z &amp;= 10
\end{align}
es \(x=1.5\), \(y=2\) y \(z=0\).</p>
<p class="more"><a href="posts/2023/12/04-algoritmo_de_bajada/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/29-integracion_por_rectangulos/" class="u-url">Integración por el método de los rectángulos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/29-integracion_por_rectangulos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-29T06:00:00+02:00" itemprop="datePublished" title="29-11-2023">29-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La integral definida de una función f entre los límites a y b puede calcularse mediante la regla del rectángulo (ver en https://en.wikipedia.org/wiki/Riemann_sum) usando la fórmula
\[ h(f(a+\frac{h}{2}) + f(a+h+\frac{h}{2}) + f(a+2h+\frac{h}{2}) + ... + f(a+nh+\frac{h}{2}))\]
con \(a+nh+\frac{h}{2} \leq b &lt; a+(n+1)h+\frac{h}{2}\) y usando valores pequeños para \(h\).</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">integral</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Fractional</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span>
</pre></div>

<p>tal que <code>integral a b f h</code> es el valor de dicha expresión. Por ejemplo, el cálculo de la integral de (f(x) = x^3) entre 0 y 1, con paso 0.01, es</p>
<div class="code"><pre class="code literal-block">   integral 0 1 (^3) 0.01  ==  0.24998750000000042
</pre></div>

<p>Otros ejemplos son</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">integral</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="mf">0.01</span><span class="w">                        </span><span class="o">==</span><span class="w">  </span><span class="mf">0.19998333362500048</span>
<span class="w">   </span><span class="n">integral</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mf">0.01</span><span class="w">       </span><span class="o">==</span><span class="w">  </span><span class="mf">1.9999250000000026</span>
<span class="w">   </span><span class="nf">log</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">integral</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="mf">0.01</span><span class="w">         </span><span class="o">==</span><span class="w">  </span><span class="mf">3.124931644782336e-6</span>
<span class="w">   </span><span class="n">pi</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">integral</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="mf">0.01</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">-</span><span class="mf">8.333333331389525e-6</span>
</pre></div>

<p class="more"><a href="posts/2023/11/29-integracion_por_rectangulos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/24-raices_enteras/" class="u-url">Raíces enteras</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/24-raices_enteras/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-24T06:00:00+02:00" itemprop="datePublished" title="24-11-2023">24-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">raizEnt</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>raizEnt x n</code> es la raíz entera <code>n</code>-ésima de <code>x</code>; es decir, el mayor número entero <code>y</code> tal que \(y^n \leq x\). Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   raizEnt  8 3      ==  2
   raizEnt  9 3      ==  2
   raizEnt 26 3      ==  2
   raizEnt 27 3      ==  3
   raizEnt (10^50) 2 ==  10000000000000000000000000
</pre></div>

<p>Comprobar con QuickCheck que para todo número natural n,</p>
<div class="code"><pre class="code literal-block">    raizEnt (10^(2*n)) 2 == 10^n
</pre></div>

<p class="more"><a href="posts/2023/11/24-raices_enteras/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/19-metodo_de_biseccion_para_calcular_ceros_de_una_funcion/" class="u-url">Método de bisección para calcular raíces de una función</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/19-metodo_de_biseccion_para_calcular_ceros_de_una_funcion/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-19T06:00:00+02:00" itemprop="datePublished" title="19-11-2023">19-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El método de bisección para calcular una raíz de una función en el intervalo [a,b] se basa en el teorema de Bolzano:</p>
<blockquote>
<p>Si f(x) es una función continua en el intervalo \([a, b]\), y si, además, en los extremos del intervalo la función \(f\) toma valores de signo opuesto \((f(a)f(b) &lt; 0)\), entonces existe al menos un valor \(c\) en \((a, b)\) para el que \(f(c) = 0\)".</p>
</blockquote>
<p>El método para calcular una raíz de la función \(f\) en el intervalo \([a,b]\) con un error menor que \(e\) consiste en tomar el punto medio del intervalo \(c = \frac{a+b}{2}\) y considerar los siguientes casos:</p>
<ul>
<li>Si \(|f(c)| &lt; e\), hemos encontrado una aproximación del punto que anula \(f\) en el intervalo con un error aceptable.</li>
<li>Si \(f(c)\) tiene signo distinto de \(f(a)\), repetir el proceso en el intervalo \([a,c]\).</li>
<li>Si no, repetir el proceso en el intervalo \([c,b]\).</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">biseccion</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>biseccion f a b e</code> es una aproximación del punto del intervalo <code>[a,b]</code> en el que se anula la función <code>f</code>, con un error menor que <code>e</code>, calculada mediante el método de la bisección. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">biseccion</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mf">0.01</span><span class="w">             </span><span class="o">==</span><span class="w">  </span><span class="mf">1.7333984375</span>
<span class="w">   </span><span class="n">biseccion</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mf">0.01</span><span class="w">         </span><span class="o">==</span><span class="w">  </span><span class="mf">1.521484375</span>
<span class="w">   </span><span class="n">biseccion</span><span class="w"> </span><span class="nf">cos</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mf">0.01</span><span class="w">                         </span><span class="o">==</span><span class="w">  </span><span class="mf">1.5625</span>
<span class="w">   </span><span class="n">biseccion</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="p">(</span><span class="mi">50</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">0.01</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">-</span><span class="mf">5.125</span>
</pre></div>

<p class="more"><a href="posts/2023/11/19-metodo_de_biseccion_para_calcular_ceros_de_una_funcion/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/14-limites_de_sucesiones/" class="u-url">Límites de sucesiones</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/14-limites_de_sucesiones/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-14T06:00:00+02:00" itemprop="datePublished" title="14-11-2023">14-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">limite</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>limite f a</code> es el valor de <code>f</code> en el primer término <code>x</code> tal que, para todo y entre <code>x+1</code> y <code>x+100</code>, el valor absoluto de la diferencia entre <code>f(y)</code> y <code>f(x)</code> es menor que <code>a</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">limite</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="mf">0.001</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mf">1.9900110987791344</span>
<span class="w">   </span><span class="n">limite</span><span class="w"> </span><span class="p">(</span><span class="err">\</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="mf">0.001</span><span class="w">     </span><span class="o">==</span><span class="w">  </span><span class="mf">2.714072874546881</span>
</pre></div>

<p class="more"><a href="posts/2023/11/14-limites_de_sucesiones/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/09-funciones_inversas_por_el_metodo_de_newton/" class="u-url">Funciones inversas por el método de Newton</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/09-funciones_inversas_por_el_metodo_de_newton/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-09T06:00:00+02:00" itemprop="datePublished" title="09-11-2023">09-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir, usando puntoCero, la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">inversa</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>inversa g x</code> es el valor de la inversa de <code>g</code> en <code>x</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   inversa (^2) 9  ==  3.000000002941184
</pre></div>

<p>Definir, usando inversa, las funciones raizCuadrada, raizCubica, arcoseno y arcocoseno que calculen la raíz cuadrada, la raíz cúbica, el arco seno y el arco coseno, respectivamente. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   raizCuadrada 9  ==  3.000000002941184
   raizCubica 27   ==  3.0000000000196048
   arcoseno 1      ==  1.5665489428306574
   arcocoseno 0    ==  1.5707963267949576
</pre></div>

<p class="more"><a href="posts/2023/11/09-funciones_inversas_por_el_metodo_de_newton/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/11/04-metodo_de_newton_para_calcular_raices/" class="u-url">Método de Newton para calcular raíces</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/11/04-metodo_de_newton_para_calcular_raices/" rel="bookmark">
            <time class="published dt-published" datetime="2023-11-04T06:00:00+02:00" itemprop="datePublished" title="04-11-2023">04-11-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los ceros de una función pueden calcularse mediante el método de Newton basándose en las siguientes propiedades:</p>
<ul>
<li>Si \(b\) es una aproximación para el punto cero de \(f\), entonces
\[ b-\frac{f(b)}{f'(b)} \]
donde \(f'\) es la derivada de \(f\), es una mejor aproximación.</li>
<li>el límite de la sucesión \(x_n\) definida por
\begin{align}
     x_0     &amp;= 1 \newline
     x_{n+1} &amp;= x_n-\frac{f(x_n)}{f'(x_n)}
\end{align}
es un cero de \(f\).</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">puntoCero</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>puntoCero f</code> es un cero de la función <code>f</code> calculado usando la propiedad anterior. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   puntoCero cos  ==  1.5707963267949576
</pre></div>

<p class="more"><a href="posts/2023/11/04-metodo_de_newton_para_calcular_raices/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/29-metodo_de_heron_para_calcular_la_raiz_cuadrada/" class="u-url">Método de Herón para calcular la raíz cuadrada</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/29-metodo_de_heron_para_calcular_la_raiz_cuadrada/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-29T06:00:00+02:00" itemprop="datePublished" title="29-10-2023">29-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Cálculo numérico</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El método de Herón para calcular la raíz cuadrada de un número se basa en las siguientes propiedades:</p>
<ul>
<li>Si \(y\) es una aproximación de la raíz cuadrada de \(x\), entonces
\[\frac{y+\frac{x}{y}}{2}\] es una aproximación mejor.</li>
<li>El límite de la sucesión definida por
\begin{align}
      x_{0}   &amp;= 1 \newline
      x_{n+1} &amp;= \frac{x_n+\frac{x}{x_n}}{2}
\end{align}
es la raíz cuadrada de x.</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">raiz</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Double</span>
</pre></div>

<p>tal que <code>raiz x</code> es la raíz cuadrada de <code>x</code> calculada usando la propiedad anterior con una aproximación de 0.00001 y tomando como valor inicial 1. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   raiz 9  ==  3.000000001396984
</pre></div>

<p class="more"><a href="posts/2023/10/29-metodo_de_heron_para_calcular_la_raiz_cuadrada/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/24-camino_de_maxima_suma_en_una_matriz/" class="u-url">Camino de máxima suma en una matriz</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/24-camino_de_maxima_suma_en_una_matriz/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-24T06:00:00+02:00" itemprop="datePublished" title="24-10-2023">24-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los caminos desde el extremo superior izquierdo (posición (1,1)) hasta el extremo inferior derecho (posición (3,4)) en la matriz</p>
<div class="code"><pre class="code literal-block">   (  1  6 11  2 )
   (  7 12  3  8 )
   (  3  8  4  9 )
</pre></div>

<p>moviéndose en cada paso una casilla hacia la derecha o hacia abajo, son los siguientes:</p>
<div class="code"><pre class="code literal-block">   [1,6,11,2,8,9]
   [1,6,11,3,8,9]
   [1,6,12,3,8,9]
   [1,7,12,3,8,9]
   [1,6,11,3,4,9]
   [1,6,12,3,4,9]
   [1,7,12,3,4,9]
   [1,6,12,8,4,9]
   [1,7,12,8,4,9]
   [1,7, 3,8,4,9]
</pre></div>

<p>La suma de los caminos son 37, 38, 39, 40, 34, 35, 36, 40, 41 y 32, respectivamente. El camino de máxima suma es el penúltimo (1, 7, 12, 8, 4, 9) que tiene una suma de 41.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">caminoMaxSuma</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">Int</span><span class="o">]</span>
</pre></div>

<p>tal que <code>caminoMaxSuma m</code> es un camino de máxima suma en la matriz <code>m</code> desde el extremo superior izquierdo hasta el extremo inferior derecho, moviéndose en cada paso una casilla hacia abajo o hacia la derecha. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; caminoMaxSuma (fromLists [[1,6,11,2],[7,12,3,8],[3,8,4,9]])
   [1,7,12,8,4,9]
   λ&gt; sum (caminoMaxSuma (fromList 500 500 [1..]))
   187001249
</pre></div>

<p class="more"><a href="posts/2023/10/24-camino_de_maxima_suma_en_una_matriz/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/19-maxima_suma_de_los_caminos_en_una_matriz/" class="u-url">Máxima suma de los caminos en una matriz</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/19-maxima_suma_de_los_caminos_en_una_matriz/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-19T06:00:00+02:00" itemprop="datePublished" title="19-10-2023">19-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los caminos desde el extremo superior izquierdo (posición (1,1)) hasta el extremo inferior derecho (posición (3,4)) en la matriz</p>
<div class="code"><pre class="code literal-block">   (  1  6 11  2 )
   (  7 12  3  8 )
   (  3  8  4  9 )
</pre></div>

<p>moviéndose en cada paso una casilla hacia la derecha o hacia abajo, son los siguientes:</p>
<div class="code"><pre class="code literal-block">   [1,6,11,2,8,9]
   [1,6,11,3,8,9]
   [1,6,12,3,8,9]
   [1,7,12,3,8,9]
   [1,6,11,3,4,9]
   [1,6,12,3,4,9]
   [1,7,12,3,4,9]
   [1,6,12,8,4,9]
   [1,7,12,8,4,9]
   [1,7, 3,8,4,9]
</pre></div>

<p>La suma de los caminos son 37, 38, 39, 40, 34, 35, 36, 40, 41 y 32, respectivamente. El camino de máxima suma es el penúltimo (1, 7, 12, 8, 4, 9) que tiene una suma de 41.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">maximaSuma</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Int</span>
</pre></div>

<p>tal que <code>maximaSuma m</code> es el máximo de las sumas de los caminos en la matriz <code>m</code> desde el extremo superior izquierdo hasta el extremo inferior derecho, moviéndose en cada paso una casilla hacia abajo o hacia a derecha. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; maximaSuma (fromLists [[1,6,11,2],[7,12,3,8],[3,8,4,9]])
   41
   λ&gt; maximaSuma (fromList 800 800 [1..])
   766721999
</pre></div>

<p class="more"><a href="posts/2023/10/19-maxima_suma_de_los_caminos_en_una_matriz/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/14-caminos_en_una_matriz/" class="u-url">Caminos en una matriz (con programación dinámica)</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/14-caminos_en_una_matriz/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-14T06:00:00+02:00" itemprop="datePublished" title="14-10-2023">14-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los caminos desde el extremo superior izquierdo (posición (1,1)) hasta el extremo inferior derecho (posición (3,4)) en la matriz</p>
<div class="code"><pre class="code literal-block">   (  1  6 11  2 )
   (  7 12  3  8 )
   (  3  8  4  9 )
</pre></div>

<p>moviéndose en cada paso una casilla hacia la derecha o abajo, son los siguientes:</p>
<div class="code"><pre class="code literal-block">   [1,6,11,2,8,9]
   [1,6,11,3,8,9]
   [1,6,12,3,8,9]
   [1,7,12,3,8,9]
   [1,6,11,3,4,9]
   [1,6,12,3,4,9]
   [1,7,12,3,4,9]
   [1,6,12,8,4,9]
   [1,7,12,8,4,9]
   [1,7, 3,8,4,9]
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">caminos</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Matrix</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">[Int</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que <code>caminos m</code> es la lista de los caminos en la matriz <code>m</code> desde  extremo superior izquierdo hasta el extremo inferior derecho, moviéndose en cada paso una casilla hacia la derecha o abajo. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; caminos (fromLists [[1,6,11,2],[7,12,3,8],[3,8,4,9]])
   [[1,6,11,2,8,9],
    [1,6,11,3,8,9],
    [1,6,12,3,8,9],
    [1,7,12,3,8,9],
    [1,6,11,3,4,9],
    [1,6,12,3,4,9],
    [1,7,12,3,4,9],
    [1,6,12,8,4,9],
    [1,7,12,8,4,9],
    [1,7, 3,8,4,9]]
   λ&gt; length (caminos (fromList 12 12 [1..]))
   705432
</pre></div>

<p class="more"><a href="posts/2023/10/14-caminos_en_una_matriz/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/09-programacion_dinamica_caminos_en_una_reticula/" class="u-url">Caminos en una retícula (con programación dinámica)</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/09-programacion_dinamica_caminos_en_una_reticula/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-09T06:00:00+02:00" itemprop="datePublished" title="09-10-2023">09-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Se considera una retícula con sus posiciones numeradas, desde el vértice superior izquierdo, hacia la derecha y hacia abajo. Por ejemplo, la retícula de dimensión 3x4 se numera como sigue:</p>
<div class="code"><pre class="code literal-block">   |-------+-------+-------+-------|
   | (1,1) | (1,2) | (1,3) | (1,4) |
   | (2,1) | (2,2) | (2,3) | (2,4) |
   | (3,1) | (3,2) | (3,3) | (3,4) |
   |-------+-------+-------+-------|
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">caminos</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">[[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]]</span>
</pre></div>

<p>tal que <code>caminos (m,n)</code> es la lista de los caminos en la retícula de dimensión mxn desde (1,1) hasta (m,n). Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; caminos (2,3)
   [[(1,1),(1,2),(1,3),(2,3)],
    [(1,1),(1,2),(2,2),(2,3)],
    [(1,1),(2,1),(2,2),(2,3)]]
   λ&gt; mapM_ print (caminos (3,4))
   [(1,1),(1,2),(1,3),(1,4),(2,4),(3,4)]
   [(1,1),(1,2),(1,3),(2,3),(2,4),(3,4)]
   [(1,1),(1,2),(2,2),(2,3),(2,4),(3,4)]
   [(1,1),(2,1),(2,2),(2,3),(2,4),(3,4)]
   [(1,1),(1,2),(1,3),(2,3),(3,3),(3,4)]
   [(1,1),(1,2),(2,2),(2,3),(3,3),(3,4)]
   [(1,1),(2,1),(2,2),(2,3),(3,3),(3,4)]
   [(1,1),(1,2),(2,2),(3,2),(3,3),(3,4)]
   [(1,1),(2,1),(2,2),(3,2),(3,3),(3,4)]
   [(1,1),(2,1),(3,1),(3,2),(3,3),(3,4)]
</pre></div>

<p class="more"><a href="posts/2023/10/09-programacion_dinamica_caminos_en_una_reticula/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/10/04-levenshtein/" class="u-url">La distancia Levenshtein (con programación dinámica)</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/10/04-levenshtein/" rel="bookmark">
            <time class="published dt-published" datetime="2023-10-04T06:00:00+02:00" itemprop="datePublished" title="04-10-2023">04-10-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La distancia de Levenshtein (o distancia de edición) es el  mínimo de operaciones requeridas para transformar una cadena de caracteres en otra. Las operaciones de edición que se pueden hacer son:</p>
<ul>
<li>insertar un carácter (por ejemplo, de "abc" a "abca")</li>
<li>eliminar un carácter (por ejemplo, de "abc" a "ac")</li>
<li>sustituir un carácter (por ejemplo, de "abc" a "adc")</li>
</ul>
<p>Por ejemplo, la distancia de Levenshtein entre "casa" y "calle" es de 3 porque se necesitan al menos tres ediciones elementales para cambiar uno en el otro:</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="s">"casa"</span><span class="w">  </span><span class="o">--&gt;</span><span class="w"> </span><span class="s">"cala"</span><span class="w">  </span><span class="p">(</span><span class="n">sustitución</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="s">'s'</span><span class="w"> </span><span class="n">por</span><span class="w"> </span><span class="s">'l'</span><span class="p">)</span>
<span class="w">   </span><span class="s">"cala"</span><span class="w">  </span><span class="o">--&gt;</span><span class="w"> </span><span class="s">"calla"</span><span class="w"> </span><span class="p">(</span><span class="n">inserción</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="s">'l'</span><span class="w"> </span><span class="n">entre</span><span class="w"> </span><span class="s">'l'</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="s">'a'</span><span class="p">)</span>
<span class="w">   </span><span class="s">"calla"</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="s">"calle"</span><span class="w"> </span><span class="p">(</span><span class="n">sustitución</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="s">'a'</span><span class="w"> </span><span class="n">por</span><span class="w"> </span><span class="s">'e'</span><span class="p">)</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">levenshtein</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Int</span>
</pre></div>

<p>tal que <code>levenshtein xs ys</code> es la distancia de Levenshtein entre <code>xs</code> e <code>ys</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   levenshtein "casa"  "calle"    ==  3
   levenshtein "calle" "casa"     ==  3
   levenshtein "casa"  "casa"     ==  0
   levenshtein "ana" "maria"      ==  3
   levenshtein "agua" "manantial" ==  7
</pre></div>

<p class="more"><a href="posts/2023/10/04-levenshtein/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/29-subsecuencia_comun_maxima/" class="u-url">Subsecuencia común máxima</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/29-subsecuencia_comun_maxima/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-29T06:00:00+02:00" itemprop="datePublished" title="29-09-2023">29-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Si a una secuencia X de elementos (pongamos por ejemplo,  le quitamos algunos de ellos y dejamos los que quedan en el orden en el que aparecían originalmente tenemos lo que se llama una subsecuencia de X. Por ejemplo, "aaoa" es una subsecuencia de la secuencia "amapola".</p>
<p>El término también se aplica cuando quitamos todos los elementos (es decir, la secuencia vacía es siempre subsecuencia de cualquier secuencia) o cuando no quitamos ninguno (lo que significa que cualquier secuencia es siempre subsecuencia de sí misma).</p>
<p>Dadas dos secuencias X e Y, decimos que Z es una subsecuencia  de X e Y si Z es subsecuencia de X y de Y. Por ejemplo, si X = "amapola" e Y = "matamoscas", la secuencia "aaoa" es una de las subsecuencias comunes de X e Y más larga, con longitud 4, ya que no hay ninguna subsecuencia común a X e Y de longitud mayor que 4. También son subsecuencias comunes de longitud 4 "maoa" o "amoa".</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">scm</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span>
</pre></div>

<p>tal que <code>scm xs ys</code> es una de las subsecuencias comunes de longitud máxima de <code>xs</code> e <code>ys</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   scm "amapola" "matamoscas" == "amoa"
   scm "atamos" "matamoscas"  == "atamos"
   scm "aaa" "bbbb"           == ""
</pre></div>

<p class="more"><a href="posts/2023/09/29-subsecuencia_comun_maxima/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/24-longitud_scm/" class="u-url">Longitud de la subsecuencia común máxima.</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/24-longitud_scm/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-24T06:00:00+02:00" itemprop="datePublished" title="24-09-2023">24-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Si a una secuencia X de elementos (pongamos por ejemplo, caracteres) le quitamos algunos de ellos y dejamos los que quedan en el orden en el que aparecían originalmente tenemos lo que se llama una subsecuencia de X. Por ejemplo, "aaoa" es una subsecuencia de la secuencia "amapola".</p>
<p>El término también se aplica cuando quitamos todos los elementos (es decir, la secuencia vacía es siempre subsecuencia de cualquier secuencia) o cuando no quitamos ninguno (lo que significa que cualquier secuencia es siempre subsecuencia de sí misma).</p>
<p>Dadas dos secuencias X e Y, decimos que Z es una subsecuencia común de X e Y si Z es subsecuencia de X y de Y. Por ejemplo, si X = "amapola" e Y = "matamoscas", la secuencia "aaoa" es una de las subsecuencias comunes de X e Y más larga, con longitud 4, ya que no hay ninguna subsecuencia común a X e Y de longitud mayor que 4. También son subsecuencias comunes de longitud 4 "maoa" o "amoa".</p>
<p>Se desea encontrar la longitud de las subsecuencias comunes más largas de dos secuencias de caracteres dadas.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">longitudSCM</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Eq</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Int</span>
</pre></div>

<p>tal que <code>longitudSCM xs ys</code> es la longitud de la subsecuencia máxima de <code>xs</code> e <code>ys</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   longitudSCM "amapola" "matamoscas" == 4
   longitudSCM "atamos" "matamoscas"  == 6
   longitudSCM "aaa" "bbbb"           == 0
</pre></div>

<p class="more"><a href="posts/2023/09/24-longitud_scm/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/19-coeficientes_binomiales/" class="u-url">Coeficientes binomiales</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/19-coeficientes_binomiales/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-19T06:00:00+02:00" itemprop="datePublished" title="19-09-2023">19-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El coeficiente binomial <code>n</code> sobre <code>k</code> es el número de subconjuntos de <code>k</code> elementos escogidos de un conjunto con <code>n</code> elementos.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">binomial</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>binomial n k</code> es el coeficiente binomial <code>n</code> sobre <code>k</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   binomial 6 3 == 20
   binomial 5 2 == 10
   binomial 5 3 == 10
</pre></div>

<p class="more"><a href="posts/2023/09/19-coeficientes_binomiales/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/14-la_funcion_de_fibonacci_por_programacion_dinamica/" class="u-url">La función de Fibonacci por programación dinámica</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/14-la_funcion_de_fibonacci_por_programacion_dinamica/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-14T06:00:00+02:00" itemprop="datePublished" title="14-09-2023">14-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Programación dinámica</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Los primeros términos de la sucesión de Fibonacci son</p>
<div class="code"><pre class="code literal-block">   0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, ...
</pre></div>

<p>Escribir dos definiciones (una recursiva y otra con programación dinámica) de la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">fib</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Integer</span>
</pre></div>

<p>tal que <code>fib n</code> es el <code>n</code>-ésimo término de la sucesión de Fibonacci. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   fib 6 == 8
</pre></div>

<p>Comparar la eficiencia de las dos definiciones.</p>
<p class="more"><a href="posts/2023/09/14-la_funcion_de_fibonacci_por_programacion_dinamica/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/09-problema_de_las_jarras/" class="u-url">Problema de las jarras</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/09-problema_de_las_jarras/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-09T06:00:00+02:00" itemprop="datePublished" title="09-09-2023">09-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>En el problema de las jarras (A,B,C) se tienen dos jarras sin marcas de medición, una de A litros de capacidad y otra de B. También se dispone de una bomba que permite llenar las jarras de agua.</p>
<p>El problema de las jarras (A,B,C) consiste en determinar cómo se puede lograr tener exactamente C litros de agua en la jarra de A litros de capacidad.</p>
<p>Usando el <a href="https://jaalonso.github.io/exercitium/posts/2023/06/29-busquedaenanchura/">procedimiento de búsqueda en anchura</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">jarras</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">[[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]]</span>
</pre></div>

<p>tal <code>jarras (a,b,c)</code> es la lista de las soluciones del problema de las jarras <code>(a,b,c)</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; take 3 (jarras (4,3,2))
   [[(0,0),(0,3),(3,0),(3,3),(4,2),(0,2),(2,0)],
    [(0,0),(4,0),(1,3),(1,0),(0,1),(4,1),(2,3)],
    [(0,0),(0,3),(3,0),(4,0),(1,3),(1,0),(0,1),(4,1),(2,3)]]
</pre></div>

<p>La interpretación [(0,0),(4,0),(1,3),(1,0),(0,1),(4,1),(2,3)] es:</p>
<ul>
<li>(0,0) se inicia con las dos jarras vacías,</li>
<li>(4,0) se llena la jarra de 4 con el grifo,</li>
<li>(1,3) se llena la de 3 con la de 4,</li>
<li>(1,0) se vacía la de 3,</li>
<li>(0,1) se pasa el contenido de la primera a la segunda,</li>
<li>(4,1) se llena la primera con el grifo,</li>
<li>(2,3) se llena la segunda con la primera.</li>
</ul>
<p>Otros ejemplos</p>
<div class="code"><pre class="code literal-block">   λ&gt; length (jarras (15,10,5))
   8
   λ&gt; map length (jarras (15,10,5))
   [3,5,5,7,7,7,8,9]
   λ&gt; jarras (15,10,4)
   []
</pre></div>

<p class="more"><a href="posts/2023/09/09-problema_de_las_jarras/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/09/04-problema_de_suma_cero/" class="u-url">Problema de suma cero</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/09/04-problema_de_suma_cero/" rel="bookmark">
            <time class="published dt-published" datetime="2023-09-04T06:00:00+02:00" itemprop="datePublished" title="04-09-2023">04-09-2023</time></a>
            </p>
		    <p><span class="text-dark">Espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El problema de suma cero consiste en, dado el conjunto de  enteros, encontrar sus subconjuntos no vacío cuyos elementos sumen cero.</p>
<p>Usando el <a href="https://jaalonso.github.io/exercitium/posts/2023/06/28-busquedaenprofundidad/">procedimiento de búsqueda en profundidad</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">suma0</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Int</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">[Int</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que <code>suma0 ns</code> es la lista de las soluciones del problema de suma cero para <code>ns</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; suma0 [-7,-3,-2,5,8]
   [[-3,-2,5]]
   λ&gt; suma0 [-7,-3,-2,5,8,-1]
   [[-7,-3,-2,-1,5,8],[-7,-1,8],[-3,-2,5]]
   λ&gt; suma0 [-7,-3,1,5,8]
   []
</pre></div>

<p class="more"><a href="posts/2023/09/04-problema_de_suma_cero/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/29-el_problema_del_domino/" class="u-url">El problema del dominó</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/29-el_problema_del_domino/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-29T06:00:00+02:00" itemprop="datePublished" title="29-08-2023">29-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Las fichas del dominó se pueden representar por pares de  enteros. El problema del dominó consiste en colocar todas las fichas de una lista dada de forma que el segundo número de cada ficha coincida con el primero de la siguiente.</p>
<p>Usando el <a href="posts/2023/06/28-busquedaenprofundidad">procedimiento de búsqueda en profundidad</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">domino</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">[[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]]</span>
</pre></div>

<p>tal que <code>domino fs</code> es la lista de las soluciones del problema del dominó correspondiente a las fichas <code>fs</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; domino [(1,2),(2,3),(1,4)]
   [[(4,1),(1,2),(2,3)],[(3,2),(2,1),(1,4)]]
   λ&gt; domino [(1,2),(1,1),(1,4)]
   [[(4,1),(1,1),(1,2)],[(2,1),(1,1),(1,4)]]
   λ&gt; domino [(1,2),(3,4),(2,3)]
   [[(1,2),(2,3),(3,4)],[(4,3),(3,2),(2,1)]]
   λ&gt; domino [(1,2),(2,3),(5,4)]
   []
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/29-el_problema_del_domino/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/29-el_problema_del_domino/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">El_problema_del_domino</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnProfundidad</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaProfundidad</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">delete</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="c1">-- Las fichas son pares de números enteros.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Ficha</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span>

<span class="c1">-- Un problema está definido por la lista de fichas que hay que colocar</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Problema</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="kt">Ficha</span><span class="p">]</span>

<span class="c1">-- Los estados son los pares formados por la listas sin colocar y las</span>
<span class="c1">-- colocadas.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">([</span><span class="kt">Ficha</span><span class="p">],[</span><span class="kt">Ficha</span><span class="p">])</span>

<span class="c1">-- (inicial p) es el estado inicial del problema p. Por ejemplo,</span>
<span class="c1">--    λ&gt; inicial [(1,2),(2,3),(1,4)]</span>
<span class="c1">--    ([(1,2),(2,3),(1,4)],[])</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Problema</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="kt">[]</span><span class="p">)</span>

<span class="c1">-- (esFinal e) se verifica si e es un estado final. Por ejemplo,</span>
<span class="c1">--    λ&gt; esFinal ([], [(4,1),(1,2),(2,3)])</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; esFinal ([(2,3)], [(4,1),(1,2)])</span>
<span class="c1">--    False</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">fst</span>

<span class="c1">-- (sucesores e) es la lista de los sucesores del estado e. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores ([(1,2),(2,3),(1,4)],[])</span>
<span class="c1">--    [([(2,3),(1,4)],[(1,2)]),</span>
<span class="c1">--     ([(1,2),(1,4)],[(2,3)]),</span>
<span class="c1">--     ([(1,2),(2,3)],[(1,4)]),</span>
<span class="c1">--     ([(2,3),(1,4)],[(2,1)]),</span>
<span class="c1">--     ([(1,2),(1,4)],[(3,2)]),</span>
<span class="c1">--     ([(1,2),(2,3)],[(4,1)])]</span>
<span class="c1">--    λ&gt; sucesores ([(2,3),(1,4)],[(1,2)])</span>
<span class="c1">--    [([(2,3)],[(4,1),(1,2)])]</span>
<span class="c1">--    λ&gt; sucesores ([(2,3),(1,4)],[(2,1)])</span>
<span class="c1">--    [([(1,4)],[(3,2),(2,1)])]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">fs</span><span class="p">,</span><span class="kt">[]</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="n">delete</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="p">[(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)])</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">delete</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="p">[(</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)])</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fs</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">fs</span><span class="p">,</span><span class="n">e</span><span class="o">@</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="n">delete</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">,(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="kt">:</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">delete</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">,(</span><span class="n">v</span><span class="p">,</span><span class="n">u</span><span class="p">)</span><span class="kt">:</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">delete</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">,(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="kt">:</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">fs</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">x</span><span class="p">]</span>

<span class="c1">-- (soluciones p) es la lista de las soluciones del problema p. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; soluciones [(1,2),(2,3),(1,4)]</span>
<span class="c1">--    [([],[(4,1),(1,2),(2,3)]),([],[(3,2),(2,1),(1,4)])]</span>
<span class="nf">soluciones</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Problema</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">soluciones</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>

<span class="nf">domino</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Problema</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="kt">Ficha</span><span class="p">]]</span>
<span class="nf">domino</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">snd</span><span class="w"> </span><span class="p">(</span><span class="n">soluciones</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">domino</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)],[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">domino</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e3"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">domino</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)],[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e4"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">domino</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="kt">[]</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--    e3</span>
<span class="c1">--    e4</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0013 seconds</span>
<span class="c1">--    4 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">src.BusquedaEnProfundidad</span> <span class="kn">import</span> <span class="n">buscaProfundidad</span>

<span class="c1"># Las fichas son pares de números enteros.</span>
<span class="n">Ficha</span>  <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>

<span class="c1"># Un problema está definido por la lista de fichas que hay que colocar</span>
<span class="n">Problema</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">]</span>

<span class="c1"># Los estados son los pares formados por la listas sin colocar y las</span>
<span class="c1"># colocadas.</span>
<span class="n">Estado</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">]]</span>

<span class="c1"># inicial(p) es el estado inicial del problema p. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; inicial([(1,2),(2,3),(1,4)])</span>
<span class="c1">#    ([(1, 2), (2, 3), (1, 4)], [])</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Problema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="p">[])</span>

<span class="c1"># esFinal(e) se verifica si e es un estado final. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(([], [(4,1),(1,2),(2,3)]))</span>
<span class="c1">#    True</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(([(2,3)], [(4,1),(1,2)]))</span>
<span class="c1">#    False</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># elimina(f, fs) es la lista obtenida eliminando la ficha f de la lista</span>
<span class="c1"># fs. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; elimina((1,2),[(4,1),(1,2),(2,3)])</span>
<span class="c1">#    [(4, 1), (2, 3)]</span>
<span class="k">def</span> <span class="nf">elimina</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Ficha</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">g</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">fs</span> <span class="k">if</span> <span class="n">g</span> <span class="o">!=</span> <span class="n">f</span><span class="p">]</span>

<span class="c1"># sucesores(e) es la lista de los sucesores del estado e. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(([(1,2),(2,3),(1,4)],[]))</span>
<span class="c1">#    [([(2,3),(1,4)],[(1,2)]),</span>
<span class="c1">#     ([(1,2),(1,4)],[(2,3)]),</span>
<span class="c1">#     ([(1,2),(2,3)],[(1,4)]),</span>
<span class="c1">#     ([(2,3),(1,4)],[(2,1)]),</span>
<span class="c1">#     ([(1,2),(1,4)],[(3,2)]),</span>
<span class="c1">#     ([(1,2),(2,3)],[(4,1)])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(([(2,3),(1,4)],[(1,2)]))</span>
<span class="c1">#    [([(2,3)],[(4,1),(1,2)])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(([(2,3),(1,4)],[(2,1)]))</span>
<span class="c1">#    [([(1,4)],[(3,2),(2,1)])]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">elimina</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">),</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)])</span> <span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">]</span> <span class="o">+</span> \
               <span class="p">[(</span><span class="n">elimina</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">),</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">[(</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)])</span> <span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">elimina</span><span class="p">((</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">),</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),[(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span><span class="o">+</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">==</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span>\
           <span class="p">[(</span><span class="n">elimina</span><span class="p">((</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">),</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),[(</span><span class="n">v</span><span class="p">,</span><span class="n">u</span><span class="p">)]</span><span class="o">+</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">u</span> <span class="o">==</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span>\
           <span class="p">[(</span><span class="n">elimina</span><span class="p">((</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">),</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),[(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span><span class="o">+</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">u</span> <span class="o">==</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">u</span> <span class="o">==</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1"># soluciones(p) es la lista de las soluciones del problema p. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; soluciones([(1,2),(2,3),(1,4)])</span>
<span class="c1">#    [([], [(3, 2), (2, 1), (1, 4)]), ([], [(4, 1), (1, 2), (2, 3)])]</span>
<span class="k">def</span> <span class="nf">soluciones</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Problema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">buscaProfundidad</span><span class="p">(</span><span class="n">sucesores</span><span class="p">,</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">domino</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Problema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">soluciones</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>

<span class="c1"># # Verificación</span>
<span class="c1"># # ============</span>

<span class="k">def</span> <span class="nf">test_domino</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">domino</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span> <span class="o">==</span> \
        <span class="p">[[(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]]</span>
    <span class="k">assert</span> <span class="n">domino</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span> <span class="o">==</span> \
        <span class="p">[[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]]</span>
    <span class="k">assert</span> <span class="n">domino</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span> <span class="o">==</span> \
        <span class="p">[[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]]</span>
    <span class="k">assert</span> <span class="n">domino</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span> <span class="o">==</span> \
        <span class="p">[]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    &gt;&gt;&gt; test_domino()</span>
<span class="c1">#    Verificado</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/24-el_problema_del_calendario_mediante_busqueda_en_espacio_de_estado/" class="u-url">El problema del calendario mediante búsqueda en espacio de estado</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/24-el_problema_del_calendario_mediante_busqueda_en_espacio_de_estado/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-24T06:00:00+02:00" itemprop="datePublished" title="24-08-2023">24-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>El problema del calendario, para una competición deportiva en la que se enfrentan n participantes, consiste en elaborar un calendario de forma que:</p>
<ul>
<li>el campeonato dure n-1 días,</li>
<li>cada participante juegue exactamente un partido diario y</li>
<li>cada participante juegue exactamente una vez con cada adversario.</li>
</ul>
<p>Por ejemplo, con 8 participantes una posible solución es</p>
<div class="code"><pre class="code literal-block">     | 1 2 3 4 5 6 7
   --+--------------
   1 | 2 3 4 5 6 7 8
   2 | 1 4 3 6 5 8 7
   3 | 4 1 2 7 8 5 6
   4 | 3 2 1 8 7 6 5
   5 | 6 7 8 1 2 3 4
   6 | 5 8 7 2 1 4 3
   7 | 8 5 6 3 4 1 2
   8 | 7 6 5 4 3 2 1
</pre></div>

<p>donde las filas indican los jugadores y las columnas los días; es decir, el elemento (i,j) indica el adversario del jugador i el día j; por ejemplo, el adversario del jugador 2 el 4ª día es el jugador 6.</p>
<p>Para representar el problema se define el tipo Calendario como matrices de enteros,</p>
<p>Usando el <a href="posts/2023/06/28-busquedaenprofundidad">procedimiento de búsqueda en profundidad</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">calendario</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">Calendario</span><span class="o">]</span>
</pre></div>

<p>tal que <code>calendario n</code> son las soluciones del problema del calendario, con n participantes, mediante el patrón de búsqueda em profundidad. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; head (calendario 6)
   ┌           ┐
   │ 2 3 4 5 6 │
   │ 1 4 5 6 3 │
   │ 5 1 6 4 2 │
   │ 6 2 1 3 5 │
   │ 3 6 2 1 4 │
   │ 4 5 3 2 1 │
   └           ┘

   λ&gt; length (calendario 6)
   720
   λ&gt; length (calendario 5)
   0
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/24-el_problema_del_calendario_mediante_busqueda_en_espacio_de_estado/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/24-el_problema_del_calendario_mediante_busqueda_en_espacio_de_estado/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">El_problema_del_calendario_mediante_busqueda_en_espacio_de_estado</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnProfundidad</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaProfundidad</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.Matrix</span><span class="w"> </span><span class="p">(</span><span class="kt">Matrix</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">),</span><span class="w"> </span><span class="nf">nrows</span><span class="p">,</span><span class="w"> </span><span class="nf">zero</span><span class="p">,</span><span class="w"> </span><span class="nf">setElem</span><span class="p">,</span><span class="w"> </span><span class="nf">toLists</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">((</span><span class="o">\\</span><span class="p">))</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Calendario</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Matrix</span><span class="w"> </span><span class="kt">Int</span>

<span class="c1">-- (inicial n) es el estado inicial para el problema del calendario con</span>
<span class="c1">-- n participantes; es decir, una matriz de n fila y n-1 columnas con</span>
<span class="c1">-- todos sus elementos iguales a 0. Por ejemplo,</span>
<span class="c1">--    λ&gt; inicial 4</span>
<span class="c1">--    ┌       ┐</span>
<span class="c1">--    │ 0 0 0 │</span>
<span class="c1">--    │ 0 0 0 │</span>
<span class="c1">--    │ 0 0 0 │</span>
<span class="c1">--    │ 0 0 0 │</span>
<span class="c1">--    └       ┘</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Calendario</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">-- (huecos c) es la lista de las posiciones de c cuyo valor es 0.</span>
<span class="nf">huecos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Calendario</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="p">)]</span>
<span class="nf">huecos</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span><span class="p">],</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">c</span><span class="o">!</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">nrows</span><span class="w"> </span><span class="n">c</span>

<span class="c1">-- (sucesores c) es la lista de calendarios obtenidos poniendo en el</span>
<span class="c1">-- lugar del primer elemento nulo de c uno de los posibles jugadores de</span>
<span class="c1">-- forma que se cumplan las condiciones del problema. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores (inicial 4)</span>
<span class="c1">--    [┌       ┐  ┌       ┐  ┌       ┐</span>
<span class="c1">--     │ 2 0 0 │  │ 3 0 0 │  │ 4 0 0 │</span>
<span class="c1">--     │ 1 0 0 │  │ 0 0 0 │  │ 0 0 0 │</span>
<span class="c1">--     │ 0 0 0 │  │ 1 0 0 │  │ 0 0 0 │</span>
<span class="c1">--     │ 0 0 0 │  │ 0 0 0 │  │ 1 0 0 │</span>
<span class="c1">--     └       ┘, └       ┘, └       ┘]</span>
<span class="c1">--    λ&gt; sucesores (fromLists [[2,3,0],[1,0,0],[0,1,0],[0,0,0]])</span>
<span class="c1">--    [┌       ┐</span>
<span class="c1">--     │ 2 3 4 │</span>
<span class="c1">--     │ 1 0 0 │</span>
<span class="c1">--     │ 0 1 0 │</span>
<span class="c1">--     │ 0 0 1 │</span>
<span class="c1">--     └       ┘]</span>
<span class="c1">--    λ&gt; sucesores (fromLists [[2,3,4],[1,0,0],[0,1,0],[0,0,1]])</span>
<span class="c1">--    [┌       ┐</span>
<span class="c1">--     │ 2 3 4 │</span>
<span class="c1">--     │ 1 4 0 │</span>
<span class="c1">--     │ 0 1 0 │</span>
<span class="c1">--     │ 0 2 1 │</span>
<span class="c1">--     └       ┘]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Calendario</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Calendario</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="n">setElem</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">setElem</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">   </span><span class="n">k</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="p">[</span><span class="n">c</span><span class="o">!</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="w"> </span><span class="o">++</span>
<span class="w">                       </span><span class="p">[</span><span class="n">c</span><span class="o">!</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]]),</span>
<span class="w">   </span><span class="n">c</span><span class="o">!</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>
<span class="w">  </span><span class="kr">where</span>
<span class="w">    </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">nrows</span><span class="w"> </span><span class="n">c</span>
<span class="w">    </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">huecos</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>

<span class="c1">-- (esFinal c) se verifica si c un estado final para el problema</span>
<span class="c1">-- del calendario con n participantes; es decir, no queda en c ningún</span>
<span class="c1">-- elemento igual a 0. Por ejemplo,</span>
<span class="c1">--    λ&gt; esFinal (fromLists [[2,3,4],[1,4,3],[4,1,2],[3,2,1]])</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; esFinal (fromLists [[2,3,4],[1,4,3],[4,1,2],[3,2,0]])</span>
<span class="c1">--    False</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Calendario</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="p">(</span><span class="n">huecos</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>

<span class="nf">calendario</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Calendario</span><span class="p">]</span>
<span class="nf">calendario</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">toLists</span><span class="w"> </span><span class="p">(</span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">calendario</span><span class="w"> </span><span class="mi">6</span><span class="p">))</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">calendario</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="mi">720</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e3"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">calendario</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="mi">0</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--    e3</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.2580 seconds</span>
<span class="c1">--    3 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">numpy.typing</span> <span class="k">as</span> <span class="nn">npt</span>

<span class="kn">from</span> <span class="nn">src.BusquedaEnProfundidad</span> <span class="kn">import</span> <span class="n">buscaProfundidad</span>

<span class="n">Calendario</span> <span class="o">=</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">complex64</span><span class="p">]</span>

<span class="c1"># inicial(n) es el estado inicial para el problema del calendario con</span>
<span class="c1"># n participantes; es decir, una matriz de n fila y n-1 columnas con</span>
<span class="c1"># todos sus elementos iguales a 0. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; inicial(4)</span>
<span class="c1">#    array([[0, 0, 0],</span>
<span class="c1">#           [0, 0, 0],</span>
<span class="c1">#           [0, 0, 0],</span>
<span class="c1">#           [0, 0, 0]])</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Calendario</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># primerHueco(c) es la posición del primer elemento cuyo valor es 0. Si</span>
<span class="c1"># todos los valores son distintos de 0, devuelve (-1,-1). Por ejemplo,</span>
<span class="c1">#    primerHueco(np.array([[1,2,3],[4,5,0],[7,0,0]])) == (1, 2)</span>
<span class="c1">#    primerHueco(np.array([[1,2,3],[4,5,6],[7,8,0]])) == (2, 2)</span>
<span class="c1">#    primerHueco(np.array([[1,2,3],[4,5,6],[7,8,9]])) == (-1, -1)</span>
<span class="k">def</span> <span class="nf">primerHueco</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">shape</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># libres(c, i, j) es la lista de valores que que pueden poner en la</span>
<span class="c1"># posición (i,j) del calendario c. Por ejemplo,</span>
<span class="c1">#    libres(np.array([[0,0,0],[0,0,0],[0,0,0],[0,0,0]]),0,0) == [2, 3, 4]</span>
<span class="c1">#    libres(np.array([[2,0,0],[1,0,0],[0,0,0],[0,0,0]]),0,1) == [3, 4]</span>
<span class="c1">#    libres(np.array([[2,3,0],[1,0,0],[0,1,0],[0,0,0]]),0,2) == [4]</span>
<span class="c1">#    libres(np.array([[2,3,4],[1,0,0],[0,1,0],[0,0,1]]),1,1) == [4]</span>
<span class="c1">#    libres(np.array([[2,3,4],[1,4,0],[0,1,0],[0,2,1]]),1,2) == [3]</span>
<span class="k">def</span> <span class="nf">libres</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
                <span class="o">-</span> <span class="p">{</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span>
                <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">[:,</span><span class="n">j</span><span class="p">]))</span>

<span class="c1"># setElem(k, i, j, c) es el calendario obtenido colocando en c el valor</span>
<span class="c1"># k en la posición (i,j).</span>
<span class="c1">#    &gt;&gt;&gt; setElem(7,1,2,np.array([[1,2,3],[4,5,0],[0,0,0]]))</span>
<span class="c1">#    array([[1, 2, 3],</span>
<span class="c1">#           [4, 5, 7],</span>
<span class="c1">#           [0, 0, 0]])</span>
<span class="k">def</span> <span class="nf">setElem</span><span class="p">(</span><span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Calendario</span><span class="p">:</span>
    <span class="n">_c</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_c</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span>
    <span class="k">return</span> <span class="n">_c</span>

<span class="c1"># sucesores(c) es la lista de calendarios obtenidos poniendo en el</span>
<span class="c1"># lugar del primer elemento nulo de c uno de los posibles jugadores de</span>
<span class="c1"># forma que se cumplan las condiciones del problema. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[0,0,0],[0,0,0],[0,0,0],[0,0,0]]))</span>
<span class="c1">#    [array([[2,0,0], [1,0,0], [0,0,0], [0,0,0]]),</span>
<span class="c1">#     array([[3,0,0], [0,0,0], [1,0,0], [0,0,0]]),</span>
<span class="c1">#     array([[4,0,0], [0,0,0], [0,0,0], [1,0,0]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,0,0],[1,0,0],[0,0,0],[0,0,0]]))</span>
<span class="c1">#    [array([[2,3,0], [1,0,0], [0,1,0], [0,0,0]]),</span>
<span class="c1">#     array([[2,4,0], [1,0,0], [0,0,0], [0,1,0]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,3,0],[1,0,0],[0,1,0],[0,0,0]]))</span>
<span class="c1">#    [array([[2,3,4], [1,0,0], [0,1,0], [0,0,1]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,3,4],[1,0,0],[0,1,0],[0,0,1]]))</span>
<span class="c1">#    [array([[2,3,4], [1,4,0], [0,1,0], [0,2,1]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,3,4],[1,4,0],[0,1,0],[0,2,1]]))</span>
<span class="c1">#    [array([[2,3,4], [1,4,3], [0,1,2], [0,2,1]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,3,4],[1,4,3],[0,1,2],[0,2,1]]))</span>
<span class="c1">#    [array([[2,3,4], [1,4,3], [4,1,2], [3,2,1]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(np.array([[2,3,4],[1,4,3],[4,1,2],[3,2,1]]))</span>
<span class="c1">#    []</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Calendario</span><span class="p">]:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="o">=</span> <span class="n">primerHueco</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">setElem</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">setElem</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">libres</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)]</span>

<span class="c1"># esFinal(c) se verifica si c un estado final para el problema</span>
<span class="c1"># del calendario con n participantes; es decir, no queda en c ningún</span>
<span class="c1"># elemento igual a 0. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(np.array([[2,3,4],[1,4,3],[4,1,2],[3,2,1]]))</span>
<span class="c1">#    True</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(np.array([[2,3,4],[1,4,3],[4,1,2],[3,2,0]]))</span>
<span class="c1">#    False</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">primerHueco</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">calendario</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Calendario</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">buscaProfundidad</span><span class="p">(</span><span class="n">sucesores</span><span class="p">,</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_calendario</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">filas</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Calendario</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">assert</span> <span class="n">filas</span><span class="p">(</span><span class="n">calendario</span><span class="p">(</span><span class="mi">6</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> \
        <span class="p">[[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
         <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
         <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
         <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
         <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
         <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">calendario</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="o">==</span> <span class="mi">720</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">calendario</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/19-bee_el_problema_de_las_fichas/" class="u-url">El problema de las fichas mediante búsqueda en espacio de estado</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/19-bee_el_problema_de_las_fichas/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-19T06:00:00+02:00" itemprop="datePublished" title="19-08-2023">19-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Para el problema de las fichas de orden (m,n) se considera un tablero con m+n+1 cuadrados consecutivos.</p>
<p>Inicialmente, en cada uno de los m primeros cuadrados hay una  blanca, a continuación un hueco y  en cada uno de los n últimos cuadrados hay una ficha verde. El objetivo consiste en tener las fichas verdes al principio y las blancas al final.</p>
<p>Por ejemplo, en el problema de las fichas de orden (3,3) el tablero inicial es</p>
<div class="code"><pre class="code literal-block">      +---+---+---+---+---+---+---+
      | B | B | B |   | V | V | V |
      +---+---+---+---+---+---+---+
</pre></div>

<p>y el final es</p>
<div class="code"><pre class="code literal-block">      +---+---+---+---+---+---+---+
      | V | V | V |   | B | B | B |
      +---+---+---+---+---+---+---+
</pre></div>

<p>Los movimientos permitidos consisten en desplazar una ficha al hueco saltando, como máximo, sobre otras dos.</p>
<p>Para representar el problema se definen los siguientes tipos de datos:</p>
<ul>
<li>
<code>Ficha</code> con tres constructores <code>B</code>, <code>V</code> y <code>H</code> que representan las fichas blanca, verde y hueco, respectivamente.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="nv">data</span><span class="w"> </span><span class="nv">Ficha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">V</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">H</span>
<span class="w">       </span><span class="nv">deriving</span><span class="w"> </span><span class="ss">(</span><span class="nv">Eq</span>,<span class="w"> </span><span class="k">Show</span><span class="ss">)</span>
</pre></div>

<ul>
<li>
<code>Tablero</code> que es una lista de fichas que representa las fichas colocadas en el tablero.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">type</span><span class="w"> </span><span class="n">Tablero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">Ficha</span><span class="o">]</span>
</pre></div>

<ul>
<li>
<code>Estado</code> representa los estados del espacio de búsqueda, donde un estado es una lista de tableros [t(n), ..., t(2), t(1)] tal que t(1) es el tablero inicial y para cada i (2 &lt;= i &lt;= n), t(i) es un sucesor de t(i-1).</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">newtype</span><span class="w"> </span><span class="n">Estado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="o">[</span><span class="n">Tablero</span><span class="o">]</span>
<span class="w">       </span><span class="n">deriving</span><span class="w"> </span><span class="p">(</span><span class="n">Eq</span><span class="p">,</span><span class="w"> </span><span class="n">Show</span><span class="p">)</span>
</pre></div>

<ul>
<li>
<code>Busqueda</code> es un procedimiento de búsqueda</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">type</span><span class="w"> </span><span class="n">Busqueda</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Estado</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">Estado</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                     </span><span class="p">(</span><span class="n">Estado</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Bool</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                     </span><span class="n">Estado</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">                     </span><span class="o">[</span><span class="n">Estado</span><span class="o">]</span>
</pre></div>

<p>Además, se considera la heurística que para cada tablero vale la suma de piezas blancas situadas a la izquierda de cada una de las piezas verdes. Por  ejemplo, para el estado</p>
<div class="code"><pre class="code literal-block">      +---+---+---+---+---+---+---+
      | B | V | B |   | V | V | B |
      +---+---+---+---+---+---+---+
</pre></div>

<p>su valor es 1+2+2 = 5. La heurística de un estado es la del primero de sus tableros.</p>
<p>Usando los métodos de búsqueda estudiado en los ejercicios anteriores, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">fichas</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Busqueda</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">[Tablero</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que <code>fichas b m n</code> es la lista de las soluciones del problema de las fichas de orden (m,n) obtenidas mediante el procedimiento de búsqueda b. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; head (fichas buscaProfundidad 2 2)
   [[B,B,H,V,V],[B,H,B,V,V],[H,B,B,V,V],[V,B,B,H,V],[V,B,H,B,V],[V,H,B,B,V],
    [H,V,B,B,V],[B,V,H,B,V],[B,H,V,B,V],[H,B,V,B,V],[B,B,V,H,V],[B,B,V,V,H],
    [B,H,V,V,B],[H,B,V,V,B],[V,B,H,V,B],[V,H,B,V,B],[H,V,B,V,B],[B,V,H,V,B],
    [B,V,V,H,B],[H,V,V,B,B],[V,H,V,B,B],[V,V,H,B,B]]
   λ&gt; head (fichas buscaAnchura 2 2)
   [[B,B,H,V,V],[B,B,V,V,H],[B,H,V,V,B],[B,V,V,H,B],[H,V,V,B,B],
    [V,V,H,B,B]]
   λ&gt; head (fichas buscaPM 2 2)
   [[B,B,H,V,V],[B,H,B,V,V],[B,V,B,H,V],[H,V,B,B,V],[V,H,B,B,V],
    [V,V,B,B,H],[V,V,B,H,B],[V,V,H,B,B]]
   λ&gt; head (fichas buscaEscalada 2 2)
   [[B,B,H,V,V],[B,H,B,V,V],[B,V,B,H,V],[H,V,B,B,V],[V,H,B,B,V],
    [V,V,B,B,H],[V,V,B,H,B],[V,V,H,B,B]]
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/19-bee_el_problema_de_las_fichas/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/19-bee_el_problema_de_las_fichas/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BEE_El_problema_de_las_fichas</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnProfundidad</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaProfundidad</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnAnchura</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaAnchura</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaPrimeroElMejor</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaPM</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnEscalada</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaEscalada</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="c1">-- Representación del problema</span>
<span class="c1">-- ===========================</span>

<span class="kr">data</span><span class="w"> </span><span class="kt">Ficha</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">V</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">H</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="kt">Ficha</span><span class="p">]</span>

<span class="c1">-- (tableroInicial m n) representa el tablero inicial del problema de las fichas</span>
<span class="c1">-- de orden (m,n). Por ejemplo,</span>
<span class="c1">--    tableroInicial 2 3  ==  [B,B,H,V,V,V]</span>
<span class="c1">--    tableroInicial 3 2  ==  [B,B,B,H,V,V]</span>
<span class="nf">tableroInicial</span><span class="w"> </span><span class="ow">::</span><span class="w">  </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tablero</span>
<span class="nf">tableroInicial</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">replicate</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="kt">B</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">[</span><span class="kt">H</span><span class="p">]</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">replicate</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="kt">V</span>

<span class="c1">-- (tableroFinal m n) representa el tablero final del problema de las fichas de</span>
<span class="c1">-- orden (m,n). Por ejemplo,</span>
<span class="c1">--    tableroFinal 2 3  ==  [V,V,V,H,B,B]</span>
<span class="c1">--    tableroFinal 3 2  ==  [V,V,H,B,B,B]</span>
<span class="nf">tableroFinal</span><span class="w"> </span><span class="ow">::</span><span class="w">  </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tablero</span>
<span class="nf">tableroFinal</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">replicate</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="kt">V</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">[</span><span class="kt">H</span><span class="p">]</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">replicate</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="kt">B</span>

<span class="c1">-- (tablerosSucesores t) es la lista de los sucesores del tablero t. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; tablerosSucesores [V,B,H,V,V,B]</span>
<span class="c1">--    [[V,H,B,V,V,B],[H,B,V,V,V,B],[V,B,V,H,V,B],[V,B,V,V,H,B],</span>
<span class="c1">--     [V,B,B,V,V,H]]</span>
<span class="c1">--    λ&gt; tablerosSucesores [B,B,B,H,V,V,V]</span>
<span class="c1">--    [[B,B,H,B,V,V,V],[B,H,B,B,V,V,V],[H,B,B,B,V,V,V],</span>
<span class="c1">--     [B,B,B,V,H,V,V],[B,B,B,V,V,H,V],[B,B,B,V,V,V,H]]</span>
<span class="nf">tablerosSucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tablero</span><span class="p">]</span>
<span class="nf">tablerosSucesores</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="n">intercambia</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span>
<span class="w">                     </span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">]</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">posicionHueco</span><span class="w"> </span><span class="n">t</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">t</span>

<span class="c1">-- (posicionHueco t) es la posición del hueco en el tablero t. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    posicionHueco (tableroInicial 3 2)  ==  3</span>
<span class="nf">posicionHueco</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">posicionHueco</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">takeWhile</span><span class="w"> </span><span class="p">(</span><span class="o">/=</span><span class="kt">H</span><span class="p">)</span><span class="w"> </span><span class="n">t</span><span class="p">)</span>

<span class="c1">-- (intercambia xs i j) es la lista obtenida intercambiando los</span>
<span class="c1">-- elementos de xs en las posiciones i y j. Por ejemplo,</span>
<span class="c1">--    intercambia 2 6 [0..9]  ==  [0,1,6,3,4,5,2,7,8,9]</span>
<span class="c1">--    intercambia 6 2 [0..9]  ==  [0,1,6,3,4,5,2,7,8,9]</span>
<span class="nf">intercambia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">intercambia</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">concat</span><span class="w"> </span><span class="p">[</span><span class="n">xs1</span><span class="p">,[</span><span class="n">x2</span><span class="p">],</span><span class="n">xs2</span><span class="p">,[</span><span class="n">x1</span><span class="p">],</span><span class="n">xs3</span><span class="p">]</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="p">(</span><span class="n">xs1</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">xs2</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">xs3</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">divide</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">max</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- (divide xs i j) es la tupla (xs1,x1,xs2,x2,xs3) tal que xs1 son los</span>
<span class="c1">-- elementos de xs cuya posición es menor que i, x1 es el elemento de xs</span>
<span class="c1">-- en la posición i, xs2 son los elementos de xs cuya posición es mayor</span>
<span class="c1">-- que i y menor que j, x2 es el elemento de xs en la posición j y xs3</span>
<span class="c1">-- son los elementos de xs cuya posición es mayor que j (suponiendo que</span>
<span class="c1">-- i &lt; j). Por ejemplo,</span>
<span class="c1">--    divide 2 6 [0..9]  ==  ([0,1],2,[3,4,5],6,[7,8,9])</span>
<span class="nf">divide</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">([</span><span class="n">a</span><span class="p">],</span><span class="n">a</span><span class="p">,[</span><span class="n">a</span><span class="p">],</span><span class="n">a</span><span class="p">,[</span><span class="n">a</span><span class="p">])</span>
<span class="nf">divide</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">xs1</span><span class="p">,</span><span class="n">x1</span><span class="p">,</span><span class="n">xs2</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">xs3</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="p">(</span><span class="n">xs1</span><span class="p">,</span><span class="n">x1</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="n">splitAt</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">xs</span>
<span class="w">        </span><span class="p">(</span><span class="n">xs2</span><span class="p">,</span><span class="n">x2</span><span class="kt">:</span><span class="n">xs3</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">splitAt</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">ys</span>

<span class="kr">newtype</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">E</span><span class="w"> </span><span class="p">[</span><span class="kt">Tablero</span><span class="p">]</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>

<span class="c1">-- (inicial m n) representa el estado inicial del problema de las fichas</span>
<span class="c1">-- de orden (m,n). Por ejemplo,</span>
<span class="c1">--    inicial 2 3  ==  E [[B,B,H,V,V,V]]</span>
<span class="c1">--    inicial 3 2  ==  E [[B,B,B,H,V,V]]</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">E</span><span class="w"> </span><span class="p">[</span><span class="n">tableroInicial</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="p">]</span>

<span class="c1">-- (esFinal m n e) se verifica si e es un estado final del problema de las</span>
<span class="c1">-- fichas de orden (m,n). Por ejemplo,</span>
<span class="c1">--    λ&gt; esFinal 2 1 (E [[V,H,B,B],[V,B,B,H],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">--    True</span>
<span class="c1">--    λ&gt; esFinal 2 1 (E [[V,B,B,H],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">--    False</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="kt">E</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tableroFinal</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span>

<span class="c1">-- (sucesores n) es la lista de los sucesores del estado n. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores (E [[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">--    [E [[B,H,B,V],[H,B,B,V],[B,B,H,V]],</span>
<span class="c1">--     E [[V,B,B,H],[H,B,B,V],[B,B,H,V]]]</span>
<span class="c1">--    λ&gt; sucesores (E [[B,H,B,V],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">--    [E [[B,V,B,H],[B,H,B,V],[H,B,B,V],[B,B,H,V]]]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="kt">E</span><span class="w"> </span><span class="n">e</span><span class="o">@</span><span class="p">(</span><span class="n">t</span><span class="kt">:</span><span class="n">ts</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="kt">E</span><span class="w"> </span><span class="p">(</span><span class="n">t'</span><span class="kt">:</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">t'</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">tablerosSucesores</span><span class="w"> </span><span class="n">t</span><span class="p">,</span>
<span class="w">              </span><span class="n">t'</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="n">ts</span><span class="p">]</span>

<span class="c1">-- Heurística</span>
<span class="c1">-- ==========</span>

<span class="c1">-- (heuristicaT t) es la heurística del tablero t. Por ejemplo,</span>
<span class="c1">--    heuristicaT [B,V,B,H,V,V,B] == 5</span>
<span class="nf">heuristicaT</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">heuristicaT</span><span class="w"> </span><span class="kt">[]</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="mi">0</span>
<span class="nf">heuristicaT</span><span class="w"> </span><span class="p">(</span><span class="kt">V:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">heuristicaT</span><span class="w"> </span><span class="n">xs</span>
<span class="nf">heuristicaT</span><span class="w"> </span><span class="p">(</span><span class="kt">H:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">heuristicaT</span><span class="w"> </span><span class="n">xs</span>
<span class="nf">heuristicaT</span><span class="w"> </span><span class="p">(</span><span class="kt">B:</span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">heuristicaT</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">filter</span><span class="w"> </span><span class="p">(</span><span class="o">==</span><span class="kt">V</span><span class="p">)</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- (heuristica e) es la heurística del primer tablero del estado e. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    heuristica (E [[H,B,B,V],[B,B,H,V]])            ==  2</span>
<span class="c1">--    heuristica (E [[V,B,B,H],[H,B,B,V],[B,B,H,V]])  ==  0</span>
<span class="nf">heuristica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">heuristica</span><span class="w"> </span><span class="p">(</span><span class="kt">E</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">heuristicaT</span><span class="w"> </span><span class="n">t</span>

<span class="c1">-- Estado es un subtipo de Ord de forma que un estado es menor o igual</span>
<span class="c1">-- que otro si su heurística lo es.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">e1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">e2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">heuristica</span><span class="w"> </span><span class="n">e1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">heuristica</span><span class="w"> </span><span class="n">e2</span>

<span class="c1">-- Solución por búsqueda</span>
<span class="c1">-- =====================</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Busqueda</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">])</span><span class="w"> </span><span class="ow">-&gt;</span>
<span class="w">                </span><span class="p">(</span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span>
<span class="w">                </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span>
<span class="w">                </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>

<span class="nf">fichas</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Busqueda</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="kt">Tablero</span><span class="p">]]</span>
<span class="nf">fichas</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="n">reverse</span><span class="w"> </span><span class="n">es</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">E</span><span class="w"> </span><span class="n">es</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">esFinal</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="n">n</span><span class="p">)]</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">fichas</span><span class="w"> </span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],</span>
<span class="w">     </span><span class="p">[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">],</span>
<span class="w">     </span><span class="p">[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],</span>
<span class="w">     </span><span class="p">[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">fichas</span><span class="w"> </span><span class="n">buscaAnchura</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e3"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">fichas</span><span class="w"> </span><span class="n">buscaPM</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">],</span>
<span class="w">     </span><span class="p">[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e4"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">fichas</span><span class="w"> </span><span class="n">buscaEscalada</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[[</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">H</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">V</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">],</span>
<span class="w">     </span><span class="p">[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">],[</span><span class="kt">V</span><span class="p">,</span><span class="kt">V</span><span class="p">,</span><span class="kt">H</span><span class="p">,</span><span class="kt">B</span><span class="p">,</span><span class="kt">B</span><span class="p">]]</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--    e3</span>
<span class="c1">--    e4</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0055 seconds</span>
<span class="c1">--    4 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">src.BusquedaEnAnchura</span> <span class="kn">import</span> <span class="n">buscaAnchura1</span>
<span class="kn">from</span> <span class="nn">src.BusquedaEnEscalada</span> <span class="kn">import</span> <span class="n">buscaEscalada</span>
<span class="kn">from</span> <span class="nn">src.BusquedaEnProfundidad</span> <span class="kn">import</span> <span class="n">buscaProfundidad1</span>
<span class="kn">from</span> <span class="nn">src.BusquedaPrimeroElMejor</span> <span class="kn">import</span> <span class="n">buscaPM</span>

<span class="c1"># Representación del problema</span>
<span class="c1"># ===========================</span>

<span class="k">class</span> <span class="nc">Ficha</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">B</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">V</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">H</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">Ficha</span><span class="o">.</span><span class="n">B</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">Ficha</span><span class="o">.</span><span class="n">V</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">Ficha</span><span class="o">.</span><span class="n">H</span>

<span class="n">Tablero</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">Ficha</span><span class="p">]</span>

<span class="c1"># tableroInicial(m, n) representa el tablero inicial del problema de las fichas</span>
<span class="c1"># de orden (m,n). Por ejemplo,</span>
<span class="c1">#    tableroInicial(2, 3)  ==  [B,B,H,V,V,V]</span>
<span class="c1">#    tableroInicial(3, 2)  ==  [B,B,B,H,V,V]</span>
<span class="k">def</span> <span class="nf">tableroInicial</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tablero</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">B</span><span class="p">]</span><span class="o">*</span><span class="n">m</span> <span class="o">+</span> <span class="p">[</span><span class="n">H</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>

<span class="c1"># tableroFinal(m, n) representa el tablero final del problema de las fichas de</span>
<span class="c1"># orden (m,n). Por ejemplo,</span>
<span class="c1">#    tableroFinal(2, 3)  ==  [V,V,V,H,B,B]</span>
<span class="c1">#    tableroFinal(3, 2)  ==  [V,V,H,B,B,B]</span>
<span class="k">def</span> <span class="nf">tableroFinal</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tablero</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="p">[</span><span class="n">H</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">B</span><span class="p">]</span><span class="o">*</span><span class="n">m</span>

<span class="c1"># posicionHueco(t) es la posición del hueco en el tablero t. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    posicionHueco(tableroInicial(3, 2))  ==  3</span>
<span class="k">def</span> <span class="nf">posicionHueco</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>

<span class="c1"># intercambia(xs, i, j) es la lista obtenida intercambiando los</span>
<span class="c1"># elementos de xs en las posiciones i y j. Por ejemplo,</span>
<span class="c1">#    intercambia(1, 3, tableroInicial(3, 2))  ==  [B, H, B, B, V, V]</span>
<span class="k">def</span> <span class="nf">intercambia</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tablero</span><span class="p">:</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">t1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">t1</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">t1</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">t1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">t1</span>

<span class="c1"># tablerosSucesores(t) es la lista de los sucesores del tablero t. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; tablerosSucesores([V,B,H,V,V,B])</span>
<span class="c1">#    [[V,H,B,V,V,B],[H,B,V,V,V,B],[V,B,V,H,V,B],[V,B,V,V,H,B],</span>
<span class="c1">#     [V,B,B,V,V,H]]</span>
<span class="c1">#    &gt;&gt;&gt; tablerosSucesores([B,B,B,H,V,V,V])</span>
<span class="c1">#    [[B,B,H,B,V,V,V],[B,H,B,B,V,V,V],[H,B,B,B,V,V,V],</span>
<span class="c1">#     [B,B,B,V,H,V,V],[B,B,B,V,V,H,V],[B,B,B,V,V,V,H]]</span>
<span class="k">def</span> <span class="nf">tablerosSucesores</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]:</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">posicionHueco</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">intercambia</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">]</span>

<span class="c1"># Heurística</span>
<span class="c1"># ==========</span>

<span class="c1"># heuristicaT(t) es la heurística del tablero t. Por ejemplo,</span>
<span class="c1">#    heuristicaT([B,V,B,H,V,V,B]) == 5</span>
<span class="k">def</span> <span class="nf">heuristicaT</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">t</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">fs</span> <span class="o">=</span> <span class="n">t</span>
    <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">{</span><span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">}:</span>
        <span class="k">return</span> <span class="n">heuristicaT</span><span class="p">(</span><span class="n">fs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">heuristicaT</span><span class="p">(</span><span class="n">fs</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">fs</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">V</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">Estado</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]):</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">heuristicaT</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">heuristicaT</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># inicial(m, n) representa el estado inicial del problema de las fichas</span>
<span class="c1"># de orden (m,n). Por ejemplo,</span>
<span class="c1">#    inicial(2, 3)  ==  [[B,B,H,V,V,V]]</span>
<span class="c1">#    inicial(3, 2)  ==  [[B,B,B,H,V,V]]</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Estado</span><span class="p">([</span><span class="n">tableroInicial</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)])</span>

<span class="c1"># esFinal(m, n, e) se verifica si e es un estado final del problema de las</span>
<span class="c1"># fichas de orden (m,n). Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(2, 1, [[V,H,B,B],[V,B,B,H],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">#    True</span>
<span class="c1">#    &gt;&gt;&gt; esFinal(2, 1, [[V,B,B,H],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">#    False</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">tableroFinal</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># (sucesores n) es la lista de los sucesores del estado n. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; sucesores([[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">#    [[[B,H,B,V],[H,B,B,V],[B,B,H,V]],</span>
<span class="c1">#     [[V,B,B,H],[H,B,B,V],[B,B,H,V]]]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores([[B,H,B,V],[H,B,B,V],[B,B,H,V]])</span>
<span class="c1">#    [[[B,V,B,H],[B,H,B,V],[H,B,B,V],[B,B,H,V]]]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="n">t</span><span class="p">,</span> <span class="o">*</span><span class="n">ts</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">Estado</span><span class="p">([</span><span class="n">t1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">t1</span> <span class="ow">in</span> <span class="n">tablerosSucesores</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">if</span> <span class="n">t1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">]</span>

<span class="c1"># Solución por búsqueda</span>
<span class="c1"># =====================</span>

<span class="n">Busqueda</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">Estado</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]],</span>
                     <span class="n">Callable</span><span class="p">[[</span><span class="n">Estado</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
                     <span class="n">Estado</span><span class="p">],</span>
                    <span class="n">Optional</span><span class="p">[</span><span class="n">Estado</span><span class="p">]]</span>

<span class="k">def</span> <span class="nf">fichas</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="n">Busqueda</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]]:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">sucesores</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">esFinal</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">e</span><span class="p">),</span> <span class="n">inicial</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">))()</span>
    <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">es</span><span class="p">))</span> <span class="k">for</span> <span class="n">es</span> <span class="ow">in</span> <span class="n">r</span><span class="p">]</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_fichas</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">fichas</span><span class="p">(</span><span class="n">buscaProfundidad1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">[[</span><span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">],</span> <span class="p">[</span><span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">]]</span>
    <span class="k">assert</span> <span class="n">fichas</span><span class="p">(</span><span class="n">buscaAnchura1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">[[</span><span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">],</span> <span class="p">[</span><span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">]]</span>
    <span class="k">assert</span> <span class="n">fichas</span><span class="p">(</span><span class="n">buscaPM</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">[[</span><span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">],</span>
         <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">]]</span>
    <span class="k">assert</span> <span class="n">fichas</span><span class="p">(</span><span class="n">buscaEscalada</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">[[</span><span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">],</span>
         <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">H</span><span class="p">],</span> <span class="p">[</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">B</span><span class="p">]]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    &gt;&gt;&gt; test_fichas()</span>
<span class="c1">#    Verificado</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/14-bee_el_problema_del_granjero/" class="u-url">El problema del granjero mediante búsqueda en espacio de estado</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/14-bee_el_problema_del_granjero/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-14T06:00:00+02:00" itemprop="datePublished" title="14-08-2023">14-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Un granjero está parado en un lado del río y con él tiene un  una cabra y una repollo. En el río hay un barco pequeño. El  desea cruzar el río con sus tres posesiones. No hay puentes y en el barco hay solamente sitio para el granjero y un artículo. Si deja la cabra con la repollo sola en un lado del río la cabra comerá la repollo. Si deja el lobo y la cabra en un lado, el lobo se comerá a la cabra. ¿Cómo puede cruzar el granjero el río con los tres artículos, sin que ninguno se coma al otro?</p>
<p>Para representar el problema se definen los siguientes tipos de dato:</p>
<ul>
<li>
<code>Orilla</code> con dos constructores (<code>I</code> y <code>D</code>) que representan las orillas izquierda y derecha, respectivamente.</li>
<li>
<code>Estado</code> que es una tupla que representa en qué orilla se encuentra cada uno de los elementos (granjero, lobo, cabra, repollo). Por ejemplo, <code>(I,D,D,I)</code> representa que el granjero está en la izquierda, que el lobo está en la derecha, que la cabra está en la derecha y el repollo está en la izquierda.</li>
</ul>
<p>Usando el <a href="posts/2023/06/28-busquedaenprofundidad">procedimiento de búsqueda en profundidad</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">granjero</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">[Estado</span><span class="o">]</span><span class="err">]</span>
</pre></div>

<p>tal que <code>granjero</code> son las soluciones del problema del granjero mediante el patrón de búsqueda en espacio de estados. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; head granjero
   [(I,I,I,I),(D,I,D,I),(I,I,D,I),(D,D,D,I),
    (I,D,I,I),(D,D,I,D),(I,D,I,D),(D,D,D,D)]
   λ&gt; length granjero
   2
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/14-bee_el_problema_del_granjero/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/14-bee_el_problema_del_granjero/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BEE_El_problema_del_granjero</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnProfundidad</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaProfundidad</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="kr">data</span><span class="w"> </span><span class="kt">Orilla</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">D</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Orilla</span><span class="p">,</span><span class="kt">Orilla</span><span class="p">,</span><span class="kt">Orilla</span><span class="p">,</span><span class="kt">Orilla</span><span class="p">)</span>

<span class="c1">-- (seguro e) se verifica si el estado e es seguro; es decir, que no</span>
<span class="c1">-- puede estar en una orilla el lobo con la cabra sin el granjero ni la</span>
<span class="c1">-- cabra con el repollo sin el granjero. Por ejemplo,</span>
<span class="c1">--    seguro (I,D,D,I)  ==  False</span>
<span class="c1">--    seguro (D,D,D,I)  ==  True</span>
<span class="c1">--    seguro (D,D,I,I)  ==  False</span>
<span class="c1">--    seguro (I,D,I,I)  ==  True</span>
<span class="nf">seguro</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">seguro</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">r</span><span class="p">))</span>

<span class="c1">-- (opuesta x) es la opuesta de la orilla x. Por ejemplo</span>
<span class="c1">--    opuesta I = D</span>
<span class="nf">opuesta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Orilla</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Orilla</span>
<span class="nf">opuesta</span><span class="w"> </span><span class="kt">I</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">D</span>
<span class="nf">opuesta</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">I</span>

<span class="c1">-- (sucesoresE e) es la lista de los sucesores seguros del estado e. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    sucesoresE (I,I,I,I)  ==  [(D,I,D,I)]</span>
<span class="c1">--    sucesoresE (D,I,D,I)  ==  [(I,I,D,I),(I,I,I,I)]</span>
<span class="nf">sucesoresE</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">sucesoresE</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">mov</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mov</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">,</span><span class="n">m3</span><span class="p">,</span><span class="n">m4</span><span class="p">],</span><span class="w"> </span><span class="n">seguro</span><span class="w"> </span><span class="p">(</span><span class="n">mov</span><span class="w"> </span><span class="n">e</span><span class="p">)]</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">m1</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">opuesta</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">        </span><span class="n">m2</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">opuesta</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">opuesta</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">        </span><span class="n">m3</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">opuesta</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="n">opuesta</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">        </span><span class="n">m4</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">opuesta</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">opuesta</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>

<span class="c1">-- Nodo es el tipo de los nodos del espacio de búsqueda, donde un nodo</span>
<span class="c1">-- es una lista de estados</span>
<span class="c1">--    [e_n, ..., e_2, e_1]</span>
<span class="c1">-- tal que e_1 es el estado inicial y para cada i (2 &lt;= i &lt;= n), e_i es un</span>
<span class="c1">-- sucesor de e_(i-1).</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">Nodo</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Nodo</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>

<span class="c1">-- inicial es el nodo inicial en el que todos están en la orilla</span>
<span class="c1">-- izquierda.</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Nodo</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Nodo</span><span class="w"> </span><span class="p">[(</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">)]</span>

<span class="c1">-- (esFinal n) se verifica si n es un nodo final; es decir, su primer</span>
<span class="c1">-- elemento es el estado final. Por ejemplo,</span>
<span class="c1">--    esFinal (Nodo [(D,D,D,D),(I,I,I,I)])  ==  True</span>
<span class="c1">--    esFinal (Nodo [(I,I,D,I),(I,I,I,I)])  ==  False</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="p">(</span><span class="kt">Nodo</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">)</span>

<span class="c1">-- (sucesores n) es la lista de los sucesores del nodo n. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores (Nodo [(I,I,D,I),(D,I,D,I),(I,I,I,I)])</span>
<span class="c1">--    [Nodo [(D,D,D,I),(I,I,D,I),(D,I,D,I),(I,I,I,I)],</span>
<span class="c1">--     Nodo [(D,I,D,D),(I,I,D,I),(D,I,D,I),(I,I,I,I)]]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Nodo</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="kt">Nodo</span><span class="w"> </span><span class="n">n</span><span class="o">@</span><span class="p">(</span><span class="n">e</span><span class="kt">:</span><span class="n">es</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="kt">Nodo</span><span class="w"> </span><span class="p">(</span><span class="n">e'</span><span class="kt">:</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">e'</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">sucesoresE</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">e'</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="n">es</span><span class="p">]</span>

<span class="nf">granjero</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[[</span><span class="kt">Estado</span><span class="p">]]</span>
<span class="nf">granjero</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="n">reverse</span><span class="w"> </span><span class="n">es</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="kt">Nodo</span><span class="w"> </span><span class="n">es</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="n">inicial</span><span class="p">]</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">head</span><span class="w"> </span><span class="n">granjero</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span>
<span class="w">    </span><span class="p">[(</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">),(</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">),(</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">),(</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">),</span>
<span class="w">     </span><span class="p">(</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">I</span><span class="p">),(</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">),(</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">I</span><span class="p">,</span><span class="kt">D</span><span class="p">),(</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">,</span><span class="kt">D</span><span class="p">)]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="n">granjero</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="mi">2</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0008 seconds</span>
<span class="c1">--    2 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="kn">from</span> <span class="nn">src.BusquedaEnProfundidad</span> <span class="kn">import</span> <span class="n">buscaProfundidad</span>


<span class="k">class</span> <span class="nc">Orilla</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">I</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">D</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="n">I</span> <span class="o">=</span> <span class="n">Orilla</span><span class="o">.</span><span class="n">I</span>
<span class="n">D</span> <span class="o">=</span> <span class="n">Orilla</span><span class="o">.</span><span class="n">D</span>

<span class="n">Estado</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Orilla</span><span class="p">,</span> <span class="n">Orilla</span><span class="p">,</span> <span class="n">Orilla</span><span class="p">,</span> <span class="n">Orilla</span><span class="p">]</span>

<span class="c1"># seguro(e) se verifica si el estado e es seguro; es decir, que no</span>
<span class="c1"># puede estar en una orilla el lobo con la cabra sin el granjero ni la</span>
<span class="c1"># cabra con el repollo sin el granjero. Por ejemplo,</span>
<span class="c1">#    seguro((I,D,D,I))  ==  False</span>
<span class="c1">#    seguro((D,D,D,I))  ==  True</span>
<span class="c1">#    seguro((D,D,I,I))  ==  False</span>
<span class="c1">#    seguro((I,D,I,I))  ==  True</span>
<span class="k">def</span> <span class="nf">seguro</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">g</span> <span class="o">!=</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">{</span><span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">})</span>

<span class="c1"># (opuesta x) es la opuesta de la orilla x. Por ejemplo</span>
<span class="c1">#    opuesta(I) == D</span>
<span class="k">def</span> <span class="nf">opuesta</span><span class="p">(</span><span class="n">o</span><span class="p">:</span> <span class="n">Orilla</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Orilla</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">o</span> <span class="o">==</span> <span class="n">I</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">D</span>
    <span class="k">return</span> <span class="n">I</span>

<span class="c1"># sucesoresE(e) es la lista de los sucesores seguros del estado e. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    sucesoresE((I,I,I,I))  ==  [(D,I,D,I)]</span>
<span class="c1">#    sucesoresE((D,I,D,I))  ==  [(I,I,D,I),(I,I,I,I)]</span>
<span class="k">def</span> <span class="nf">sucesoresE</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="k">def</span> <span class="nf">mov</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
        <span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">opuesta</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">l</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">opuesta</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">opuesta</span><span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="n">c</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">opuesta</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">l</span><span class="p">,</span> <span class="n">opuesta</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">opuesta</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">l</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">opuesta</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">mov</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">seguro</span><span class="p">(</span><span class="n">mov</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">e</span><span class="p">))]</span>

<span class="c1"># Nodo es el tipo de los nodos del espacio de búsqueda, donde un nodo</span>
<span class="c1"># es una lista de estados</span>
<span class="c1">#    [e_n, ..., e_2, e_1]</span>
<span class="c1"># tal que e_1 es el estado inicial y para cada i (2 &lt;= i &lt;= n), e_i es un</span>
<span class="c1"># sucesor de e_(i-1).</span>
<span class="n">Nodo</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]</span>

<span class="c1"># inicial es el nodo inicial en el que todos están en la orilla</span>
<span class="c1"># izquierda.</span>
<span class="n">inicial</span><span class="p">:</span> <span class="n">Nodo</span> <span class="o">=</span> <span class="p">[(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">)]</span>

<span class="c1"># esFinal(n) se verifica si n es un nodo final; es decir, su primer</span>
<span class="c1"># elemento es el estado final. Por ejemplo,</span>
<span class="c1">#    esFinal([(D,D,D,D),(I,I,I,I)])  ==  True</span>
<span class="c1">#    esFinal([(I,I,D,I),(I,I,I,I)])  ==  False</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">Nodo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="p">(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">)</span>

<span class="c1"># sucesores(n) es la lista de los sucesores del nodo n. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; sucesores([(I,I,D,I),(D,I,D,I),(I,I,I,I)])</span>
<span class="c1">#    [[(D, D, D, I), (I, I, D, I), (D, I, D, I), (I, I, I, I)],</span>
<span class="c1">#     [(D, I, D, D), (I, I, D, I), (D, I, D, I), (I, I, I, I)]]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">Nodo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Nodo</span><span class="p">]:</span>
    <span class="n">e</span><span class="p">,</span> <span class="o">*</span><span class="n">es</span> <span class="o">=</span> <span class="n">n</span>
    <span class="k">return</span> <span class="p">[[</span><span class="n">e1</span><span class="p">]</span> <span class="o">+</span> <span class="n">n</span> <span class="k">for</span> <span class="n">e1</span> <span class="ow">in</span> <span class="n">sucesoresE</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">if</span> <span class="n">e1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">es</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">granjero</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">es</span><span class="p">))</span> <span class="k">for</span> <span class="n">es</span> <span class="ow">in</span> <span class="n">buscaProfundidad</span><span class="p">(</span><span class="n">sucesores</span><span class="p">,</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">)]</span>

<span class="c1"># # Verificación</span>
<span class="c1"># # ============</span>

<span class="k">def</span> <span class="nf">test_granjero</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">granjero</span><span class="p">()</span> <span class="o">==</span> \
        <span class="p">[[(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">)],</span>
         <span class="p">[(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">I</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">I</span><span class="p">,</span><span class="n">D</span><span class="p">),(</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">D</span><span class="p">)]]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    &gt;&gt;&gt; test_granjero()</span>
<span class="c1">#    Verificado</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/09-escalada_prim/" class="u-url">El algoritmo de Prim del árbol de expansión mínimo por escalada</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/09-escalada_prim/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-09T06:00:00+02:00" itemprop="datePublished" title="09-08-2023">09-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>El <a href="https://es.wikipedia.org/wiki/Algoritmo_de_Primo">algoritmo de Prim</a> calcula un  recubridor mínimo en un grafo conexo y ponderado. Es decir, busca un subconjunto de aristas que, formando un árbol, incluyen todos los vértices y donde el valor de la suma de todas las aristas del árbol es el mínimo.</p>
<p>El algoritmo de Prim funciona de la siguiente manera:</p>
<ul>
<li>Inicializar un árbol con un único vértice, elegido arbitrariamente, del grafo.</li>
<li>Aumentar el árbol por un lado. Llamamos lado a la unión entre dos vértices: de las posibles uniones que pueden conectar el árbol a los vértices que no están aún en el árbol, encontrar el lado de menor distancia y unirlo al árbol.</li>
<li>Repetir el paso 2 (hasta que todos los vértices pertenezcan al árbol)</li>
</ul>
<p>Usando la <a href="posts/2023/08/04-busquedaenescalada">búsqueda en escalada</a> el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstracto de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">prim</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="p">(</span><span class="n">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">p</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>prim g</code> es el árbol de expansión mínimo del grafo <code>g</code> calculado mediante el algoritmo de Prim con bñusqueda en escalada. Por ejemplo, si g1, g2, g3 y g4 son los grafos definidos por</p>
<div class="code"><pre class="code literal-block">   g1, g2, g3, g4 :: Grafo Int Int
   g1 = creaGrafo ND (1,5) [(1,2,12),(1,3,34),(1,5,78),
                            (2,4,55),(2,5,32),
                            (3,4,61),(3,5,44),
                            (4,5,93)]
   g2 = creaGrafo ND (1,5) [(1,2,13),(1,3,11),(1,5,78),
                            (2,4,12),(2,5,32),
                            (3,4,14),(3,5,44),
                            (4,5,93)]
   g3 = creaGrafo ND (1,7) [(1,2,5),(1,3,9),(1,5,15),(1,6,6),
                            (2,3,7),
                            (3,4,8),(3,5,7),
                            (4,5,5),
                            (5,6,3),(5,7,9),
                            (6,7,11)]
   g4 = creaGrafo ND (1,7) [(1,2,5),(1,3,9),(1,5,15),(1,6,6),
                            (2,3,7),
                            (3,4,8),(3,5,1),
                            (4,5,5),
                            (5,6,3),(5,7,9),
                            (6,7,11)]
</pre></div>

<p>entonces</p>
<div class="code"><pre class="code literal-block">   prim g1 == [(2,4,55),(1,3,34),(2,5,32),(1,2,12)]
   prim g2 == [(2,5,32),(2,4,12),(1,2,13),(1,3,11)]
   prim g3 == [(5,7,9),(2,3,7),(5,4,5),(6,5,3),(1,6,6),(1,2,5)]
   prim g4 == [(5,7,9),(5,4,5),(5,3,1),(6,5,3),(1,6,6),(1,2,5)]
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/09-escalada_prim/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/09-escalada_prim/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">Escalada_Prim</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnEscalada</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaEscalada</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">TAD.Grafo</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="p">,</span><span class="w"> </span><span class="kt">Orientacion</span><span class="w"> </span><span class="p">(</span><span class="kt">ND</span><span class="p">),</span><span class="w"> </span><span class="nf">aristaEn</span><span class="p">,</span><span class="w"> </span><span class="nf">creaGrafo</span><span class="p">,</span><span class="w"> </span><span class="nf">nodos</span><span class="p">,</span><span class="w"> </span><span class="nf">peso</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.Ix</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">delete</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="nf">g1</span><span class="p">,</span><span class="w"> </span><span class="n">g2</span><span class="p">,</span><span class="w"> </span><span class="n">g3</span><span class="p">,</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">34</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">61</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="nf">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="nf">g3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="nf">g4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                         </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>

<span class="c1">-- Una arista esta formada por dos vértices junto con su peso.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Arista</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>

<span class="c1">-- Un estado (Estado (p,t,r,aem)) está formado por el peso p de la</span>
<span class="c1">-- última arista añadida el árbol de expansión mínimo (aem), la lista t</span>
<span class="c1">-- de nodos del grafo que están en el aem, la lista r de nodos del</span>
<span class="c1">-- grafo que no están en el aem y el aem.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">,[</span><span class="n">a</span><span class="p">],[</span><span class="n">a</span><span class="p">],[</span><span class="kt">Arista</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">])</span>

<span class="c1">-- (inicial g) es el estado inicial correspondiente al grafo g.</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,[</span><span class="n">n</span><span class="p">],</span><span class="n">ns</span><span class="p">,</span><span class="kt">[]</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="kt">:</span><span class="n">ns</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">nodos</span><span class="w"> </span><span class="n">g</span>

<span class="c1">-- (esFinal e) se verifica si e es un estado final; es decir, si no</span>
<span class="c1">-- queda ningún elemento en la lista de nodos sin colocar en el árbol de</span>
<span class="c1">-- expansión mínimo.</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="p">(</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="kt">[]</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">True</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="kr">_</span><span class="w">          </span><span class="ow">=</span><span class="w"> </span><span class="kt">False</span>

<span class="c1">-- (sucesores g e) es la lista de los sucesores del estado e en el</span>
<span class="c1">-- grafo g. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores g1 (0,[1],[2..5],[])</span>
<span class="c1">--    [(12,[2,1],[3,4,5],[(1,2,12)]),</span>
<span class="c1">--     (34,[3,1],[2,4,5],[(1,3,34)]),</span>
<span class="c1">--     (78,[5,1],[2,3,4],[(1,5,78)])]</span>
<span class="nf">sucesores</span>
<span class="w">  </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="kr">_</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">aem</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="n">peso</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="kt">:</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">delete</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">peso</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">g</span><span class="p">)</span><span class="kt">:</span><span class="n">aem</span><span class="p">)</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">aristaEn</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)]</span>

<span class="nf">prim</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Arista</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">]</span>
<span class="nf">prim</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">sol</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="p">[(</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="n">sol</span><span class="p">)]</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">buscaEscalada</span><span class="w"> </span><span class="p">(</span><span class="n">sucesores</span><span class="w"> </span><span class="n">g</span><span class="p">)</span>
<span class="w">                                      </span><span class="n">esFinal</span>
<span class="w">                                      </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">g</span><span class="p">)</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">prim</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">34</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">)]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">prim</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e3"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">prim</span><span class="w"> </span><span class="n">g3</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">[(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e4"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">prim</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">[(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--    e3</span>
<span class="c1">--    e4</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0043 seconds</span>
<span class="c1">--    4 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">src.BusquedaEnEscalada</span> <span class="kn">import</span> <span class="n">buscaEscalada</span>
<span class="kn">from</span> <span class="nn">src.TAD.Grafo</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Grafo</span><span class="p">,</span> <span class="n">Orientacion</span><span class="p">,</span> <span class="n">Peso</span><span class="p">,</span> <span class="n">Vertice</span><span class="p">,</span> <span class="n">aristaEn</span><span class="p">,</span>
                           <span class="n">creaGrafo</span><span class="p">,</span> <span class="n">nodos</span><span class="p">,</span> <span class="n">peso</span><span class="p">)</span>

<span class="n">g1</span> <span class="o">=</span> <span class="n">creaGrafo</span> <span class="p">(</span><span class="n">Orientacion</span><span class="o">.</span><span class="n">ND</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
                <span class="p">[((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">12</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">34</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">78</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">55</span><span class="p">),((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">32</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">61</span><span class="p">),((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">44</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">93</span><span class="p">)])</span>
<span class="n">g2</span> <span class="o">=</span> <span class="n">creaGrafo</span> <span class="p">(</span><span class="n">Orientacion</span><span class="o">.</span><span class="n">ND</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
                <span class="p">[((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">13</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">11</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">78</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">12</span><span class="p">),((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">32</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">14</span><span class="p">),((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">44</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">93</span><span class="p">)])</span>
<span class="n">g3</span> <span class="o">=</span> <span class="n">creaGrafo</span> <span class="p">(</span><span class="n">Orientacion</span><span class="o">.</span><span class="n">ND</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
                <span class="p">[((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">5</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">9</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">15</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">6</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">7</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">8</span><span class="p">),((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">7</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">5</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">3</span><span class="p">),((</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">9</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">11</span><span class="p">)])</span>
<span class="n">g4</span> <span class="o">=</span> <span class="n">creaGrafo</span> <span class="p">(</span><span class="n">Orientacion</span><span class="o">.</span><span class="n">ND</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
                <span class="p">[((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">5</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">9</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">15</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">6</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">7</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">8</span><span class="p">),((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">1</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">5</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">3</span><span class="p">),((</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">9</span><span class="p">),</span>
                 <span class="p">((</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">11</span><span class="p">)])</span>

<span class="n">Arista</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Vertice</span><span class="p">,</span> <span class="n">Vertice</span><span class="p">],</span> <span class="n">Peso</span><span class="p">]</span>

<span class="c1"># Un nodo (Estado (p,t,r,aem)) está formado por el peso p de la última</span>
<span class="c1"># arista añadida el árbol de expansión mínimo (aem), la lista t</span>
<span class="c1"># de nodos del grafo que están en el aem, la lista r de nodos del</span>
<span class="c1"># grafo que no están en el aem y el aem.</span>
<span class="n">Estado</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Peso</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Vertice</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">Vertice</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">Arista</span><span class="p">]]</span>

<span class="c1"># inicial(g) es el estado inicial correspondiente al grafo g.</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">g</span><span class="p">:</span> <span class="n">Grafo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
    <span class="n">n</span><span class="p">,</span> <span class="o">*</span><span class="n">ns</span> <span class="o">=</span> <span class="n">nodos</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">ns</span><span class="p">,</span> <span class="p">[])</span>

<span class="c1"># esFinal(e) se verifica si e es un estado final; es decir, si no</span>
<span class="c1"># queda ningún elemento en la lista de nodos sin colocar en el árbol de</span>
<span class="c1"># expansión mínimo.</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="p">[]</span>

<span class="c1"># sucesores(g, e) es la lista de los sucesores del estado e en el</span>
<span class="c1"># grafo g. Por ejemplo,</span>
<span class="c1">#    λ&gt; sucesores(g1, (0,[1],[2,3,4,5],[]))</span>
<span class="c1">#    [(12,[2,1],[3,4,5],[(1,2,12)]),</span>
<span class="c1">#     (34,[3,1],[2,4,5],[(1,3,34)]),</span>
<span class="c1">#     (78,[5,1],[2,3,4],[(1,5,78)])]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">g</span><span class="p">:</span> <span class="n">Grafo</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">aem</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">peso</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">g</span><span class="p">),</span>
             <span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">,</span>
             <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">],</span>
             <span class="p">[((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="n">peso</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">g</span><span class="p">))]</span> <span class="o">+</span> <span class="n">aem</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">r</span> <span class="k">if</span> <span class="n">aristaEn</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))]</span>

<span class="k">def</span> <span class="nf">prim</span><span class="p">(</span><span class="n">g</span><span class="p">:</span> <span class="n">Grafo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Arista</span><span class="p">]]:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">buscaEscalada</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">sucesores</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">e</span><span class="p">),</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_prim</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">prim</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span> <span class="o">==</span> <span class="p">[((</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">55</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">34</span><span class="p">),((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">32</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">12</span><span class="p">)]</span>
    <span class="k">assert</span> <span class="n">prim</span><span class="p">(</span><span class="n">g2</span><span class="p">)</span> <span class="o">==</span> <span class="p">[((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">32</span><span class="p">),((</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">12</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">13</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">11</span><span class="p">)]</span>
    <span class="k">assert</span> <span class="n">prim</span><span class="p">(</span><span class="n">g3</span><span class="p">)</span> <span class="o">==</span> <span class="p">[((</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">9</span><span class="p">),((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">7</span><span class="p">),((</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">5</span><span class="p">),((</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">3</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">6</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">5</span><span class="p">)]</span>
    <span class="k">assert</span> <span class="n">prim</span><span class="p">(</span><span class="n">g4</span><span class="p">)</span> <span class="o">==</span> <span class="p">[((</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span><span class="mi">9</span><span class="p">),((</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="mi">5</span><span class="p">),((</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="mi">1</span><span class="p">),((</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">3</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="mi">6</span><span class="p">),((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">5</span><span class="p">)]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    &gt;&gt;&gt; test_prim()</span>
<span class="c1">#    Verificado</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/05-escalada_monedas/" class="u-url">Problema de las monedas por búsqueda en escalada</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/05-escalada_monedas/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-05T06:00:00+02:00" itemprop="datePublished" title="05-08-2023">05-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>El problema del cambio de monedas consiste en determinar  conseguir una cantidad usando el menor número de monedas disponibles. Se supone que se posee un número ilimitado de monedas de 1, 2, 5, 10, 20, 50 y 100 euros. Por ejemplo, para conseguir 199 se necesitan como mínimo 7 monedas (129 = 2 + 2 + 5 + 20 + 20 + 50 + 100).</p>
<p>En la representación se usarán los siguientes tipos:</p>
<ul>
<li>
<code>Moneda</code>, que es un número entero representado el valor de la moneda</li>
<li>
<code>Solucion</code>, que es una lista de monedas cuya suma es la cantidad
  deseada y no nay ninguna lista más corta con la misma suma.</li>
</ul>
<p>Usando la <a href="posts/2023/08/04-busquedaenescalada">búsqueda en escalada</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">cambio</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Solucion</span>
</pre></div>

<p>tal que <code>(cambio n)</code> es la solución del problema de las monedas, para obtener la cantidad <code>n</code>, por búsqueda en escalada. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   cambio 199  ==  [2,2,5,20,20,50,100]
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/05-escalada_monedas/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/05-escalada_monedas/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">Escalada_Monedas</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnEscalada</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="c1">-- Las monedas son números enteros.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Moneda</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span>

<span class="c1">-- monedas es la lista del tipo de monedas disponibles. Se supone que</span>
<span class="c1">-- hay un número infinito de monedas de cada tipo.</span>
<span class="nf">monedas</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Moneda</span><span class="p">]</span>
<span class="nf">monedas</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>

<span class="c1">-- Las soluciones son listas de monedas.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Solucion</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="kt">Moneda</span><span class="p">]</span>

<span class="c1">-- Los estados son pares formados por la cantidad que falta y la lista</span>
<span class="c1">-- de monedas usadas.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">Moneda</span><span class="p">])</span>

<span class="c1">-- (inicial n) es el estado inicial del problema de las monedas, para</span>
<span class="c1">-- obtener la cantidad n.</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">[]</span><span class="p">)</span>

<span class="c1">-- (esFinal e) se verifica si e es un estado final del problema</span>
<span class="c1">-- de las monedas.</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>

<span class="c1">-- (sucesores e) es la lista de los sucesores del estado e en el</span>
<span class="c1">-- problema de las monedas. Por ejemplo,</span>
<span class="c1">--   λ&gt; sucesores (199,[])</span>
<span class="c1">--   [(198,[1]),(197,[2]),(194,[5]),(189,[10]),</span>
<span class="c1">--    (179,[20]),(149,[50]),(99,[100])]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="n">r</span><span class="o">-</span><span class="n">c</span><span class="p">,</span><span class="n">c</span><span class="kt">:</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">monedas</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>

<span class="nf">cambio</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Solucion</span>
<span class="nf">cambio</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">snd</span><span class="w"> </span><span class="p">(</span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">buscaEscalada</span><span class="w"> </span><span class="n">sucesores</span>
<span class="w">                           </span><span class="n">esFinal</span>
<span class="w">                           </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">n</span><span class="p">)))</span>
<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">cambio</span><span class="w"> </span><span class="mi">199</span><span class="w">  </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w">  </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0003 seconds</span>
<span class="c1">--    1 example, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">src.BusquedaEnEscalada</span> <span class="kn">import</span> <span class="n">buscaEscalada</span>

<span class="c1"># Las monedas son números enteros.</span>
<span class="n">Moneda</span> <span class="o">=</span> <span class="nb">int</span>

<span class="c1"># monedas es la lista del tipo de monedas disponibles. Se supone que</span>
<span class="c1"># hay un número infinito de monedas de cada tipo.</span>
<span class="n">monedas</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Moneda</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># Las soluciones son listas de monedas.</span>
<span class="n">Solucion</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">Moneda</span><span class="p">]</span>

<span class="c1"># Los estados son pares formados por la cantidad que falta y la lista</span>
<span class="c1"># de monedas usadas.</span>
<span class="n">Estado</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Moneda</span><span class="p">]]</span>

<span class="c1"># inicial(n) es el estado inicial del problema de las monedas, para</span>
<span class="c1"># obtener la cantidad n.</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="p">[])</span>

<span class="c1"># esFinal(e) se verifica si e es un estado final del problema</span>
<span class="c1"># de las monedas.</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>

<span class="c1"># sucesores(e) es la lista de los sucesores del estado e en el</span>
<span class="c1"># problema de las monedas. Por ejemplo,</span>
<span class="c1">#   λ&gt; sucesores((199,[]))</span>
<span class="c1">#   [(198,[1]),(197,[2]),(194,[5]),(189,[10]),</span>
<span class="c1">#    (179,[20]),(149,[50]),(99,[100])]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">r</span> <span class="o">-</span> <span class="n">c</span><span class="p">,</span> <span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">monedas</span> <span class="k">if</span> <span class="n">r</span> <span class="o">-</span> <span class="n">c</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">cambio</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Solucion</span><span class="p">]:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">buscaEscalada</span><span class="p">(</span><span class="n">sucesores</span><span class="p">,</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_monedas</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">cambio</span><span class="p">(</span><span class="mi">199</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    src&gt; poetry run pytest -q Escalada_Monedas.py</span>
<span class="c1">#    1 passed in 0.12s</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/08/04-busquedaenescalada/" class="u-url">Búsqueda en escalada</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/08/04-busquedaenescalada/" rel="bookmark">
            <time class="published dt-published" datetime="2023-08-04T06:00:00+02:00" itemprop="datePublished" title="04-08-2023">04-08-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>En la búsqueda en escalada se supone que los estados están  mediante una función, la heurística, que es una estimación de su coste para llegar a un estado final.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">buscaEscalada</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Bool</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">n</span><span class="o">]</span>
</pre></div>

<p>tal que <code>(buscaEscalada s o e)</code> es la lista de soluciones del problema de espacio de estado definido por la función sucesores <code>s</code>, el objetivo <code>o</code> y estado inicial <code>e</code>, obtenidas buscando en escalada.</p>
<p><strong>Nota:</strong> La búsqueda en escalada se aplica en el <a href="posts/2023/08/05-escalada_monedas">problema de las monedas</a>.</p>
<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/08/04-busquedaenescalada/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/08/04-busquedaenescalada/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BusquedaEnEscalada</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaEscalada</span><span class="p">)</span><span class="w">  </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">TAD.ColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="nf">esVacia</span><span class="p">,</span><span class="w"> </span><span class="nf">inserta</span><span class="p">,</span><span class="w"> </span><span class="nf">primero</span><span class="p">,</span><span class="w"> </span><span class="nf">vacia</span><span class="p">)</span>

<span class="nf">buscaEscalada</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="nf">buscaEscalada</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">busca'</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacia</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">busca'</span><span class="w"> </span><span class="n">c</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">esVacia</span><span class="w"> </span><span class="n">c</span><span class="w">           </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="p">(</span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="p">]</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w">           </span><span class="ow">=</span><span class="w"> </span><span class="n">busca'</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">vacia</span><span class="w"> </span><span class="p">(</span><span class="n">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="p">)))</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">src.TAD.ColaDePrioridad</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CPrioridad</span><span class="p">,</span> <span class="n">esVacia</span><span class="p">,</span> <span class="n">inserta</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span>
                                     <span class="n">vacia</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">buscaEscalada</span><span class="p">(</span><span class="n">sucesores</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">A</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]],</span>
                  <span class="n">esFinal</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">A</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
                  <span class="n">inicial</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">inserta</span><span class="p">(</span><span class="n">inicial</span><span class="p">,</span> <span class="n">vacia</span><span class="p">())</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">esVacia</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">primero</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">esFinal</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">x</span>

        <span class="n">c</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span> <span class="n">sucesores</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">vacia</span><span class="p">())</span>

    <span class="k">return</span> <span class="kc">None</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/07/07-bpm_8puzzle/" class="u-url">El problema del 8 puzzle</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/07/07-bpm_8puzzle/" rel="bookmark">
            <time class="published dt-published" datetime="2023-07-07T06:00:00+02:00" itemprop="datePublished" title="07-07-2023">07-07-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Para el 8-puzzle se usa un cajón cuadrado en el que hay situados  bloques cuadrados. El cuadrado restante está sin rellenar. Cada bloque tiene un número. Un bloque adyacente al hueco puede deslizarse hacia él. El juego consiste en transformar la posición inicial en la posición final mediante el deslizamiento de los bloques. En particular, consideramos el estado inicial y final siguientes:</p>
<div class="code"><pre class="code literal-block"><span class="c">   </span><span class="nb">+---+---+---+</span><span class="c">                   </span><span class="nb">+---+---+---+</span>
<span class="c">   |   | 1 | 3 |                   | 1 | 2 | 3 |</span>
<span class="c">   </span><span class="nb">+---+---+---+</span><span class="c">                   </span><span class="nb">+---+---+---+</span>
<span class="c">   | 8 | 2 | 4 |                   | 8 |   | 4 |</span>
<span class="c">   </span><span class="nb">+---+---+---+</span><span class="c">                   </span><span class="nb">+---+---+---+</span>
<span class="c">   | 7 | 5 | 5 |                   | 7 | 6 | 5 |</span>
<span class="c">   </span><span class="nb">+---+---+---+</span><span class="c">                   </span><span class="nb">+---+---+---+</span>
<span class="c">   Estado inicial                  Estado final</span>
</pre></div>

<p>Para solucionar el problema se definen los siguientes tipos:</p>
<ul>
<li>
<code>Tablero</code> es una matriz de número enteros (que representan las piezas en
  cada posición y el 0 representa el hueco):</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="k">type</span><span class="w"> </span><span class="nx">Tablero</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="nx">Matrix</span><span class="w"> </span><span class="nx">Int</span>
</pre></div>

<ul>
<li>
<code>Estado</code> es una listas de tableros [t_n,...,t_1] tal que t_i es un
  sucesor de t_(i-1).</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">newtype</span><span class="w"> </span><span class="n">Estado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Est</span><span class="w"> </span><span class="o">[</span><span class="n">Tablero</span><span class="o">]</span>
<span class="w">       </span><span class="n">deriving</span><span class="w"> </span><span class="n">Show</span>
</pre></div>

<p>Usando el procedimiento de <a href="posts/2023/07/06-busquedaprimeroelmejor">búsqueda por primero el mejor</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">solucion_8puzzle</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Tablero</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">Tablero</span><span class="o">]</span>
</pre></div>

<p>tal que <code>(solucion_8puzzle t)</code> es la solución del problema del problema del 8 puzzle a partir del tablero <code>t</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   λ&gt; solucion_8puzzle (fromLists [[0,1,3],[8,2,4],[7,6,5]])
   [┌       ┐  ┌       ┐  ┌       ┐
    │ 0 1 3 │  │ 1 0 3 │  │ 1 2 3 │
    │ 8 2 4 │  │ 8 2 4 │  │ 8 0 4 │
    │ 7 6 5 │  │ 7 6 5 │  │ 7 6 5 │
    └       ┘, └       ┘, └       ┘]
   λ&gt; length (solucion_8puzzle (fromLists [[2,6,3],[5,0,4],[1,7,8]]))
   21
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/07/07-bpm_8puzzle/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/07/07-bpm_8puzzle/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BPM_8Puzzle</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaPrimeroElMejor</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaPM</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.Matrix</span><span class="w"> </span><span class="p">(</span><span class="kt">Matrix</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">),</span><span class="w"> </span><span class="nf">fromLists</span><span class="p">,</span><span class="w"> </span><span class="nf">setElem</span><span class="p">,</span><span class="w"> </span><span class="nf">toLists</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Tablero</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="kt">Matrix</span><span class="w"> </span><span class="kt">Int</span>

<span class="kr">newtype</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Est</span><span class="w"> </span><span class="p">[</span><span class="kt">Tablero</span><span class="p">]</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>

<span class="nf">solucion_8puzzle</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tablero</span><span class="p">]</span>
<span class="nf">solucion_8puzzle</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">reverse</span><span class="w"> </span><span class="n">ts</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="p">(</span><span class="kt">Est</span><span class="w"> </span><span class="n">ts</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="p">(</span><span class="n">buscaPM</span><span class="w"> </span><span class="n">sucesores</span>
<span class="w">                                 </span><span class="n">esFinal</span>
<span class="w">                                 </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">t</span><span class="p">))</span>

<span class="c1">-- Estado inicial</span>
<span class="c1">-- ==============</span>

<span class="c1">-- (inicial t) es el estado inicial del problema del 8 puzzle a partir del</span>
<span class="c1">-- tablero t.</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Estado</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Est</span><span class="w"> </span><span class="p">[</span><span class="n">t</span><span class="p">]</span>

<span class="c1">-- Estado final</span>
<span class="c1">-- ============</span>

<span class="c1">-- (esFinal e) se verifica si e es un estado final.</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esFinal</span><span class="w"> </span><span class="p">(</span><span class="kt">Est</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tableroFinal</span>

<span class="c1">-- tableroFinal es el estado tablero final del 8 puzzle.</span>
<span class="nf">tableroFinal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span>
<span class="nf">tableroFinal</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">fromLists</span><span class="w"> </span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                          </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                          </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]]</span>

<span class="c1">-- Sucesores</span>
<span class="c1">-- =========</span>

<span class="c1">-- (sucesores e) es la lista de sucesores del estado e. Por ejemplo,</span>
<span class="c1">--    λ&gt; sucesores (Est [fromLists [[2,1,3],[8,0,4],[7,6,5]]])</span>
<span class="c1">--    [Est [┌       ┐  ┌       ┐</span>
<span class="c1">--          │ 2 0 3 │  │ 2 1 3 │</span>
<span class="c1">--          │ 8 1 4 │  │ 8 0 4 │</span>
<span class="c1">--          │ 7 6 5 │  │ 7 6 5 │</span>
<span class="c1">--          └       ┘, └       ┘],</span>
<span class="c1">--     Est [┌       ┐  ┌       ┐</span>
<span class="c1">--          │ 2 1 3 │  │ 2 1 3 │</span>
<span class="c1">--          │ 8 6 4 │  │ 8 0 4 │</span>
<span class="c1">--          │ 7 0 5 │  │ 7 6 5 │</span>
<span class="c1">--          └       ┘, └       ┘],</span>
<span class="c1">--     Est [┌       ┐  ┌       ┐</span>
<span class="c1">--          │ 2 1 3 │  │ 2 1 3 │</span>
<span class="c1">--          │ 0 8 4 │  │ 8 0 4 │</span>
<span class="c1">--          │ 7 6 5 │  │ 7 6 5 │</span>
<span class="c1">--          └       ┘, └       ┘],</span>
<span class="c1">--     Est [┌       ┐  ┌       ┐</span>
<span class="c1">--          │ 2 1 3 │  │ 2 1 3 │</span>
<span class="c1">--          │ 8 4 0 │  │ 8 0 4 │</span>
<span class="c1">--          │ 7 6 5 │  │ 7 6 5 │</span>
<span class="c1">--          └       ┘, └       ┘]]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Estado</span><span class="p">]</span>
<span class="nf">sucesores</span><span class="w"> </span><span class="p">(</span><span class="kt">Est</span><span class="w"> </span><span class="n">e</span><span class="o">@</span><span class="p">(</span><span class="n">t</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="kt">Est</span><span class="w"> </span><span class="p">(</span><span class="n">t'</span><span class="kt">:</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">t'</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">tablerosSucesores</span><span class="w"> </span><span class="n">t</span><span class="p">,</span>
<span class="w">                </span><span class="n">t'</span><span class="w"> </span><span class="p">`</span><span class="n">notElem</span><span class="p">`</span><span class="w"> </span><span class="n">e</span><span class="p">]</span>

<span class="c1">-- (tablerosSucesores t) es la lista de los tableros sucesores del</span>
<span class="c1">-- tablero t. Por ejemplo,</span>
<span class="c1">--    λ&gt; tablerosSucesores (fromLists [[2,1,3],[8,0,4],[7,6,5]])</span>
<span class="c1">--    [┌       ┐  ┌       ┐  ┌       ┐  ┌       ┐</span>
<span class="c1">--     │ 2 0 3 │  │ 2 1 3 │  │ 2 1 3 │  │ 2 1 3 │</span>
<span class="c1">--     │ 8 1 4 │  │ 8 6 4 │  │ 0 8 4 │  │ 8 4 0 │</span>
<span class="c1">--     │ 7 6 5 │  │ 7 0 5 │  │ 7 6 5 │  │ 7 6 5 │</span>
<span class="c1">--     └       ┘, └       ┘, └       ┘, └       ┘]</span>
<span class="nf">tablerosSucesores</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Tablero</span><span class="p">]</span>
<span class="nf">tablerosSucesores</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[</span><span class="n">intercambia</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">posicionesVecinas</span><span class="w"> </span><span class="n">p</span><span class="p">]</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">posicionHueco</span><span class="w"> </span><span class="n">t</span>

<span class="c1">-- Una posición es un par de enteros.</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Int</span><span class="p">)</span>

<span class="c1">-- (posicionesVecinas p) son las posiciones de la matriz cuadrada de</span>
<span class="c1">-- dimensión 3 que se encuentran encima, abajo, a la izquierda y a la</span>
<span class="c1">-- derecha de los posición p. Por ejemplo,</span>
<span class="c1">--    λ&gt; posicionesVecinas (2,2)</span>
<span class="c1">--    [(1,2),(3,2),(2,1),(2,3)]</span>
<span class="c1">--    λ&gt; posicionesVecinas (1,2)</span>
<span class="c1">--    [(2,2),(1,1),(1,3)]</span>
<span class="c1">--    λ&gt; posicionesVecinas (1,1)</span>
<span class="c1">--    [(2,1),(1,2)]</span>
<span class="nf">posicionesVecinas</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Posicion</span><span class="p">]</span>
<span class="nf">posicionesVecinas</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">++</span>
<span class="w">  </span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>

<span class="c1">-- (posicionHueco t) es la posición del hueco en el tablero t. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; posicionHueco (fromLists [[2,1,3],[8,0,4],[7,6,5]])</span>
<span class="c1">--    (2,2)</span>
<span class="nf">posicionHueco</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span>
<span class="nf">posicionHueco</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">posicionElemento</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="mi">0</span>

<span class="c1">-- (posicionElemento t a) es la posición de elemento a en el tablero</span>
<span class="c1">-- t. Por ejemplo,</span>
<span class="c1">--    λ&gt; posicionElemento (fromLists [[2,1,3],[8,0,4],[7,6,5]]) 4</span>
<span class="c1">--    (2,3)</span>
<span class="nf">posicionElemento</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span>
<span class="nf">posicionElemento</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">head</span><span class="w"> </span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="n">j</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="n">t</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">a</span><span class="p">]</span>

<span class="c1">-- (intercambia t p1 p2) es el tablero obtenido intercambiando en t los</span>
<span class="c1">-- elementos que se encuentran en las posiciones p1 y p2. Por ejemplo,</span>
<span class="c1">--    λ&gt; intercambia (fromLists [[2,1,3],[8,0,4],[7,6,5]]) (1,2) (2,2)</span>
<span class="c1">--    ┌       ┐</span>
<span class="c1">--    │ 2 0 3 │</span>
<span class="c1">--    │ 8 1 4 │</span>
<span class="c1">--    │ 7 6 5 │</span>
<span class="c1">--    └       ┘</span>
<span class="nf">intercambia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tablero</span>
<span class="nf">intercambia</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">setElem</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="p">(</span><span class="n">setElem</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="n">t</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">p1</span>
<span class="w">        </span><span class="n">a2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="n">p2</span>

<span class="c1">-- Heurística</span>
<span class="c1">-- ==========</span>

<span class="c1">-- (heuristica t) es la suma de la distancia Manhatan desde la posición de</span>
<span class="c1">-- cada objeto del tablero a su posición en el tablero final. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    λ&gt; heuristica (fromLists [[0,1,3],[8,2,4],[7,6,5]])</span>
<span class="c1">--    4</span>
<span class="nf">heuristica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Tablero</span><span class="w">  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">heuristica</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">sum</span><span class="w"> </span><span class="p">[</span><span class="n">distancia</span><span class="w"> </span><span class="p">(</span><span class="n">posicionElemento</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">                 </span><span class="p">(</span><span class="n">posicionElemento</span><span class="w"> </span><span class="n">tableroFinal</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">8</span><span class="p">]]</span>

<span class="c1">-- (distancia p1 p2) es la distancia Manhatan entre las posiciones p1 y</span>
<span class="c1">-- p2. Por ejemplo,</span>
<span class="c1">--    distancia (2,7) (4,1)  ==  8</span>
<span class="nf">distancia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="nf">distancia</span><span class="w"> </span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">abs</span><span class="w"> </span><span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">abs</span><span class="w"> </span><span class="p">(</span><span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">)</span>

<span class="c1">-- Comparación de estados</span>
<span class="c1">-- ======================</span>

<span class="c1">-- Un estado es menor o igual que otro si tiene la heurística de su</span>
<span class="c1">-- primer tablero es menor o que la del segundo o so iguales y el</span>
<span class="c1">-- primero es más corto.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="kt">Estado</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="kt">Est</span><span class="w"> </span><span class="p">(</span><span class="n">t1</span><span class="kt">:</span><span class="n">ts1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="kt">Est</span><span class="w"> </span><span class="p">(</span><span class="n">t2</span><span class="kt">:</span><span class="n">ts2</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">heuristica</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">heuristica</span><span class="w"> </span><span class="n">t2</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                                 </span><span class="p">((</span><span class="n">heuristica</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">heuristica</span><span class="w"> </span><span class="n">t2</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<span class="w">                                  </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="n">ts1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">ts2</span><span class="p">))</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">map</span><span class="w"> </span><span class="n">toLists</span><span class="w"> </span><span class="p">(</span><span class="n">solucion_8puzzle</span><span class="w"> </span><span class="p">(</span><span class="n">fromLists</span><span class="w"> </span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]]))</span>
<span class="w">   </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">[[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
<span class="w">               </span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span>
<span class="w">               </span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
<span class="w">                </span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]]]</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">length</span><span class="w"> </span><span class="p">(</span><span class="n">solucion_8puzzle</span><span class="w"> </span><span class="p">(</span><span class="n">fromLists</span><span class="w"> </span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]]))</span>
<span class="w">    </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="mi">21</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.1361 seconds</span>
<span class="c1">--    2 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">src.BusquedaPrimeroElMejor</span> <span class="kn">import</span> <span class="n">buscaPM</span>

<span class="n">Tablero</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>

<span class="c1"># Tablero final</span>
<span class="c1"># =============</span>

<span class="c1"># tableroFinal es el tablero final del 8 puzzle.</span>
<span class="n">tableroFinal</span><span class="p">:</span> <span class="n">Tablero</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                         <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
                         <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]]</span>

<span class="c1"># Posiciones</span>
<span class="c1"># ==========</span>

<span class="c1"># Una posición es un par de enteros.</span>
<span class="n">Posicion</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]</span>

<span class="c1"># Heurística</span>
<span class="c1"># ==========</span>

<span class="c1"># distancia(p1, p2) es la distancia Manhatan entre las posiciones p1 y</span>
<span class="c1"># p2. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; distancia((2,7), (4,1))</span>
<span class="c1">#    8</span>
<span class="k">def</span> <span class="nf">distancia</span><span class="p">(</span><span class="n">p1</span><span class="p">:</span> <span class="n">Posicion</span><span class="p">,</span> <span class="n">p2</span><span class="p">:</span> <span class="n">Posicion</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span> <span class="o">=</span> <span class="n">p1</span>
    <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="o">=</span> <span class="n">p2</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x1</span><span class="o">-</span><span class="n">x2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span> <span class="p">(</span><span class="n">y1</span><span class="o">-</span><span class="n">y2</span><span class="p">)</span>

<span class="c1"># posicionElemento(t, a) es la posición de elemento a en el tablero</span>
<span class="c1"># t. Por ejemplo,</span>
<span class="c1">#    λ&gt; posicionElemento([[2,1,3],[8,0,4],[7,6,5]], 4)</span>
<span class="c1">#    (1, 2)</span>
<span class="k">def</span> <span class="nf">posicionElemento</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Posicion</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">a</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># posicionHueco(t) es la posición del hueco en el tablero t. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; posicionHueco([[2,1,3],[8,0,4],[7,6,5]])</span>
<span class="c1">#    (1, 1)</span>
<span class="k">def</span> <span class="nf">posicionHueco</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Posicion</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">posicionElemento</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># heuristica(t) es la suma de la distancia Manhatan desde la posición de</span>
<span class="c1"># cada objeto del tablero a su posición en el tablero final. Por</span>
<span class="c1"># ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; heuristica([[0,1,3],[8,2,4],[7,6,5]])</span>
<span class="c1">#    4</span>
<span class="k">def</span> <span class="nf">heuristica</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">((</span><span class="n">distancia</span><span class="p">(</span><span class="n">posicionElemento</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
                          <span class="n">posicionElemento</span><span class="p">(</span><span class="n">tableroFinal</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>

<span class="c1"># Estados</span>
<span class="c1"># =======</span>

<span class="c1"># Un estado es una tupla (h, n, ts), donde ts es una listas de tableros</span>
<span class="c1"># [t_n,...,t_1] tal que t_i es un sucesor de t_(i-1) y h es la</span>
<span class="c1"># heurística de t_n.</span>
<span class="n">Estado</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]]</span>

<span class="c1"># Estado inicial</span>
<span class="c1"># ==============</span>

<span class="c1"># inicial(t) es el estado inicial del problema del 8 puzzle a partir del</span>
<span class="c1"># tablero t.</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Estado</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">heuristica</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">t</span><span class="p">])</span>

<span class="c1"># Estado final</span>
<span class="c1"># ============</span>

<span class="c1"># esFinal(e) se verifica si e es un estado final.</span>
<span class="k">def</span> <span class="nf">esFinal</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="n">ts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">tableroFinal</span>

<span class="c1"># Sucesores</span>
<span class="c1"># =========</span>

<span class="c1"># posicionesVecinas(p) son las posiciones de la matriz cuadrada de</span>
<span class="c1"># dimensión 3 que se encuentran encima, abajo, a la izquierda y a la</span>
<span class="c1"># derecha de los posición p. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; posicionesVecinas((1,1))</span>
<span class="c1">#    [(0, 1), (2, 1), (1, 0), (1, 2)]</span>
<span class="c1">#    &gt;&gt;&gt; posicionesVecinas((0,1))</span>
<span class="c1">#    [(1, 1), (0, 0), (0, 2)]</span>
<span class="c1">#    &gt;&gt;&gt; posicionesVecinas((0,0))</span>
<span class="c1">#    [(1, 0), (0, 1)]</span>
<span class="k">def</span> <span class="nf">posicionesVecinas</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Posicion</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Posicion</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="o">=</span> <span class="n">p</span>
    <span class="n">vecinas</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vecinas</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">vecinas</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">vecinas</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">vecinas</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">vecinas</span>

<span class="c1"># intercambia(t,p1, p2) es el tablero obtenido intercambiando en t los</span>
<span class="c1"># elementos que se encuentran en las posiciones p1 y p2. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; intercambia([[2,1,3],[8,0,4],[7,6,5]], (0,1), (1,1))</span>
<span class="c1">#    [[2, 0, 3], [8, 1, 4], [7, 6, 5]]</span>
<span class="k">def</span> <span class="nf">intercambia</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">,</span> <span class="n">p1</span><span class="p">:</span> <span class="n">Posicion</span><span class="p">,</span> <span class="n">p2</span><span class="p">:</span> <span class="n">Posicion</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tablero</span><span class="p">:</span>
    <span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">j1</span><span class="p">)</span> <span class="o">=</span> <span class="n">p1</span>
    <span class="p">(</span><span class="n">i2</span><span class="p">,</span> <span class="n">j2</span><span class="p">)</span> <span class="o">=</span> <span class="n">p2</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="n">t1</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="n">j1</span><span class="p">]</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="n">t1</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span>
    <span class="n">t1</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="n">j1</span><span class="p">]</span> <span class="o">=</span> <span class="n">a2</span>
    <span class="n">t1</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="n">j2</span><span class="p">]</span> <span class="o">=</span> <span class="n">a1</span>
    <span class="k">return</span> <span class="n">t1</span>

<span class="c1"># tablerosSucesores(t) es la lista de los tablrtos sucesores del</span>
<span class="c1"># tablero t. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; tablerosSucesores([[2,1,3],[8,0,4],[7,6,5]])</span>
<span class="c1">#    [[[2, 0, 3], [8, 1, 4], [7, 6, 5]],</span>
<span class="c1">#     [[2, 1, 3], [8, 6, 4], [7, 0, 5]],</span>
<span class="c1">#     [[2, 1, 3], [0, 8, 4], [7, 6, 5]],</span>
<span class="c1">#     [[2, 1, 3], [8, 4, 0], [7, 6, 5]]]</span>
<span class="k">def</span> <span class="nf">tablerosSucesores</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]:</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">posicionHueco</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">intercambia</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">posicionesVecinas</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>

<span class="c1"># (sucesores e) es la lista de sucesores del estado e. Por ejemplo,</span>
<span class="c1">#    &gt;&gt;&gt; t1 = [[0,1,3],[8,2,4],[7,6,5]]</span>
<span class="c1">#    &gt;&gt;&gt; es = sucesores((heuristica(t1), 1, [t1]))</span>
<span class="c1">#    &gt;&gt;&gt; es</span>
<span class="c1">#    [(4, 2, [[[8, 1, 3],</span>
<span class="c1">#              [0, 2, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[0, 1, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]]]),</span>
<span class="c1">#     (2, 2, [[[1, 0, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[0, 1, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]]])]</span>
<span class="c1">#    &gt;&gt;&gt; sucesores(es[1])</span>
<span class="c1">#    [(0, 3, [[[1, 2, 3],</span>
<span class="c1">#              [8, 0, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[1, 0, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[0, 1, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]]]),</span>
<span class="c1">#     (4, 3, [[[1, 3, 0],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[1, 0, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]],</span>
<span class="c1">#             [[0, 1, 3],</span>
<span class="c1">#              [8, 2, 4],</span>
<span class="c1">#              [7, 6, 5]]])]</span>
<span class="k">def</span> <span class="nf">sucesores</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">Estado</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Estado</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">heuristica</span><span class="p">(</span><span class="n">t1</span><span class="p">),</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">t1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ts</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">t1</span> <span class="ow">in</span> <span class="n">tablerosSucesores</span><span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">t1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">]</span>

<span class="c1"># Solución</span>
<span class="c1"># ========</span>

<span class="k">def</span> <span class="nf">solucion_8puzzle</span><span class="p">(</span><span class="n">t</span><span class="p">:</span> <span class="n">Tablero</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Tablero</span><span class="p">]]:</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">buscaPM</span><span class="p">(</span><span class="n">sucesores</span><span class="p">,</span> <span class="n">esFinal</span><span class="p">,</span> <span class="n">inicial</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span> <span class="o">=</span> <span class="n">r</span>
    <span class="n">ts</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ts</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_8puzzle</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">solucion_8puzzle</span><span class="p">([[</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]])</span> <span class="o">==</span> \
        <span class="p">[[[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span>
         <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span>
         <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span>
         <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]]</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    src&gt; poetry run pytest -q BPM_8Puzzle.py</span>
<span class="c1">#    1 passed in 0.10s</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/07/06-busquedaprimeroelmejor/" class="u-url">Búsqueda por primero el mejor</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/07/06-busquedaprimeroelmejor/" rel="bookmark">
            <time class="published dt-published" datetime="2023-07-06T06:00:00+02:00" itemprop="datePublished" title="06-07-2023">06-07-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>En la búsqueda por primero el mejor se supone que los estados están ordenados mediante una función, la heurística, que es una rstimación de su coste para llegar a un estado final.</p>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">buscaPM</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Bool</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">n</span><span class="o">]</span>
</pre></div>

<p>tal que <code>buscaPM s o e</code> es la lista de soluciones del problema de espacio de estado definido por la función sucesores <code>s</code>, el objetivo <code>o</code> y estado inicial <code>e</code>, obtenidas buscando por primero el mejor.</p>
<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/07/06-busquedaprimeroelmejor/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/07/06-busquedaprimeroelmejor/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BusquedaPrimeroElMejor</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaPM</span><span class="p">)</span><span class="w">  </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">TAD.ColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="nf">esVacia</span><span class="p">,</span><span class="w"> </span><span class="nf">inserta</span><span class="p">,</span><span class="w"> </span><span class="nf">primero</span><span class="p">,</span><span class="w"> </span><span class="nf">resto</span><span class="p">,</span><span class="w"> </span><span class="nf">vacia</span><span class="p">)</span>

<span class="nf">buscaPM</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<span class="nf">buscaPM</span><span class="w"> </span><span class="n">sucesores</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">busca'</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacia</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">busca'</span><span class="w"> </span><span class="n">c</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">esVacia</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">[]</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">esFinal</span><span class="w"> </span><span class="p">(</span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">busca'</span><span class="w"> </span><span class="p">(</span><span class="n">resto</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">busca'</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="p">(</span><span class="n">resto</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">sucesores</span><span class="w"> </span><span class="p">(</span><span class="n">primero</span><span class="w"> </span><span class="n">c</span><span class="p">)))</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">src.TAD.ColaDePrioridad</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CPrioridad</span><span class="p">,</span> <span class="n">esVacia</span><span class="p">,</span> <span class="n">inserta</span><span class="p">,</span> <span class="n">primero</span><span class="p">,</span>
                                     <span class="n">resto</span><span class="p">,</span> <span class="n">vacia</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">buscaPM</span><span class="p">(</span><span class="n">sucesores</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">A</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]],</span>
            <span class="n">esFinal</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">A</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span>
            <span class="n">inicial</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">inserta</span><span class="p">(</span><span class="n">inicial</span><span class="p">,</span> <span class="n">vacia</span><span class="p">())</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">esVacia</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">esFinal</span><span class="p">(</span><span class="n">primero</span><span class="p">(</span><span class="n">c</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">primero</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

        <span class="n">es</span> <span class="o">=</span> <span class="n">sucesores</span><span class="p">(</span><span class="n">primero</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span> <span class="n">es</span><span class="p">,</span> <span class="n">resto</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

    <span class="k">return</span> <span class="kc">None</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/07/05-coladeprioridad/" class="u-url">El tipo abstracto de datos de las colas de prioridad</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/07/05-coladeprioridad/" rel="bookmark">
            <time class="published dt-published" datetime="2023-07-05T06:00:00+02:00" itemprop="datePublished" title="05-07-2023">05-07-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <h2>1. El tipo abstracto de datos de las colas de prioridad</h2>
<p>Una cola de prioridad es una cola en la que cada elemento tiene asociada una prioridad. La operación de extracción siempre elige el elemento de menor prioridad.</p>
<p>Las operaciones que definen a tipo abstracto de datos (TAD) de las colas de prioridad (cuyos elementos son del tipo a) son las siguientes:</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">vacia</span><span class="w">   </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">inserta</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">primero</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">resto</span><span class="w">   </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="n">esVacia</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Bool</span>
</pre></div>

<p>tales que</p>
<ul>
<li>vacia es la cola de prioridad vacía.</li>
<li>(inserta x c) añade el elemento x a la cola de prioridad c.</li>
<li>(primero c) es el primer elemento de la cola de prioridad c.</li>
<li>(resto c) es el resto de la cola de prioridad c.</li>
<li>(esVacia c) se verifica si la cola de prioridad c es vacía.</li>
</ul>
<p>Las operaciones tienen que verificar las siguientes propiedades:</p>
<ul>
<li>inserta x (inserta y c) == inserta y (inserta x c)</li>
<li>primero (inserta x vacia) == x</li>
<li>Si x &lt;= y, entonces primero (inserta y (inserta x c)) == primero (inserta x c)</li>
<li>resto (inserta x vacia) == vacia</li>
<li>Si x &lt;= y, entonces resto (inserta y (inserta x c)) == inserta y (resto (inserta x c))</li>
<li>esVacia vacia</li>
<li>not (esVacia (inserta x c))</li>
</ul>
<h2>2. Las colas de prioridad en Haskell</h2>
<h3>2.1. El tipo abstracto de datos de las colas de prioridad en Haskell</h3>
<p>El TAD de las colas de prioridadd se encuentra en el módulo <a href="https://github.com/jaalonso/Exercitium/blob/main/src/TAD/ColaDePrioridad.hs">ColaDePrioridad.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ColaDePrioridad</span>
<span class="w">  </span><span class="p">(</span><span class="kt">CPrioridad</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacia</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; CPrioridad a -&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">primero</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; a</span>
<span class="w">   </span><span class="nf">resto</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">esVacia</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">TAD.ColaDePrioridadConListas</span>
</pre></div>

<p>Para usar el TAD hay que usar una implementación concreta. En principio,
solo considearemos una que usa las listas.</p>
<h3>2.2. Implementación de las colas de prioridad mediante listas</h3>
<p>La implementación se encuentra en el módulo <a href="https://github.com/jaalonso/Exercitium/blob/main/src/TAD/ColaDePrioridadConListas.hs">ColaDePrioridadConListas.hs</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="cm">{-# LANGUAGE FlexibleInstances #-}</span>
<span class="cm">{-# OPTIONS_GHC -fno-warn-unused-top-binds #-}</span>

<span class="kr">module</span><span class="w"> </span><span class="nn">TAD.ColaDePrioridadConListas</span>
<span class="w">  </span><span class="p">(</span><span class="kt">CPrioridad</span><span class="p">,</span>
<span class="w">   </span><span class="nf">vacia</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">inserta</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; a -&gt; CPrioridad a -&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">primero</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; a</span>
<span class="w">   </span><span class="nf">resto</span><span class="p">,</span><span class="w">   </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; CPrioridad a</span>
<span class="w">   </span><span class="nf">esVacia</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Ord a =&gt; CPrioridad a -&gt; Bool</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">Test.QuickCheck</span>

<span class="c1">-- Colas de prioridad mediante listas.</span>
<span class="kr">newtype</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CP</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="kt">Eq</span>

<span class="c1">-- (escribeColaDePrioridad c) es la cadena correspondiente a la cola de</span>
<span class="c1">-- prioridad c. Por ejemplo,</span>
<span class="c1">--    λ&gt; escribeColaDePrioridad (inserta 5 (inserta 2 (inserta 3 vacia)))</span>
<span class="c1">--    "2 | 3 | 5"</span>
<span class="nf">escribeColaDePrioridad</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">String</span>
<span class="nf">escribeColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="kt">[]</span><span class="p">)</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="s">"-"</span>
<span class="nf">escribeColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">])</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">x</span>
<span class="nf">escribeColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="s">" | "</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">escribeColaDePrioridad</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- Procedimiento de escritura de colas de prioridad.</span>
<span class="kr">instance</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Show</span><span class="w"> </span><span class="p">(</span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">escribeColaDePrioridad</span>

<span class="c1">-- Ejemplo de cola de prioridad</span>
<span class="c1">--    λ&gt; inserta 5 (inserta 2 (inserta 3 vacia))</span>
<span class="c1">--    2 | 3 | 5</span>

<span class="c1">-- vacia es la cola de prioridad vacía. Por ejemplo,</span>
<span class="c1">--    λ&gt; vacia</span>
<span class="c1">--    CP []</span>
<span class="nf">vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="nf">vacia</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CP</span><span class="w"> </span><span class="kt">[]</span>

<span class="c1">-- (inserta x c) es la cola obtenida añadiendo el elemento x a la cola</span>
<span class="c1">-- de prioridad c. Por ejemplo,</span>
<span class="c1">--    λ&gt; inserta 5 (foldr inserta vacia [3,1,7,2,9])</span>
<span class="c1">--    1 | 2 | 3 | 5 | 7 | 9</span>
<span class="nf">inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="nf">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CP</span><span class="w"> </span><span class="p">(</span><span class="n">ins</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">q</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">ins</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="kt">[]</span><span class="w">                   </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
<span class="w">        </span><span class="n">ins</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">r</span><span class="o">@</span><span class="p">(</span><span class="n">e</span><span class="kt">:</span><span class="n">r'</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">e</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="n">y</span><span class="kt">:</span><span class="n">r</span>
<span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">e</span><span class="kt">:</span><span class="n">ins</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">r'</span>

<span class="c1">-- (primero c) es el primer elemento de la cola de prioridad c. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    primero (foldr inserta vacia [3,1,7,2,9])  ==  1</span>
<span class="nf">primero</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="nf">primero</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="kr">_</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">x</span>
<span class="nf">primero</span><span class="w"> </span><span class="kr">_</span><span class="w">         </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">"primero: cola de prioridad vacia"</span>

<span class="c1">-- (resto c) es la cola de prioridad obtenida eliminando el primer</span>
<span class="c1">-- elemento de la cola de prioridad c. Por ejemplo,</span>
<span class="c1">--    λ&gt; resto (foldr inserta vacia [3,1,7,2,9])</span>
<span class="c1">--    2 | 3 | 7 | 9</span>
<span class="nf">resto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span>
<span class="nf">resto</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="p">(</span><span class="kr">_</span><span class="kt">:</span><span class="n">xs</span><span class="p">))</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CP</span><span class="w"> </span><span class="n">xs</span>
<span class="nf">resto</span><span class="w"> </span><span class="kr">_</span><span class="w">           </span><span class="ow">=</span><span class="w"> </span><span class="ne">error</span><span class="w"> </span><span class="s">"resto: cola de prioridad vacia"</span>

<span class="c1">-- (esVacia c) se verifica si la cola de prioridad c es vacía. Por</span>
<span class="c1">-- ejemplo,</span>
<span class="c1">--    esVacia (foldr inserta vacia [3,1,7,2,9]) ==  False</span>
<span class="c1">--    esVacia vacia                             ==  True</span>
<span class="nf">esVacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esVacia</span><span class="w"> </span><span class="p">(</span><span class="kt">CP</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="n">xs</span>

<span class="c1">-- Generador de colas de prioridad</span>
<span class="c1">-- ===============================</span>

<span class="c1">-- genCPrioridad es un generador de colas de enteros. Por ejemplo,</span>
<span class="c1">--    λ&gt; sample genCPrioridad</span>
<span class="c1">--    -</span>
<span class="c1">--    0 | 0</span>
<span class="c1">--    4</span>
<span class="c1">--    -4 | -3 | 6 | 6</span>
<span class="c1">--    -7 | -6 | -2 | 0</span>
<span class="c1">--    -10 | -10 | -5 | 1 | 4 | 6 | 6 | 9 | 10</span>
<span class="c1">--    -</span>
<span class="c1">--    -13 | -11 | -9 | -5 | -2 | -1 | 0 | 1 | 2 | 2 | 13 | 14</span>
<span class="c1">--    -15 | -13 | -13 | -5 | -3 | -1 | 3 | 5 | 7 | 9 | 9 | 14 | 16</span>
<span class="c1">--    -</span>
<span class="c1">--    -17 | -15 | -14 | -5 | -2 | 1 | 1 | 2 | 5 | 7</span>
<span class="nf">genCPrioridad</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w">  </span><span class="kt">Gen</span><span class="w"> </span><span class="p">(</span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="p">)</span>
<span class="nf">genCPrioridad</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">xs</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">listOf</span><span class="w"> </span><span class="n">arbitrary</span>
<span class="w">  </span><span class="n">return</span><span class="w"> </span><span class="p">(</span><span class="n">foldr</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">vacia</span><span class="w"> </span><span class="n">xs</span><span class="p">)</span>

<span class="c1">-- El tipo cola de prioridad es una instancia del arbitrario.</span>
<span class="kr">instance</span><span class="w"> </span><span class="p">(</span><span class="kt">Arbitrary</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Arbitrary</span><span class="w"> </span><span class="p">(</span><span class="kt">CPrioridad</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="kr">where</span>
<span class="w">  </span><span class="n">arbitrary</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">genCPrioridad</span>

<span class="c1">-- Propiedades de las colas de prioridad</span>
<span class="c1">-- =====================================</span>

<span class="c1">-- Propiedad. Si se añade dos elementos a una cola de prioridad se</span>
<span class="c1">-- obtiene la misma cola de prioridad idependientemente del orden en</span>
<span class="c1">-- que se añadan los elementos.</span>
<span class="nf">prop_inserta_conmuta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_inserta_conmuta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_inserta_conmuta</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. La cabeza de la cola de prioridad obtenida añadiendo un</span>
<span class="c1">-- elemento x a la cola de prioridad vacía es x.</span>
<span class="nf">prop_primero_inserta_vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_primero_inserta_vacia</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="kr">_</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">primero</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacia</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">x</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_primero_inserta_vacia</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. El primer elemento de una cola de prioridad c no cambia</span>
<span class="c1">-- cuando se le añade un elemento mayor o igual que algún elemento de c.</span>
<span class="nf">prop_primero_inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Property</span>
<span class="nf">prop_primero_inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="n">primero</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c'</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">primero</span><span class="w"> </span><span class="n">c'</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_primero_inserta</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. El resto de añadir un elemento a la cola de prioridad</span>
<span class="c1">-- vacía es la cola vacía.</span>
<span class="nf">prop_resto_inserta_vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_resto_inserta_vacia</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">resto</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">vacia</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">vacia</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_resto_inserta_vacia</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. El resto de la cola de prioridad obtenida añadiendo un</span>
<span class="c1">-- elemento y a una cola c' (que tiene algún elemento menor o igual que</span>
<span class="c1">-- y) es la cola que se obtiene añadiendo y al resto de c'.</span>
<span class="nf">prop_resto_inserta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Property</span>
<span class="nf">prop_resto_inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="n">resto</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">c'</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="n">resto</span><span class="w"> </span><span class="n">c'</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span><span class="w"> </span><span class="n">c'</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span>

<span class="c1">-- Comprobación:</span>
<span class="c1">--    λ&gt; quickCheck prop_resto_inserta</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. vacia es una cola vacía.</span>
<span class="nf">prop_vacia_es_vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_vacia_es_vacia</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">esVacia</span><span class="w"> </span><span class="p">(</span><span class="n">vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_vacia_es_vacia</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>

<span class="c1">-- Propiedad. Si se añade un elemento a una cola de prioridad se obtiene</span>
<span class="c1">-- una cola no vacía.</span>
<span class="nf">prop_inserta_no_es_vacia</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">CPrioridad</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">prop_inserta_no_es_vacia</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="n">not</span><span class="w"> </span><span class="p">(</span><span class="n">esVacia</span><span class="w"> </span><span class="p">(</span><span class="n">inserta</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">c</span><span class="p">))</span>

<span class="c1">-- Comprobación.</span>
<span class="c1">--    λ&gt; quickCheck prop_inserta_no_es_vacia</span>
<span class="c1">--    +++ OK, passed 100 tests.</span>
</pre></div>

<h2>3. Las colas de prioridad en Python</h2>
<h3>3.1. El tipo abstracto de las colas de prioridad en Python</h3>
<p>La implementación se encuentra en el módulo <a href="https://github.com/jaalonso/Exercitium-Python/blob/main/src/TAD/ColaDePrioridad.py">ColaDePrioridad.py</a> cuyo contenido es el siguiente:</p>
<div class="code"><pre class="code literal-block"><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
   <span class="s1">'CPrioridad'</span><span class="p">,</span>
   <span class="s1">'vacia'</span><span class="p">,</span>
   <span class="s1">'inserta'</span><span class="p">,</span>
   <span class="s1">'primero'</span><span class="p">,</span>
   <span class="s1">'resto'</span><span class="p">,</span>
   <span class="s1">'esVacia'</span><span class="p">,</span>
    <span class="p">]</span>

<span class="kn">from</span> <span class="nn">src.TAD.ColaDePrioridadConListas</span> <span class="kn">import</span> <span class="p">(</span><span class="n">CPrioridad</span><span class="p">,</span> <span class="n">esVacia</span><span class="p">,</span> <span class="n">inserta</span><span class="p">,</span>
                                              <span class="n">primero</span><span class="p">,</span> <span class="n">resto</span><span class="p">,</span> <span class="n">vacia</span><span class="p">)</span>
</pre></div>

<p>Para usar el TAD hay que usar una implementación concreta. En principio, consideraremos solo una que usa las listas.</p>
<h3>3.2. Implementación de las colas de prioridad mediante listas</h3>
<p>La implementación se encuentra en el módulo <a href="https://github.com/jaalonso/Exercitium-Python/blob/main/src/TAD/ColaDePrioridadConListas.py">ColaDePrioridadConListas.py</a> en el que se define la clase CPrioridad con los siguientes métodos:</p>
<ul>
<li>inserta(x) añade x a la cola.</li>
<li>primero() es el primero de la cola.</li>
<li>resto() elimina el primero de la cola.</li>
<li>esVacia() se verifica si la cola es vacía.</li>
</ul>
<p>Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   &gt;&gt;&gt; c = CPrioridad()
   &gt;&gt;&gt; c
   -
   &gt;&gt;&gt; c.inserta(5)
   &gt;&gt;&gt; c.inserta(2)
   &gt;&gt;&gt; c.inserta(3)
   &gt;&gt;&gt; c.inserta(4)
   &gt;&gt;&gt; c
   2 | 3 | 4 | 5
   &gt;&gt;&gt; c.primero()
   2
   &gt;&gt;&gt; c.resto()
   &gt;&gt;&gt; c
   3 | 4 | 5
   &gt;&gt;&gt; c.esVacia()
   False
   &gt;&gt;&gt; c = CPrioridad()
   &gt;&gt;&gt; c.esVacia()
   True
</pre></div>

<p>Además se definen las correspondientes funciones. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   &gt;&gt;&gt; vacia()
   -
   &gt;&gt;&gt; inserta(4, inserta(3, inserta(2, inserta(5, vacia()))))
   2 | 3 | 4 | 5
   &gt;&gt;&gt; primero (inserta(4, inserta(3, inserta(2, inserta(5, vacia())))))
   2
   &gt;&gt;&gt; resto (inserta(4, inserta(3, inserta(2, inserta(5, vacia())))))
   3 | 4 | 5
   &gt;&gt;&gt; esVacia(inserta(4, inserta(3, inserta(2, inserta(5, vacia())))))
   False
   &gt;&gt;&gt; esVacia(vacia())
   True
</pre></div>

<p>Finalmente, se define un generador aleatorio de colas de prioridad y se comprueba que las colas de prioridad cumplen las propiedades de su especificación.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
   <span class="s1">'CPrioridad'</span><span class="p">,</span>
   <span class="s1">'vacia'</span><span class="p">,</span>
   <span class="s1">'inserta'</span><span class="p">,</span>
   <span class="s1">'primero'</span><span class="p">,</span>
   <span class="s1">'resto'</span><span class="p">,</span>
   <span class="s1">'esVacia'</span><span class="p">,</span>
<span class="p">]</span>

<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">assume</span><span class="p">,</span> <span class="n">given</span>
<span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>


<span class="k">class</span> <span class="nc">Comparable</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">otro</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Comparable</span><span class="p">)</span>

<span class="c1"># Clase de las colas de prioridad mediante listas</span>
<span class="c1"># ===============================================</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CPrioridad</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">A</span><span class="p">]):</span>
    <span class="n">_elementos</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve una cadena con los elementos de la cola separados por " | ".</span>
<span class="sd">        Si la cola está vacía, devuelve "-".</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">'-'</span>
        <span class="k">return</span> <span class="s1">' | '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">esVacia</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Comprueba si la cola está vacía.</span>

<span class="sd">        Devuelve True si la cola está vacía, False en caso contrario.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span>

    <span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Inserta el elemento x en la cola de prioridad.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">primero</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Devuelve el primer elemento de la cola.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">resto</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Elimina el primer elemento de la cola</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Funciones del tipo de las listas</span>
<span class="c1"># ================================</span>

<span class="k">def</span> <span class="nf">vacia</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Crea y devuelve una cola vacía de tipo A.</span>
<span class="sd">    """</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPrioridad</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Inserta un elemento x en la cola c y devuelve una nueva cola con</span>
<span class="sd">    el elemento insertado.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="k">def</span> <span class="nf">esVacia</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve True si la cola está vacía, False si no lo está.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">esVacia</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">primero</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">A</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Devuelve el primer elemento de la cola c.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="n">primero</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">resto</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="n">A</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Elimina el primer elemento de la cola c y devuelve una copia de la</span>
<span class="sd">    cola resultante.</span>
<span class="sd">    """</span>
    <span class="n">_aux</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">_aux</span><span class="o">.</span><span class="n">resto</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">_aux</span>

<span class="c1"># Generador de colas de prioridad</span>
<span class="c1"># ===============================</span>

<span class="k">def</span> <span class="nf">colaAleatoria</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">st</span><span class="o">.</span><span class="n">SearchStrategy</span><span class="p">[</span><span class="n">CPrioridad</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Genera una estrategia de búsqueda para generar colas de enteros de</span>
<span class="sd">    forma aleatoria.</span>

<span class="sd">    Utiliza la librería Hypothesis para generar una lista de enteros y</span>
<span class="sd">    luego se convierte en una instancia de la clase cola.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">lists</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">CPrioridad</span><span class="p">)</span>

<span class="c1"># Comprobación de las propiedades de las colas</span>
<span class="c1"># ============================================</span>

<span class="c1"># Las propiedades son</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">colaAleatoria</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_cola1</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span> <span class="o">==</span> <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="n">primero</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacia</span><span class="p">()))</span> <span class="o">==</span> <span class="n">x</span>
    <span class="k">assert</span> <span class="n">resto</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">vacia</span><span class="p">()))</span> <span class="o">==</span> <span class="n">vacia</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">esVacia</span><span class="p">(</span><span class="n">vacia</span><span class="p">())</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">esVacia</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="nd">@given</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">colaAleatoria</span><span class="p">(),</span> <span class="n">x</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">(),</span> <span class="n">y</span><span class="o">=</span><span class="n">st</span><span class="o">.</span><span class="n">integers</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">test_cola2</span><span class="p">(</span><span class="n">c</span><span class="p">:</span> <span class="n">CPrioridad</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">assume</span><span class="p">(</span><span class="ow">not</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">primero</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))))</span> <span class="o">==</span> \
        <span class="n">primero</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
    <span class="k">assert</span> <span class="n">resto</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">))))</span> <span class="o">==</span> \
        <span class="n">inserta</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">resto</span><span class="p">(</span><span class="n">inserta</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)))</span>

<span class="c1"># La comprobación es</span>
<span class="c1">#    &gt; poetry run pytest -q ColaDePrioridadConListas.py</span>
<span class="c1">#    2 passed in 0.54s</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/07/04-bee_mochila/" class="u-url">El problema de la mochila (mediante espacio de estados)</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/07/04-bee_mochila/" rel="bookmark">
            <time class="published dt-published" datetime="2023-07-04T06:00:00+02:00" itemprop="datePublished" title="04-07-2023">04-07-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <p>Se tiene una mochila de capacidad de peso p y una lista de n  para colocar en la mochila. Cada objeto i tiene un peso w(i) y un valor v(i). Considerando la posibilidad de colocar el mismo objeto varias veces en la mochila, el problema consiste en determinar la forma de colocar los objetos en la mochila sin sobrepasar la capacidad de la mochila colocando el máximo valor posible.</p>
<p>Para solucionar el problema se definen los siguientes tipos:</p>
<ul>
<li>Una solución del problema de la mochila es una lista de objetos.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">type</span><span class="w"> </span><span class="n">SolMoch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">Objeto</span><span class="o">]</span>
</pre></div>

<ul>
<li>Los objetos son pares formado por un peso y un valor</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="k">type</span><span class="w"> </span><span class="nx">Objeto</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="nx">Peso</span><span class="p">,</span><span class="nx">Valor</span><span class="p">)</span>
</pre></div>

<ul>
<li>Los pesos son número enteros</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="k">type</span><span class="w"> </span><span class="nx">Peso</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Int</span>
</pre></div>

<ul>
<li>Los valores son números reales.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="k">type</span><span class="w"> </span><span class="nx">Valor</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Float</span>
</pre></div>

<ul>
<li>Los estados del problema de la mochila son 5-tupla de la  (v,p,l,o,s) donde v es el valor de los objetos colocados, p es el peso de los objetos colocados, l es el límite de la capacidad de la mochila, o es la lista de los objetos colocados (ordenados de forma creciente según sus pesos) y s es la solución parcial.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">type</span><span class="w"> </span><span class="n">NodoMoch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Valor</span><span class="p">,</span><span class="n">Peso</span><span class="p">,</span><span class="n">Peso</span><span class="p">,</span><span class="o">[</span><span class="n">Objeto</span><span class="o">]</span><span class="p">,</span><span class="n">SolMoch</span><span class="p">)</span>
</pre></div>

<p>Usando el procedimiento de <a href="posts/2023/06/28-busquedaenprofundidad">búsqueda en profundidad</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">mochila</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">[</span><span class="n">Objeto</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Peso</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">SolMoch</span><span class="p">,</span><span class="n">Valor</span><span class="p">)</span>
</pre></div>

<p>tal que <code>mochila os l</code> es la solución del problema de la mochila para la lista de objetos <code>os</code> y el límite de capacidad <code>l</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block">   &gt; mochila [(2,3),(3,5),(4,6),(5,10)] 8
   ([(5,10.0),(3,5.0)],15.0)
   &gt; mochila [(2,3),(3,5),(5,6)] 10
   ([(3,5.0),(3,5.0),(2,3.0),(2,3.0)],16.0)
   &gt; mochila [(8,15),(15,10),(3,6),(6,13),(2,4),(4,8),(5,6),(7,7)] 35
   ([(6,13.0),(6,13.0),(6,13.0),(6,13.0),(6,13.0),(3,6.0),(2,4.0)],75.0)
   &gt; mochila [(2,2.8),(3,4.4),(5,6.1)] 10
   ([(3,4.4),(3,4.4),(2,2.8),(2,2.8)],14.4)
</pre></div>

<h2>Soluciones</h2>
<p>A continuación se muestran las <a href="posts/2023/07/04-bee_mochila/#haskell">soluciones en Haskell</a> y las <a href="posts/2023/07/04-bee_mochila/#python">soluciones en Python</a>.</p>
<p><a name="haskell"></a></p>
<h3>Soluciones en Haskell</h3>
<div class="code"><pre class="code literal-block"><span class="kr">module</span><span class="w"> </span><span class="nn">BEE_Mochila</span><span class="w"> </span><span class="kr">where</span>

<span class="kr">import</span><span class="w"> </span><span class="nn">BusquedaEnProfundidad</span><span class="w"> </span><span class="p">(</span><span class="nf">buscaProfundidad</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Data.List</span><span class="w"> </span><span class="p">(</span><span class="nf">sort</span><span class="p">)</span>
<span class="kr">import</span><span class="w"> </span><span class="nn">Test.Hspec</span><span class="w"> </span><span class="p">(</span><span class="kt">Spec</span><span class="p">,</span><span class="w"> </span><span class="nf">hspec</span><span class="p">,</span><span class="w"> </span><span class="nf">it</span><span class="p">,</span><span class="w"> </span><span class="nf">shouldBe</span><span class="p">)</span>

<span class="kr">type</span><span class="w"> </span><span class="kt">Peso</span><span class="w">     </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Valor</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="kt">Float</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">Objeto</span><span class="w">   </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Peso</span><span class="p">,</span><span class="kt">Valor</span><span class="p">)</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">SolMoch</span><span class="w">  </span><span class="ow">=</span><span class="w"> </span><span class="p">[</span><span class="kt">Objeto</span><span class="p">]</span>
<span class="kr">type</span><span class="w"> </span><span class="kt">NodoMoch</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="kt">Valor</span><span class="p">,</span><span class="kt">Peso</span><span class="p">,</span><span class="kt">Peso</span><span class="p">,[</span><span class="kt">Objeto</span><span class="p">],</span><span class="kt">SolMoch</span><span class="p">)</span>

<span class="nf">mochila</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Objeto</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Peso</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">SolMoch</span><span class="p">,</span><span class="kt">Valor</span><span class="p">)</span>
<span class="nf">mochila</span><span class="w"> </span><span class="n">os</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">(</span><span class="n">sol</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="w">  </span><span class="kr">where</span>
<span class="w">    </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">,</span><span class="n">sol</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">      </span><span class="n">maximum</span><span class="w"> </span><span class="p">(</span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="n">sucesoresMoch</span>
<span class="w">                                </span><span class="n">esObjetivoMoch</span>
<span class="w">                                </span><span class="p">(</span><span class="n">inicial</span><span class="w"> </span><span class="n">os</span><span class="w"> </span><span class="n">l</span><span class="p">))</span>

<span class="c1">-- (inicial os l) es el estado inicial del problema de la mochila</span>
<span class="c1">-- para la lista de objetos os y el límite de capacidad l</span>
<span class="nf">inicial</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="kt">Objeto</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Peso</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">NodoMoch</span>
<span class="nf">inicial</span><span class="w"> </span><span class="n">os</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">sort</span><span class="w"> </span><span class="n">os</span><span class="p">,</span><span class="kt">[]</span><span class="p">)</span>

<span class="c1">-- (sucesoresMoch e) es la lista de los sucesores del estado e en el</span>
<span class="c1">-- problema de la mochila para la lista de objetos os y el límite de</span>
<span class="c1">-- capacidad l.</span>
<span class="nf">sucesoresMoch</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">NodoMoch</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">NodoMoch</span><span class="p">]</span>
<span class="nf">sucesoresMoch</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">os</span><span class="p">,</span><span class="n">solp</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span>
<span class="w">  </span><span class="p">[(</span><span class="w"> </span><span class="n">v</span><span class="o">+</span><span class="n">v'</span><span class="p">,</span>
<span class="w">     </span><span class="n">p</span><span class="o">+</span><span class="n">p'</span><span class="p">,</span>
<span class="w">     </span><span class="n">l</span><span class="p">,</span>
<span class="w">     </span><span class="p">[</span><span class="n">o</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">o</span><span class="o">@</span><span class="p">(</span><span class="n">p''</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">os</span><span class="p">,</span><span class="w"> </span><span class="n">p''</span><span class="o">&gt;=</span><span class="n">p'</span><span class="p">],</span>
<span class="w">     </span><span class="p">(</span><span class="n">p'</span><span class="p">,</span><span class="n">v'</span><span class="p">)</span><span class="kt">:</span><span class="n">solp</span><span class="w"> </span><span class="p">)</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">p'</span><span class="p">,</span><span class="n">v'</span><span class="p">)</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">os</span><span class="p">,</span>
<span class="w">    </span><span class="n">p</span><span class="o">+</span><span class="n">p'</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">l</span><span class="p">]</span>

<span class="c1">-- (esObjetivoMoch e) se verifica si e es un estado final el problema de</span>
<span class="c1">-- la mochila para la lista de objetos os y el límite de capacidad l .</span>
<span class="nf">esObjetivoMoch</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">NodoMoch</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="nf">esObjetivoMoch</span><span class="w"> </span><span class="p">(</span><span class="kr">_</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">l</span><span class="p">,(</span><span class="n">p'</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="kt">:</span><span class="kr">_</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">p</span><span class="o">+</span><span class="n">p'</span><span class="o">&gt;</span><span class="n">l</span>

<span class="c1">-- Verificación</span>
<span class="c1">-- ============</span>

<span class="nf">verifica</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">IO</span><span class="w"> </span><span class="nb">()</span>
<span class="nf">verifica</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">hspec</span><span class="w"> </span><span class="n">spec</span>

<span class="nf">spec</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Spec</span>
<span class="nf">spec</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e1"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">mochila</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span><span class="w"> </span><span class="mi">8</span>
<span class="w">    </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mf">10.0</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">)],</span><span class="mf">15.0</span><span class="p">)</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e2"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">mochila</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)]</span><span class="w"> </span><span class="mi">10</span>
<span class="w">    </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">([(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.0</span><span class="p">)],</span><span class="mf">16.0</span><span class="p">)</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e3"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">mochila</span><span class="w"> </span><span class="p">[(</span><span class="mi">8</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">)]</span><span class="w"> </span><span class="mi">35</span>
<span class="w">    </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">([(</span><span class="mi">6</span><span class="p">,</span><span class="mf">13.0</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mf">13.0</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mf">13.0</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mf">13.0</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mf">13.0</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">6.0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">4.0</span><span class="p">)],</span><span class="mf">75.0</span><span class="p">)</span>
<span class="w">  </span><span class="n">it</span><span class="w"> </span><span class="s">"e4"</span><span class="w"> </span><span class="o">$</span>
<span class="w">    </span><span class="n">mochila</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">6.1</span><span class="p">)]</span><span class="w"> </span><span class="mi">10</span>
<span class="w">    </span><span class="p">`</span><span class="n">shouldBe</span><span class="p">`</span><span class="w"> </span><span class="p">([(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">)],</span><span class="mf">14.4</span><span class="p">)</span>

<span class="c1">-- La verificación es</span>
<span class="c1">--    λ&gt; verifica</span>
<span class="c1">--</span>
<span class="c1">--    e1</span>
<span class="c1">--    e2</span>
<span class="c1">--    e3</span>
<span class="c1">--    e4</span>
<span class="c1">--</span>
<span class="c1">--    Finished in 0.0424 seconds</span>
<span class="c1">--    4 examples, 0 failures</span>
</pre></div>

<p><a name="python"></a></p>
<h3>Soluciones en Python</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">src.BusquedaEnProfundidad</span> <span class="kn">import</span> <span class="n">buscaProfundidad</span>

<span class="n">Peso</span> <span class="o">=</span> <span class="nb">int</span>
<span class="n">Valor</span> <span class="o">=</span> <span class="nb">float</span>
<span class="n">Objeto</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Peso</span><span class="p">,</span> <span class="n">Valor</span><span class="p">]</span>
<span class="n">SolMoch</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">Objeto</span><span class="p">]</span>
<span class="n">NodoMoch</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Valor</span><span class="p">,</span> <span class="n">Peso</span><span class="p">,</span> <span class="n">Peso</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Objeto</span><span class="p">],</span> <span class="n">SolMoch</span><span class="p">]</span>

<span class="c1"># inicial(os, l) es el estado inicial del problema de la mochila</span>
<span class="c1"># para la lista de objetos os y el límite de capacidad l</span>
<span class="k">def</span> <span class="nf">inicial</span><span class="p">(</span><span class="n">os</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Objeto</span><span class="p">],</span> <span class="n">l</span><span class="p">:</span> <span class="n">Peso</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NodoMoch</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="p">),[])</span>

<span class="c1"># sucesoresMoch(e) es la lista de los sucesores del estado e en el</span>
<span class="c1"># problema de la mochila para la lista de objetos os y el límite de</span>
<span class="c1"># capacidad l.</span>
<span class="k">def</span> <span class="nf">sucesoresMoch</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">NodoMoch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">NodoMoch</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">os</span><span class="p">,</span><span class="n">solp</span><span class="p">)</span> <span class="o">=</span> <span class="n">n</span>
    <span class="k">return</span> <span class="p">[(</span> <span class="n">v</span><span class="o">+</span><span class="n">v1</span><span class="p">,</span>
              <span class="n">p</span><span class="o">+</span><span class="n">p1</span><span class="p">,</span>
              <span class="n">l</span><span class="p">,</span>
              <span class="p">[(</span><span class="n">p2</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">p2</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span> <span class="ow">in</span> <span class="n">os</span> <span class="k">if</span> <span class="n">p2</span> <span class="o">&gt;=</span> <span class="n">p1</span><span class="p">],</span>
              <span class="p">[(</span><span class="n">p1</span><span class="p">,</span><span class="n">v1</span><span class="p">)]</span> <span class="o">+</span> <span class="n">solp</span> <span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">v1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">os</span> <span class="k">if</span> <span class="n">p</span> <span class="o">+</span> <span class="n">p1</span> <span class="o">&lt;=</span> <span class="n">l</span><span class="p">]</span>

<span class="c1"># esObjetivoMoch(e) se verifica si e es un estado final el problema de</span>
<span class="c1"># la mochila para la lista de objetos os y el límite de capacidad l .</span>
<span class="k">def</span> <span class="nf">esObjetivoMoch</span><span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="n">NodoMoch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">os</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">e</span>
    <span class="p">(</span><span class="n">p_</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">p</span> <span class="o">+</span> <span class="n">p_</span> <span class="o">&gt;</span> <span class="n">l</span>

<span class="k">def</span> <span class="nf">mochila</span><span class="p">(</span><span class="n">os</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Objeto</span><span class="p">],</span> <span class="n">l</span><span class="p">:</span> <span class="n">Peso</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">SolMoch</span><span class="p">,</span> <span class="n">Valor</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">sol</span><span class="p">)</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">buscaProfundidad</span><span class="p">(</span><span class="n">sucesoresMoch</span><span class="p">,</span>
                                         <span class="n">esObjetivoMoch</span><span class="p">,</span>
                                         <span class="n">inicial</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="n">l</span><span class="p">)))</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">sol</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

<span class="c1"># Verificación</span>
<span class="c1"># ============</span>

<span class="k">def</span> <span class="nf">test_Mochila</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">mochila</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)],</span> <span class="mi">8</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mf">10.0</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">)],</span><span class="mf">15.0</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">mochila</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)],</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">([(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.0</span><span class="p">)],</span><span class="mf">16.0</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">mochila</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mf">6.1</span><span class="p">)],</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> \
        <span class="p">([(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.8</span><span class="p">)],</span><span class="mf">14.4</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Verificado"</span><span class="p">)</span>

<span class="c1"># La verificación es</span>
<span class="c1">#    &gt;&gt;&gt; test_Mochila()</span>
<span class="c1">#    Verificado</span>
</pre></div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/30-bee_reinas_anchura/" class="u-url">El problema de las n reinas (mediante búsqueda por anchura en espacios de estados)</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/30-bee_reinas_anchura/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-30T06:00:00+02:00" itemprop="datePublished" title="30-06-2023">30-06-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El problema de las n reinas consiste en colocar n reinas en un tablero cuadrado de dimensiones n por n de forma que no se encuentren más de una en la misma línea: horizontal, vertical o diagonal.</p>
<p>Las posiciones de las reinas en el tablero se representan por su columna y su fila.</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="kr">type</span><span class="w"> </span><span class="kt">Columna</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="kr">type</span><span class="w"> </span><span class="kt">Fila</span><span class="w">    </span><span class="ow">=</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>Una solución del problema de las n reinas es una lista de posiciones.</p>
<div class="code"><pre class="code literal-block"><span class="kr">type</span><span class="w"> </span><span class="kt">SolNR</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="p">[(</span><span class="kt">Columna</span><span class="p">,</span><span class="kt">Fila</span><span class="p">)]</span>
</pre></div>

<p>Usando el procedimiento de <a href="posts/2023/06/29-busquedaenanchura">búsqueda en anchura</a>, definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">solucionesNR</span><span class="w">      </span><span class="ow">::</span><span class="w"> </span><span class="kt">Columna</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">SolNR</span><span class="p">]</span>
<span class="w">   </span><span class="n">primeraSolucionNR</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Columna</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">SolNR</span>
<span class="w">   </span><span class="n">nSolucionesNR</span><span class="w">     </span><span class="ow">::</span><span class="w"> </span><span class="kt">Columna</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tales que</p>
<ul>
<li>
<code>solucionesNR n</code> es la lista de las soluciones del problema de las n reinas, por búsqueda de espacio de estados en anchura. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">take</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">solucionesNR</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
<span class="w">     </span><span class="p">[[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">)],</span>
<span class="w">      </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span>
<span class="w">      </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">)]]</span>
</pre></div>

<ul>
<li>
<code>primeraSolucionNR n</code> es la primera solución del problema de las n reinas, por búsqueda en espacio de estados por anchura. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">primeraSolucionNR</span><span class="w"> </span><span class="mi">8</span>
<span class="w">     </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<ul>
<li>
<code>nSolucionesNR n</code> es el número de soluciones del problema de las n reinas, por búsqueda en espacio de estados. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">nSolucionesNR</span><span class="w"> </span><span class="mi">8</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">92</span>
</pre></div>

<p class="more"><a href="posts/2023/06/30-bee_reinas_anchura/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/29-busquedaenanchura/" class="u-url">Búsqueda por anchura en espacios de estados</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/29-busquedaenanchura/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-29T06:00:00+02:00" itemprop="datePublished" title="29-06-2023">29-06-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Las características de los problemas de espacios de estados son:</p>
<ul>
<li>un conjunto de las posibles situaciones o nodos que constituye el espacio de estados (estos son las potenciales soluciones que se necesitan explorar),</li>
<li>un conjunto de movimientos de un nodo a otros nodos, llamados los sucesores del nodo,</li>
<li>un nodo inicial y</li>
<li>un nodo objetivo que es la solución.</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">buscaAnchura</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">nodo</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">nodo</span><span class="p">])</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span>
<span class="w">                              </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">nodo</span><span class="p">]</span>
</pre></div>

<p>tal que <code>buscaAnchura s o e</code> es  la lista de soluciones del problema de espacio de estado definido por la función sucesores <code>s</code>, el objetivo <code>o</code> y estado inicial <code>e</code> obtenidas mediante búsqueda en anchura.</p>
<p class="more"><a href="posts/2023/06/29-busquedaenanchura/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/28-busquedaenprofundidad/" class="u-url">Búsqueda en espacios de estados por profundidad</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/28-busquedaenprofundidad/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-28T06:00:00+02:00" itemprop="datePublished" title="28-06-2023">28-06-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Las características de los problemas de espacios de estados son:</p>
<ul>
<li>un conjunto de las posibles situaciones o nodos que constituye el espacio de estados (estos son las potenciales soluciones que se necesitan explorar),</li>
<li>un conjunto de movimientos de un nodo a otros nodos, llamados los sucesores del nodo,</li>
<li>un nodo inicial y</li>
<li>un nodo objetivo que es la solución.</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">buscaProfundidad</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">nodo</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">nodo</span><span class="p">])</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span>
<span class="w">                                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">nodo</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">nodo</span><span class="p">]</span>
</pre></div>

<p>tal que <code>buscaProfundidad s o e</code> es  la lista de soluciones del problema de espacio de estado definido por la función sucesores <code>s</code>, el objetivo <code>o</code> y estado inicial <code>e</code> obtenidas mediante búsqueda en profundidad.</p>
<p class="more"><a href="posts/2023/06/28-busquedaenprofundidad/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/27-rompecabeza_del_triomino_mediante_divide_y_venceras/" class="u-url">Rompecabeza del triominó mediante divide y vencerás</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/27-rompecabeza_del_triomino_mediante_divide_y_venceras/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-27T06:00:00+02:00" itemprop="datePublished" title="27-06-2023">27-06-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un poliominó es una figura geométrica plana formada conectando dos o más cuadrados por alguno de sus lados. Los cuadrados se conectan lado con lado, pero no se pueden conectar ni por sus vértices, ni juntando solo parte de un lado de un cuadrado con parte de un lado de otro. Si unimos dos cuadrados se obtiene un dominó, si se juntan tres cuadrados se construye un triominó.</p>
<p>Sólo existen dos triominós, el I-triomino (por tener forma de I) y el L-triominó (por su forma de L) como se observa en las siguientes figuras</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="kt">X</span>
<span class="w">   </span><span class="kt">X</span><span class="w">     </span><span class="kt">X</span>
<span class="w">   </span><span class="kt">X</span><span class="w">     </span><span class="kt">XX</span>
</pre></div>

<p>El rompecabeza del triominó consiste en cubrir un tablero cuadrado con 2^n filas y 2^n columnas, en el que se ha eliminado una casilla, con L-triominós de formas que cubran todas las casillas excepto la eliminada y los triominós no se solapen.</p>
<p>La casilla eliminada se representará con -1 y los L-triominós  sucesiones de tres números consecutivos en forma de L. Con esta representación una solución del rompecabeza del triominó con 4 filas y la fila eliminada en la posición (4,4) es</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p">)</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">triomino</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Posicion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Tablero</span>
</pre></div>

<p>tal que (triomino n p) es la solución, mediante divide y vencerás,  del rompecabeza del triominó en un cuadrado nxn en el que se ha eliminado la casilla de la posición p. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">triomino</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p">)</span>

<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">triomino</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="p">)</span>

<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">triomino</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">1</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">6</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">5</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">7</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">11</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">12</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="p">)</span>
</pre></div>

<p class="more"><a href="posts/2023/06/27-rompecabeza_del_triomino_mediante_divide_y_venceras/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/26-algoritmo_divide_y_venceras/" class="u-url">Algoritmo divide y vencerás</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/26-algoritmo_divide_y_venceras/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-26T06:00:00+02:00" itemprop="datePublished" title="26-06-2023">26-06-2023</time></a>
            </p>
		    <p><span class="text-dark">Búsqueda en espacios de estados</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>La técnica <a href="https://es.wikipedia.org/wiki/Algoritmo_divide_y_vencer%C3%A1s">divide y vencerás</a> consta de los siguientes pasos:</p>
<ul>
<li>Dividir el problema en subproblemas menores.</li>
<li>Resolver por separado cada uno de los subproblemas:</li>
<li>si los subproblemas son complejos, usar la misma técnica recursivamente;</li>
<li>si son simples, resolverlos directamente.</li>
<li>Combinar todas las soluciones de los subproblemas en una solución simple.</li>
</ul>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">divideVenceras</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span><span class="p">)</span>
<span class="w">                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
<span class="w">                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
<span class="w">                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">s</span><span class="p">)</span>
<span class="w">                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">p</span>
<span class="w">                  </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">s</span>
</pre></div>

<p>tal que <code>divideVenceras ind resuelve divide combina pbInicial</code> resuelve el problema <code>pbInicial</code> mediante la técnica de divide y vencerás, donde</p>
<ul>
<li>
<code>ind pb</code> se verifica si el problema <code>pb</code> es indivisible</li>
<li>
<code>resuelve pb</code> es la solución del problema indivisible <code>pb</code>
</li>
<li>
<code>divide pb</code> es la lista de subproblemas de <code>pb</code>
</li>
<li>
<code>combina pb ss</code> es la combinación de las soluciones <code>ss</code> de los subproblemas del problema <code>pb</code>.</li>
<li>
<code>pbInicial</code> es el problema inicial</li>
</ul>
<p>Usando la función DivideVenceras, definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">ordenaPorMezcla</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="w">   </span><span class="n">ordenaRapida</span><span class="w">    </span><span class="ow">::</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
</pre></div>

<p>tales que</p>
<ul>
<li>
<code>ordenaPorMezcla xs</code> es la lista obtenida ordenando <code>xs</code> por el procedimiento de ordenación por mezcla. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ordenaPorMezcla</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="w">     </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</pre></div>

<ul>
<li>
<code>ordenaRapida xs</code> es la lista obtenida ordenando <code>xs</code> por el procedimiento de ordenación rápida. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ordenaRapida</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="w">     </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/26-algoritmo_divide_y_venceras/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/23-grafo_algoritmo_de_prim/" class="u-url">TAD de los grafos - Algoritmo de Prim</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/23-grafo_algoritmo_de_prim/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-23T06:00:00+02:00" itemprop="datePublished" title="23-06-2023">23-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El <a href="https://es.wikipedia.org/wiki/Algoritmo_de_Prim">algoritmo de Prim</a> calcula un árbol recubridor mínimo en un grafo conexo y ponderado. Es decir, busca un subconjunto de aristas que, formando un árbol, incluyen todos los vértices y donde el valor de la suma de todas las aristas del árbol es el mínimo.</p>
<p>El algoritmo de Prim funciona de la siguiente manera:</p>
<ul>
<li>Inicializar un árbol con un único vértice, elegido arbitrariamente, del grafo.</li>
<li>Aumentar el árbol por un lado. Llamamos lado a la unión entre dos vértices: de las posibles uniones que pueden conectar el árbol a los vértices que no están aún en el árbol, encontrar el lado de menor distancia y unirlo al árbol.</li>
<li>Repetir el paso 2 (hasta que todos los vértices pertenezcan al árbol)</li>
</ul>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">prim</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">p</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>prim g</code> es el árbol de expansión mínimo del grafo <code>g</code> calculado mediante el algoritmo de Prim. Por ejemplo, si g1, g2, g3 y g4 son los grafos definidos por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">g1</span><span class="p">,</span><span class="w"> </span><span class="n">g2</span><span class="p">,</span><span class="w"> </span><span class="n">g3</span><span class="p">,</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">34</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">61</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
</pre></div>

<p>entonces</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">prim</span><span class="w"> </span><span class="n">g1</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="p">[(</span><span class="mi">55</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">34</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">prim</span><span class="w"> </span><span class="n">g2</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="p">[(</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">13</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">prim</span><span class="w"> </span><span class="n">g3</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="p">[(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/23-grafo_algoritmo_de_prim/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/22-grafo_algoritmo_de_kruskal/" class="u-url">TAD de los grafos - Algoritmo de Kruskal</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/22-grafo_algoritmo_de_kruskal/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-22T06:00:00+02:00" itemprop="datePublished" title="22-06-2023">22-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El <a href="https://es.wikipedia.org/wiki/Algoritmo_de_Kruskal">algoritmo de Kruskal</a> calcula un árbol recubridor mínimo en un grafo conexo y ponderado. Es decir, busca un subconjunto de aristas que, formando un árbol, incluyen todos los vértices y donde el valor de la suma de todas las aristas del árbol es el mínimo.</p>
<p>El algoritmo de Kruskal funciona de la siguiente manera:</p>
<ul>
<li>se crea un bosque B (un conjunto de árboles), donde cada vértice del grafo es un árbol separado</li>
<li>se crea un conjunto C que contenga a todas las aristas del grafo</li>
<li>mientras C es no vacío,</li>
<li>eliminar una arista de peso mínimo de C</li>
<li>si esa arista conecta dos árboles diferentes se añade al bosque, combinando los dos árboles en un solo árbol</li>
<li>en caso contrario, se desecha la arista</li>
</ul>
<p>Al acabar el algoritmo, el bosque tiene un solo componente, el cual forma un árbol de expansión mínimo del grafo.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">kruskal</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">p</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span>
</pre></div>

<p>tal que <code>kruskal g</code> es el árbol de expansión mínimo del grafo <code>g</code> calculado mediante el algoritmo de Kruskal. Por ejemplo, si g1, g2, g3 y g4 son los grafos definidos por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">g1</span><span class="p">,</span><span class="w"> </span><span class="n">g2</span><span class="p">,</span><span class="w"> </span><span class="n">g3</span><span class="p">,</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">34</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">61</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">14</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">15</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>
<span class="w">                            </span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
</pre></div>

<p>entonces</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">kruskal</span><span class="w"> </span><span class="n">g1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">55</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">34</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">kruskal</span><span class="w"> </span><span class="n">g2</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">32</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">13</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">kruskal</span><span class="w"> </span><span class="n">g3</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)]</span>
<span class="w">   </span><span class="n">kruskal</span><span class="w"> </span><span class="n">g4</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/22-grafo_algoritmo_de_kruskal/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/21-grafo_nodos_conectados_en_un_grafo/" class="u-url">TAD de los grafos - Nodos conectados en un grafo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/21-grafo_nodos_conectados_en_un_grafo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-21T06:00:00+02:00" itemprop="datePublished" title="21-06-2023">21-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">conectados</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>conectados g v1 v2</code> se verifica si los vértices <code>v1</code> y <code>v2</code> están conectados en el grafo <code>g</code>. Por ejemplo, si grafo1 es el grafo definido por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span>
<span class="w">                                </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
</pre></div>

<p>entonces,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">conectados</span><span class="w"> </span><span class="n">grafo1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">conectados</span><span class="w"> </span><span class="n">grafo1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">4</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
<span class="w">   </span><span class="n">conectados</span><span class="w"> </span><span class="n">grafo1</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
<span class="w">   </span><span class="n">conectados</span><span class="w"> </span><span class="n">grafo1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
</pre></div>

<p class="more"><a href="posts/2023/06/21-grafo_nodos_conectados_en_un_grafo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/20-grafo_nodos_aislados_de_un_grafo/" class="u-url">TAD de los grafos - Nodos aislados de un grafo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/20-grafo_nodos_aislados_de_un_grafo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-20T06:00:00+02:00" itemprop="datePublished" title="20-06-2023">20-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Dado un grafo dirigido G, diremos que un nodo está aislado si o bien de dicho nodo no sale ninguna arista o bien no llega al nodo ninguna arista. Por ejemplo, en el siguiente grafo</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="w">                                </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<p>podemos ver que del nodo 1 salen 3 aristas pero no llega ninguna, por lo que lo consideramos aislado. Así mismo, a los nodos 2 y 4 llegan aristas pero no sale ninguna, por tanto también estarán aislados.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">aislados</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
</pre></div>

<p>tal que <code>aislados g</code> es la lista de nodos aislados del grafo <code>g</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">aislados</span><span class="w"> </span><span class="n">grafo1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/20-grafo_nodos_aislados_de_un_grafo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/19-grafo_coloreado_correcto_de_un_mapa/" class="u-url">TAD de los grafos - Coloreado correcto de un mapa</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/19-grafo_coloreado_correcto_de_un_mapa/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-19T06:00:00+02:00" itemprop="datePublished" title="19-06-2023">19-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un mapa se puede representar mediante un grafo donde los vértices son las regiones del mapa y hay una arista entre dos vértices si las correspondientes regiones son vecinas. Por ejemplo, el mapa siguiente</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">+----------+----------+</span>
<span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="mi">1</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">2</span><span class="w">    </span><span class="o">|</span>
<span class="w">   </span><span class="o">+----+-----+-----+----+</span>
<span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">           </span><span class="o">|</span><span class="w">    </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="mi">4</span><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">  </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="o">|</span><span class="w">           </span><span class="o">|</span><span class="w">    </span><span class="o">|</span>
<span class="w">   </span><span class="o">+----+-----+-----+----+</span>
<span class="w">   </span><span class="o">|</span><span class="w">    </span><span class="mi">6</span><span class="w">     </span><span class="o">|</span><span class="w">     </span><span class="mi">7</span><span class="w">    </span><span class="o">|</span>
<span class="w">   </span><span class="o">+----------+----------+</span>
</pre></div>

<p>se pueden representar por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">mapa</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">mapa</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="w">                     </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
<span class="w">                      </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)]</span>
</pre></div>

<p>Para colorear el mapa se dispone de 4 colores definidos por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="kr">data</span><span class="w"> </span><span class="kt">Color</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">A</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">B</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">C</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">D</span>
<span class="w">     </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span>
</pre></div>

<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">correcta</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[(</span><span class="kt">Int</span><span class="p">,</span><span class="kt">Color</span><span class="p">)]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>correcta ncs m</code> se verifica si <code>ncs</code> es una coloración del mapa <code>m</code> tal que todos las regiones vecinas tienen colores distintos. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">correcta</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="kt">B</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="kt">B</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="kt">C</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="kt">B</span><span class="p">)]</span><span class="w"> </span><span class="n">mapa</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">True</span>
<span class="w">   </span><span class="n">correcta</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="kt">B</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="kt">C</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="kt">A</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="kt">B</span><span class="p">)]</span><span class="w"> </span><span class="n">mapa</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2023/06/19-grafo_coloreado_correcto_de_un_mapa/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/16-grafo_grafos_conexos/" class="u-url">TAD de los grafos - Grafos conexos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/16-grafo_grafos_conexos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-16T06:00:00+02:00" itemprop="datePublished" title="16-06-2023">16-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un grafo no dirigido G se dice conexo, si para cualquier par de vértices u y v en G, existe al menos una trayectoria (una sucesión de vértices adyacentes) de u a v.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">conexo</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>conexo g</code> se verifica si el grafo <code>g</code> es conexo. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">conexo</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)])</span><span class="w">        </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">conexo</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="kt">True</span>
<span class="w">   </span><span class="n">conexo</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span><span class="w">        </span><span class="o">==</span><span class="w">  </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2023/06/16-grafo_grafos_conexos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/15-grafo_recorrido_en_anchura/" class="u-url">TAD de los grafos - Recorrido en anchura</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/15-grafo_recorrido_en_anchura/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-15T06:00:00+02:00" itemprop="datePublished" title="15-06-2023">15-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">recorridoEnAnchura</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
</pre></div>

<p>tal que <code>recorridoEnAnchura i g</code> es el recorrido en anchura del grafo <code>g</code> desde el vértice <code>i</code>. Por ejemplo, en el grafo</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">+---&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;---+</span>
<span class="w">   </span><span class="o">|</span><span class="w">           </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w">           </span><span class="o">|</span>
<span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">5</span>
<span class="w">   </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span>
<span class="w">   </span><span class="o">+---&gt;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&lt;---------+</span>
</pre></div>

<p>definido por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<p>entonces</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">recorridoEnAnchura</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">grafo1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/15-grafo_recorrido_en_anchura/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/14-grafo_recorrido_en_profundidad/" class="u-url">TAD de los grafos - Recorrido en profundidad</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/14-grafo_recorrido_en_profundidad/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-14T06:00:00+02:00" itemprop="datePublished" title="14-06-2023">14-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">recorridoEnProfundidad</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Eq</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
</pre></div>

<p>tal que <code>recorridoEnProfundidad i g</code> es el recorrido en profundidad del grafo <code>g</code> desde el vértice <code>i</code>. Por ejemplo, en el grafo</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="o">+---&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;---+</span>
<span class="w">   </span><span class="o">|</span><span class="w">           </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w">           </span><span class="o">|</span>
<span class="w">   </span><span class="mi">1</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="mi">5</span>
<span class="w">   </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span>
<span class="w">   </span><span class="o">+---&gt;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&lt;---------+</span>
</pre></div>

<p>definido por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<p>entonces</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">recorridoEnProfundidad</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">grafo1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/14-grafo_recorrido_en_profundidad/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/13-grafo_anchura_de_un_grafo/" class="u-url">TAD de los grafos - Anchura de un grafo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/13-grafo_anchura_de_un_grafo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-13T06:00:00+02:00" itemprop="datePublished" title="13-06-2023">13-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>En un grafo, la anchura de un nodo es el máximo de los  absolutos de la diferencia entre el valor del nodo y los de sus adyacentes; y la anchura del grafo es la máxima anchura de sus nodos. Por ejemplo, en el grafo</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">grafo1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                                </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                                </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                                </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
</pre></div>

<p>su anchura es 4 y el nodo de máxima anchura es el 5.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">anchura</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que (anchuraG g) es la anchura del grafo g. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">anchura</span><span class="w"> </span><span class="n">grafo1</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
</pre></div>

<p>Comprobar experimentalmente que la anchura del grafo ciclo de orden n es n-1.</p>
<p class="more"><a href="posts/2023/06/13-grafo_anchura_de_un_grafo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/12-grafo_recorridos_en_un_grafo_completo/" class="u-url">TAD de los grafos - Recorridos en un grafo completo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/12-grafo_recorridos_en_un_grafo_completo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-12T06:00:00+02:00" itemprop="datePublished" title="12-06-2023">12-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">recorridos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[[</span><span class="n">a</span><span class="p">]]</span>
</pre></div>

<p>tal que <code>recorridos xs</code> es la lista de todos los posibles  por el grafo cuyo conjunto de vértices es <code>xs</code> y cada vértice se encuentra conectado con todos los otros y los recorridos pasan por todos los vértices una vez y terminan en el vértice inicial. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">recorridos</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
</pre></div>

<p class="more"><a href="posts/2023/06/12-grafo_recorridos_en_un_grafo_completo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/09-grafo_grafos_k-regulares/" class="u-url">TAD de los grafos - Grafos k-regulares</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/09-grafo_grafos_k-regulares/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-09T06:00:00+02:00" itemprop="datePublished" title="09-06-2023">09-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un <a href="https://es.wikipedia.org/wiki/Grafo_regular">grafo k-regular</a> es un grafo con todos sus vértices son de grado k.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Maybe</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que (regularidad g) es la regularidad de g. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kt">Just</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="kt">Nothing</span>
<span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">completo</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">                        </span><span class="o">==</span><span class="w"> </span><span class="kt">Just</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">completo</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">                        </span><span class="o">==</span><span class="w"> </span><span class="kt">Just</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">grafoCiclo</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">                      </span><span class="o">==</span><span class="w"> </span><span class="kt">Just</span><span class="w"> </span><span class="mi">2</span>
<span class="w">   </span><span class="n">regularidad</span><span class="w"> </span><span class="p">(</span><span class="n">grafoCiclo</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">                      </span><span class="o">==</span><span class="w"> </span><span class="kt">Just</span><span class="w"> </span><span class="mi">2</span>
</pre></div>

<p>Comprobar que el grafo completo de orden n es (n-1)-regular (para n de 1 a 20) y el grafo ciclo de orden n es 2-regular (para n de 3 a 20).</p>
<p class="more"><a href="posts/2023/06/09-grafo_grafos_k-regulares/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/08-grafo_grafos_regulares/" class="u-url">TAD de los grafos - Grafos regulares</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/08-grafo_grafos_regulares/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-08T06:00:00+02:00" itemprop="datePublished" title="08-06-2023">08-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Un <a href="https://es.wikipedia.org/wiki/Grafo_regular">grafo regular</a> es un grafo en el que todos sus vértices tienen el mismo grado.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">regular</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que (regular g) se verifica si el grafo g es regular. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="w">   </span><span class="kt">False</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="p">(</span><span class="n">completo</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="kt">True</span>
</pre></div>

<p>Comprobar que los grafos completos son regulares.</p>
<p class="more"><a href="posts/2023/06/08-grafo_grafos_regulares/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/07-grafo_lema_del_apreton_de_manos/" class="u-url">TAD de los grafos - Lema del apretón de manos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/07-grafo_lema_del_apreton_de_manos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-07T06:00:00+02:00" itemprop="datePublished" title="07-06-2023">07-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>En la teoría de grafos, se conoce como "Lema del apretón de manos" la siguiente propiedad: la suma de los grados de los vértices de g es el doble del número de aristas de g.</p>
<p>Comprobar con QuickCheck que para cualquier grafo g, se verifica dicha propiedad.</p>
<p class="more"><a href="posts/2023/06/07-grafo_lema_del_apreton_de_manos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/06-grafo_grado_de_un_vertice/" class="u-url">TAD de los grafos - Grado de un vértice</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/06-grafo_grado_de_un_vertice/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-06T06:00:00+02:00" itemprop="datePublished" title="06-06-2023">06-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El <strong>grado</strong> de un vértice v de un grafo dirigido g, es el número  aristas de g que contiene a v. Si g es no dirigido, el grado de un vértice v es el número de aristas incidentes en v, teniendo en cuenta que los lazos se cuentan dos veces.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que <code>grado g v</code> es el grado del vértice <code>v</code> en el grafo <code>g</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g5</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">g6</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">3</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">3</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">2</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">2</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">2</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g6</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
<span class="w">   </span><span class="n">grado</span><span class="w"> </span><span class="n">g6</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w">  </span><span class="mi">4</span>
</pre></div>

<p>Comprobar con QuickCheck que en todo grafo, el número de nodos de grado impar es par.</p>
<p class="more"><a href="posts/2023/06/06-grafo_grado_de_un_vertice/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/05-grafo_generadores_de_grafos_arbitrarios/" class="u-url">TAD de los grafos - Generadores de grafos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/05-grafo_generadores_de_grafos_arbitrarios/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-05T06:00:00+02:00" itemprop="datePublished" title="05-06-2023">05-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Definir un generador de grafos para comprobar propiedades de grafos con QuickCheck y hacer el tipo de los Grafos un subtipo de Arbutrary.</p>
<p>Usando el generador, con QuickCheck que para cualquier grafo g, las sumas de los grados positivos y la de los grados negativos de los vértices de g son iguales.</p>
<p class="more"><a href="posts/2023/06/05-grafo_generadores_de_grafos_arbitrarios/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/02-grafo_grados_positivos_y_negativos/" class="u-url">TAD de los grafos - Grados positivos y negativos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/02-grafo_grados_positivos_y_negativos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-02T06:00:00+02:00" itemprop="datePublished" title="02-06-2023">02-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El grado positivo de un vértice v de un grafo g es el número de vértices de g adyacentes con v y su grado negativo es el número de vértices de g incidentes con v.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">gradoPos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
<span class="w">   </span><span class="n">gradoNeg</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tales que
+ <code>gradoPos g v</code> es el grado positivo del vértice <code>v</code> en el grafo <code>g</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoPos</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">5</span>
<span class="w">     </span><span class="mi">4</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoPos</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">5</span>
<span class="w">     </span><span class="mi">0</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoPos</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">1</span>
<span class="w">     </span><span class="mi">3</span>
</pre></div>

<ul>
<li>
<code>gradoNeg g v</code> es el grado negativo del vértice <code>v</code> en el grafo <code>g</code>. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoNeg</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">5</span>
<span class="w">     </span><span class="mi">4</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoNeg</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">5</span>
<span class="w">     </span><span class="mi">3</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gradoNeg</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">1</span>
<span class="w">     </span><span class="mi">0</span>
</pre></div>

<p class="more"><a href="posts/2023/06/02-grafo_grados_positivos_y_negativos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/06/01-grafo_numero_de_aristas_de_un_grafo/" class="u-url">TAD de los grafos - Número de aristas de un grafo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/06/01-grafo_numero_de_aristas_de_un_grafo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-06-01T06:00:00+02:00" itemprop="datePublished" title="01-06-2023">01-06-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">nAristas</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w">  </span><span class="kt">Int</span>
</pre></div>

<p>tal que <code>nAristas g</code> es el número de aristas del grafo <code>g</code>. Si g es no dirigido, las aristas de <code>v1</code> a <code>v2</code> y de <code>v2</code> a <code>v1</code> sólo se cuentan una vez. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w">  </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="n">g1</span>
<span class="w">   </span><span class="mi">8</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="n">g2</span>
<span class="w">   </span><span class="mi">7</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="n">g3</span>
<span class="w">   </span><span class="mi">4</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="n">g4</span>
<span class="w">   </span><span class="mi">3</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="p">(</span><span class="n">completo</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="w">   </span><span class="mi">6</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nAristas</span><span class="w"> </span><span class="p">(</span><span class="n">completo</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">   </span><span class="mi">10</span>
</pre></div>

<p>Definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">prop_nAristasCompleto</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>prop_nAristasCompleto n</code> se verifica si el número de aristas del grafo completo de orden <code>n</code> es <code>n*(n-1)/2</code> y, usando la función, comprobar que la propiedad se cumple para <code>n</code> de 1 a 20.</p>
<p class="more"><a href="posts/2023/06/01-grafo_numero_de_aristas_de_un_grafo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/31-grafo_lazos_de_un_grafo/" class="u-url">TAD de los grafos - Lazos de un grafo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/31-grafo_lazos_de_un_grafo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-31T06:00:00+02:00" itemprop="datePublished" title="31-05-2023">31-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir las funciones</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">lazos</span><span class="w">  </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span>
<span class="w">   </span><span class="n">nLazos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tales que</p>
<ul>
<li>
<code>lazos g</code> es el conjunto de los lazos (es decir, aristas cuyos extremos son iguales) del grafo <code>g</code>. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ej1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ej2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lazos</span><span class="w"> </span><span class="n">ej1</span>
<span class="w">     </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lazos</span><span class="w"> </span><span class="n">ej2</span>
<span class="w">     </span><span class="kt">[]</span>
</pre></div>

<ul>
<li>
<code>nLazos g</code> es el número de lazos del grafo <code>g</code>. Por ejemplo,</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nLazos</span><span class="w"> </span><span class="n">ej1</span>
<span class="w">     </span><span class="mi">2</span>
<span class="w">     </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">nLazos</span><span class="w"> </span><span class="n">ej2</span>
<span class="w">     </span><span class="mi">0</span>
</pre></div>

<p class="more"><a href="posts/2023/05/31-grafo_lazos_de_un_grafo/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/30-grafo_contiguos_de_un_vertice/" class="u-url">TAD de los grafos - Contiguos de un vértice</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/30-grafo_contiguos_de_un_vertice/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-30T06:00:00+02:00" itemprop="datePublished" title="30-05-2023">30-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>En un un grafo g, los contiguos de un vértice v es el conjuntos de vértices x de g tales que x es adyacente o incidente con v.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">contiguos</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
</pre></div>

<p>tal que <code>contiguos g v</code> es el conjunto de los vértices de g contiguos con el vértice v. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">2</span>
<span class="w">   </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">2</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">contiguos</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/05/30-grafo_contiguos_de_un_vertice/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/29-grafo_incidentes_de_un_vertice/" class="u-url">TAD de los grafos - Incidentes de un vértice</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/29-grafo_incidentes_de_un_vertice/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-29T06:00:00+02:00" itemprop="datePublished" title="29-05-2023">29-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>En un un grafo g, los incidentes de un vértice v es el conjuntos de vértices x de g para los que hay un arco (o una arista) de x a v; es decir, que v es adyacente a x.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">incidentes</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
</pre></div>

<p>tal que <code>incidentes g v</code> es la lista de los vértices incidentes en el vértice <code>v</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">2</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g1</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="kt">[]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">1</span>
<span class="w">   </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">2</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">incidentes</span><span class="w"> </span><span class="n">g2</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/05/29-grafo_incidentes_de_un_vertice/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/26-grafo_numero_de_vertices/" class="u-url">TAD de los grafos - Número de vértices</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/26-grafo_numero_de_vertices/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-26T06:00:00+02:00" itemprop="datePublished" title="26-05-2023">26-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">nVertices</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w">  </span><span class="kt">Int</span>
</pre></div>

<p>tal que <code>nVertices g</code> es el número de vértices del grafo <code>g</code>. Por
ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">nVertices</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">D</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="w">   </span><span class="o">==</span><span class="w">  </span><span class="mi">5</span>
<span class="w">   </span><span class="n">nVertices</span><span class="w"> </span><span class="p">(</span><span class="n">creaGrafo'</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span><span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="mi">3</span>
</pre></div>

<p class="more"><a href="posts/2023/05/26-grafo_numero_de_vertices/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/25-grafo_grafos_ciclos/" class="u-url">TAD de los grafos - Grafos ciclo</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/25-grafo_grafos_ciclos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-25T06:00:00+02:00" itemprop="datePublished" title="25-05-2023">25-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El ciclo de orden n, C(n), es un grafo no dirigido cuyo conjunto de vértices es {1,...,n} y las aristas son</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="o">...</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">grafoCiclo</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que (grafoCiclo n) es el grafo ciclo de orden n. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">grafoCiclo</span><span class="w"> </span><span class="mi">3</span>
<span class="w">   </span><span class="kt">G</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
</pre></div>

<p class="more"><a href="posts/2023/05/25-grafo_grafos_ciclos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/24-grafo_grafos_completos/" class="u-url">Grafos completos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/24-grafo_grafos_completos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-24T06:00:00+02:00" itemprop="datePublished" title="24-05-2023">24-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>El grafo completo de orden n, K(n), es un grafo no dirigido cuyos conjunto de vértices es {1,..n} y tiene una arista entre cada par de vértices distintos.</p>
<p>Usando el <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos">tipo abstrado de datos de los grafos</a>, definir la función,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">completo</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="kt">Int</span>
</pre></div>

<p>tal que <code>completo n</code> es el grafo completo de orden <code>n</code>. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">completo</span><span class="w"> </span><span class="mi">4</span>
<span class="w">   </span><span class="kt">G</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
</pre></div>

<p class="more"><a href="posts/2023/05/24-grafo_grafos_completos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos/" class="u-url">El tipo abstracto de datos de los grafos</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-23T06:00:00+02:00" itemprop="datePublished" title="23-05-2023">23-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los grafos</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<h2>1. El tipo abstracto de datos de los grafos</h2>
<p>Un grafo es una estructura que consta de un conjunto de vértices y un conjunto de aristas que conectan los vértices entre sí. Cada vértice representa una entidad o un elemento, y cada arista representa una relación o conexión entre dos vértices.</p>
<p>Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">         </span><span class="mi">12</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="c1">-------- 2</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nf">\</span><span class="mi">78</span><span class="w">     </span><span class="o">/|</span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="nf">\</span><span class="w">   </span><span class="mi">32</span><span class="o">/</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="nf">\</span><span class="w">   </span><span class="o">/</span><span class="w">  </span><span class="o">|</span>
<span class="w">  </span><span class="mi">34</span><span class="o">|</span><span class="w">     </span><span class="mi">5</span><span class="w">    </span><span class="o">|</span><span class="mi">55</span>
<span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="o">/</span><span class="w">   </span><span class="nf">\</span><span class="w">  </span><span class="o">|</span>
<span class="w">    </span><span class="o">|</span><span class="w">  </span><span class="o">/</span><span class="mi">44</span><span class="w">   </span><span class="nf">\</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w">     </span><span class="mi">93</span><span class="o">\|</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="c1">-------- 4</span>
<span class="w">         </span><span class="mi">61</span>
</pre></div>

<p>representa un grafo no dirigido, lo que significa que las aristas  tienen una dirección específica. Cada arista tiene un peso asociado, que puede representar una medida o una valoración de la relación entre los vértices que conecta.</p>
<p>El grafo consta de cinco vértices numerados del 1 al 5. Las aristas especificadas en la lista indican las conexiones entre los vértices y sus respectivos pesos. Por ejemplo, la arista (1,2,12) indica que existe una conexión entre el vértice 1 y el vértice 2 con un peso de 12.</p>
<p>En el grafo representado, se pueden observar las conexiones entre los vértices de la siguiente manera:</p>
<ul>
<li>El vértice 1 está conectado con el vértice 2 (peso 12), el vértice 3 (peso 34) y el vértice 5 (peso 78).</li>
<li>El vértice 2 está conectado con el vértice 4 (peso 55) y el vértice 5 (peso 32).</li>
<li>El vértice 3 está conectado con el vértice 4 (peso 61) y el vértice 5 (peso 44).</li>
<li>El vértice 4 está conectado con el vértice 5 (peso 93).</li>
</ul>
<p>Las operaciones del tipo abstracto de datos (TAD) de los grafos son</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">creaGrafo</span><span class="w">  </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span>
<span class="w">                  </span><span class="kt">Orientacion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">)]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span>
<span class="w">   </span><span class="n">creaGrafo'</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span>
<span class="w">                  </span><span class="kt">Orientacion</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)]</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span>
<span class="w">   </span><span class="n">dirigido</span><span class="w">   </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="w">   </span><span class="n">adyacentes</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
<span class="w">   </span><span class="n">nodos</span><span class="w">      </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
<span class="w">   </span><span class="n">aristas</span><span class="w">    </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">)]</span>
<span class="w">   </span><span class="n">aristaEn</span><span class="w">   </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
<span class="w">   </span><span class="n">peso</span><span class="w">       </span><span class="ow">::</span><span class="w"> </span><span class="p">(</span><span class="kt">Ix</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="kt">Num</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Grafo</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">p</span>
</pre></div>

<p>tales que
+ <code>creaGrafo o cs as</code> es un grafo (dirigido o no, según el  de <code>o</code>), con el par de cotas <code>cs</code> y listas de aristas <code>as</code> (cada arista es un trío formado por los dos vértices y su peso).
+ <code>creaGrafo'</code> es la versión de creaGrafo para los grafos sin pesos.
+ <code>dirigido g</code> se verifica si <code>g</code> es dirigido.
+ <code>nodos g</code> es la lista de todos los nodos del grafo <code>g</code>.
+ <code>aristas g</code> es la lista de las aristas del grafo <code>g</code>.
+ <code>adyacentes g v</code> es la lista de los vértices adyacentes al nodo <code>v</code> en el grafo <code>g</code>.
+ <code>aristaEn g a</code> se verifica si <code>a</code> es una arista del grafo <code>g</code>.
+ <code>peso v1 v2 g</code> es el peso de la arista que une los vértices <code>v1</code> y <code>v2</code> en el grafo <code>g</code>.</p>
<p>Usando el TAD de los grafos, el grafo anterior se puede definir por</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">creaGrafo</span><span class="w"> </span><span class="kt">ND</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">34</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">78</span><span class="p">),</span>
<span class="w">                       </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">55</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
<span class="w">                       </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">61</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">44</span><span class="p">),</span>
<span class="w">                       </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">93</span><span class="p">)]</span>
</pre></div>

<p>con los siguientes argumentos:</p>
<ul>
<li>ND: Es un parámetro de tipo Orientacion que indica si el  es dirigido o no. En este caso, se utiliza ND, lo que significa "no dirigido". Por lo tanto, el grafo creado será no dirigido, lo que implica que las aristas no tienen una dirección específica.</li>
<li>(1,5): Es el par de cotas que define los vértices del grafo. En este caso, el grafo tiene vértices numerados desde 1 hasta 5.</li>
<li>[(1,2,12),(1,3,34),(1,5,78),(2,4,55),(2,5,32),(3,4,61),(3,5,44),(4,5,93)]: Es una lista de aristas, donde cada arista está representada por un trío de valores. Cada trío contiene los dos vértices que están conectados por la arista y el peso de dicha arista.</li>
</ul>
<p>Para usar el TAD hay que usar una implementación concreta. En principio, consideraremos las siguientes:
+ mediante lista de adyacencia,
+ mediante vector de adyacencia y
+ mediante matriz de adyacencia.</p>
<p>Hay que elegir la que se desee utilizar, descomentándola y comentando las otras.</p>
<p class="more"><a href="posts/2023/05/23-el_tipo_abstracto_de_datos_de_las_grafos/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/22-pol_factorizacion_de_un_polinomio/" class="u-url">TAD de los polinomios - Factorización de un polinomio</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/22-pol_factorizacion_de_un_polinomio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-22T06:00:00+02:00" itemprop="datePublished" title="22-05-2023">22-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los polinomios</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Utilizando el <a href="posts/2023/04/17-el_tipo_abstracto_de_datos_de_las_polinomios">tipo abstracto de datos de los polinomios</a> definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">factorizacion</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Polinomio</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Polinomio</span><span class="w"> </span><span class="kt">Int</span><span class="p">]</span>
</pre></div>

<p>tal que <code>factorizacion p</code> es la lista de la descomposición del polinomio <code>p</code> en factores obtenida mediante el regla de Ruffini. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">polCero</span><span class="p">))</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol1</span>
<span class="w">   </span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="o">*</span><span class="n">x</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">factorizacion</span><span class="w"> </span><span class="n">ejPol1</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">polCero</span><span class="p">)))</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol2</span>
<span class="w">   </span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">factorizacion</span><span class="w"> </span><span class="n">ejPol2</span>
<span class="w">   </span><span class="p">[</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/05/22-pol_factorizacion_de_un_polinomio/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/19-pol_raices_enteras_de_un_polinomio/" class="u-url">TAD de los polinomios - Raíces enteras de un polinomio</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/19-pol_raices_enteras_de_un_polinomio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-19T06:00:00+02:00" itemprop="datePublished" title="19-05-2023">19-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los polinomios</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Utilizando el <a href="posts/2023/04/17-el_tipo_abstracto_de_datos_de_las_polinomios">tipo abstracto de datos de los polinomios</a> definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">raicesRuffini</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Polinomio</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">[</span><span class="kt">Int</span><span class="p">]</span>
</pre></div>

<p>tal que <code>raicesRuffini p</code> es la lista de las raices enteras de <code>p</code>, calculadas usando el regla de Ruffini. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol1</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">polCero</span><span class="p">))</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol1</span>
<span class="w">    </span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">raicesRuffini</span><span class="w"> </span><span class="n">ejPol1</span>
<span class="w">    </span><span class="kt">[]</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol2</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">polCero</span><span class="p">))</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol2</span>
<span class="w">    </span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">4</span><span class="o">*</span><span class="n">x</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">raicesRuffini</span><span class="w"> </span><span class="n">ejPol2</span>
<span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol3</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">polCero</span><span class="p">)</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol3</span>
<span class="w">    </span><span class="mi">6</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">x</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">raicesRuffini</span><span class="w"> </span><span class="n">ejPol3</span>
<span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol4</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">polCero</span><span class="p">)))</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol4</span>
<span class="w">    </span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span>
<span class="w">    </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">raicesRuffini</span><span class="w"> </span><span class="n">ejPol4</span>
<span class="w">    </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

<p class="more"><a href="posts/2023/05/19-pol_raices_enteras_de_un_polinomio/">Leer más…</a></p>
</div>
                </div>
            </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2023/05/18-pol_reconocimiento_de_raices_por_la_regla_de_ruffini/" class="u-url">TAD de los polinomios - Reconocimiento de raíces por la regla de Ruffini</a></h1>
                <div class="metadata">
                   <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                       <a href="https://jaalonso.github.io" target="_blank" rel="noopener">José A. Alonso</a>
                   </span></p>
            <p class="dateline">
            <a href="posts/2023/05/18-pol_reconocimiento_de_raices_por_la_regla_de_ruffini/" rel="bookmark">
            <time class="published dt-published" datetime="2023-05-18T06:00:00+02:00" itemprop="datePublished" title="18-05-2023">18-05-2023</time></a>
            </p>
		    <p><span class="text-dark">El tipo abstracto de datos de los polinomios</span></p>
                </div>
            </header><div class="p-summary entry-summary">
                    <div>
<p>Utilizando el <a href="posts/2023/04/17-el_tipo_abstracto_de_datos_de_las_polinomios">tipo abstracto de datos de los polinomios</a> definir la función</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">esRaizRuffini</span><span class="w"> </span><span class="ow">::</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Polinomio</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Bool</span>
</pre></div>

<p>tal que <code>esRaizRuffini r p</code> se verifica si <code>r</code> es una raiz de <code>p</code>, usando para ello el regla de Ruffini. Por ejemplo,</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">consPol</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">(</span><span class="n">consPol</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">polCero</span><span class="p">)</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ejPol</span>
<span class="w">   </span><span class="mi">6</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">x</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">esRaizRuffini</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ejPol</span>
<span class="w">   </span><span class="kt">True</span>
<span class="w">   </span><span class="n">λ</span><span class="o">&gt;</span><span class="w"> </span><span class="n">esRaizRuffini</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ejPol</span>
<span class="w">   </span><span class="kt">False</span>
</pre></div>

<p class="more"><a href="posts/2023/05/18-pol_reconocimiento_de_raices_por_la_regla_de_ruffini/">Leer más…</a></p>
</div>
                </div>
            </article>
</div>
            <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="." rel="prev">Publicaciones posteriores</a>
            </li>
            <li class="next">
                <a href="index-2.html" rel="next">Publicaciones anteriores</a>
            </li>
        </ul></nav><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script></main><footer id="footer"><p>Escrito por <a href="https://jaalonso.github.io/">José A. Alonso</a> usando <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br> Esta obra está bajo una 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
        

    
    
</body>
</html>
