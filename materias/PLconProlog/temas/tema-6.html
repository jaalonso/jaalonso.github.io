<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 21 de mayo del 2022 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tema 6: Estilo y eficiencia en programación lógica</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="José A. Alonso" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../../css/estilo-org.css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="preamble" class="status">
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</div>
<div id="content">
<h1 class="title">Tema 6: Estilo y eficiencia en programación lógica</h1>
<div id="table-of-contents">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2996fab">1. Principios generales</a></li>
<li><a href="#orgcea2f76">2. Orden de los literales y corrección</a></li>
<li><a href="#org7c320eb">3. Orden de los literales y eficiencia</a></li>
<li><a href="#org93dd3ea">4. Combinatoria</a>
<ul>
<li><a href="#orgc6a8e17">4.1. Subconjuntos</a></li>
<li><a href="#orgfd1577c">4.2. Combinaciones</a></li>
<li><a href="#org13eda81">4.3. Permutaciones</a></li>
<li><a href="#orgeddbb63">4.4. Variaciones</a></li>
</ul>
</li>
<li><a href="#org6eafddf">5. Ordenación</a>
<ul>
<li><a href="#org28ecfed">5.1. Ordenación por generación y prueba</a></li>
<li><a href="#orgb92af8e">5.2. Ordenación por selección</a></li>
<li><a href="#org9686b74">5.3. Ordenación rápida (divide y vencerás)</a></li>
</ul>
</li>
<li><a href="#org934608a">6. Generación y prueba (fuerza bruta)</a>
<ul>
<li><a href="#orgd4518a3">6.1. El problema de los cuadrados mágicos</a></li>
<li><a href="#orgf30e070">6.2. Solución por generación y prueba</a></li>
<li><a href="#org3388ccb">6.3. Solución por comprobaciones parciales</a></li>
</ul>
</li>
<li><a href="#org6d71e98">7. Uso de listas</a></li>
<li><a href="#org43bdd5c">8. Unificación</a>
<ul>
<li><a href="#orgbdabd08">8.1. Uso de <code>=..</code> en lugar de <code>functor</code> y <code>arg</code></a></li>
<li><a href="#orgd79ead4">8.2. Uso de la unificación para patrones de listas</a></li>
</ul>
</li>
<li><a href="#org2fd878e">9. Acumuladores</a>
<ul>
<li><a href="#org6d1ee24">9.1. La inversa de una lista</a></li>
<li><a href="#orgdc309ff">9.2. Definición de inversa sin usar acumuladores</a></li>
<li><a href="#org7ad9fee">9.3. Definición de inversa usando acumuladores</a></li>
<li><a href="#orgc953b2d">9.4. Comparación de eficiencia</a></li>
</ul>
</li>
<li><a href="#org5550f76">10. Programación dinámica</a>
<ul>
<li><a href="#orgb8de541">10.1. La sucesión de Fibonacci</a></li>
<li><a href="#orgcc14eee">10.2. Definición de Fibonacci por recursión</a></li>
<li><a href="#org8e61f33">10.3. Definición de Fibonacci mediante programación dinámica</a></li>
<li><a href="#orgf67eead">10.4. Definición de Fibonacci usando acumuladores</a></li>
<li><a href="#org85b291c">10.5. Comparación de eficiencia</a></li>
</ul>
</li>
<li><a href="#orgafdd7a6">11. Determinismo</a>
<ul>
<li><a href="#org7db5a32">11.1. Descomposición en sumas de dos sumando</a></li>
<li><a href="#org97c8668">11.2. Definición no determinista</a></li>
<li><a href="#org4639c3e">11.3. Definición determinista</a></li>
<li><a href="#org0d18f01">11.4. Comparación de eficiencia</a></li>
</ul>
</li>
<li><a href="#orgde53c2e">12. Añadir al principio</a></li>
<li><a href="#orgcda18ce">13. Listas de diferencias</a></li>
<li><a href="#orgd1bbfa2">14. Bibliografía</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2996fab" class="outline-2">
<h2 id="org2996fab"><span class="section-number-2">1.</span> Principios generales</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Un programa debe ser:
<ul class="org-ul">
<li>Correcto.</li>
<li>Eficiente.</li>
<li>Fácil de leer.</li>
<li>Modificable: Modular y transparente.</li>
<li>Robusto.</li>
<li>Documentado.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgcea2f76" class="outline-2">
<h2 id="orgcea2f76"><span class="section-number-2">2.</span> Orden de los literales y corrección</h2>
<div class="outline-text-2" id="text-2">
<p>
Se muestran dos definiciones de la relación <code>sucesor</code> en el que el cambio de
orden de los literales afecta a la corrección.
</p>

<ul class="org-ul">
<li><p>
Programa <a href="https://swish.swi-prolog.org/p/PLP_orden_literales_y_respuesta.pl">(orden_literales_y_respuesta.pl</a>).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">siguiente</span><span style="color: #707183;">(</span>a,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">siguiente</span><span style="color: #707183;">(</span>1,b<span style="color: #707183;">)</span>.

<span style="color: #0000ff;">sucesor_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   siguiente<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   siguiente<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Z</span><span style="color: #707183;">)</span>,
   sucesor_1<span style="color: #707183;">(</span><span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">sucesor_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   siguiente<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   sucesor_2<span style="color: #707183;">(</span><span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>,
   siguiente<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Z</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Consultas:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- sucesor_1<span style="color: #707183;">(</span>X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = a
Y = 1 ;
X = 1
Y = b ;
X = a
Y = b ;
false.

?- sucesor_2<span style="color: #707183;">(</span>X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = a
Y = 1 ;
X = 1
Y = b ;
X = a
Y = b ;
ERROR: Stack limit <span style="color: #707183;">(</span>1.0Gb<span style="color: #707183;">)</span> exceeded

?- findall<span style="color: #707183;">(</span>X-Y,sucesor_1<span style="color: #7388d6;">(</span>X,Y<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a-1, 1-b, a-b<span style="color: #707183;">]</span>.

?- findall<span style="color: #707183;">(</span>X-Y,sucesor_2<span style="color: #7388d6;">(</span>X,Y<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span>.a
ERROR: Stack limit <span style="color: #707183;">(</span>1.0Gb<span style="color: #707183;">)</span> exceeded
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org7c320eb" class="outline-2">
<h2 id="org7c320eb"><span class="section-number-2">3.</span> Orden de los literales y eficiencia</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><p>
<code>crea(X)</code> añade a la base de conocimiento los hechos <code>numero(N)</code> (para <code>N</code>
entre 1 y <code>X</code>) y los hechos <code>multiplo_de_100(M)</code> (para <code>M</code> entre 100 y
<code>100*X</code>). Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- crea<span style="color: #707183;">(</span>1000<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- listing<span style="color: #707183;">(</span>numero<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">numero</span><span style="color: #707183;">(</span>1<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span> numero<span style="color: #707183;">(</span>2<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span> ... numero<span style="color: #707183;">(</span>1000<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- listing<span style="color: #707183;">(</span>multiplo_de_100<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">multiplo_de_100</span><span style="color: #707183;">(</span>100<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span> ... multiplo_de_100<span style="color: #707183;">(</span>1000<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div>
<p>
Su definición es
</p>
<pre class="example">
crea(X) :-
   between(1, X, N),
   assertz(numero(N)),
   N = X,
   Y is X // 100,
   between(1, Y, M),
   M1 is M*100,
   assertz(multiplo_de_100(M1)),
   M = Y.
</pre></li>

<li><p>
Ejemplos de consultas para mostrar cómo afecta el orden de los literales a la
eficiencia:
</p>
<pre class="example">
?- time((numero(_N),multiplo_de_100(_N))).
% 100 inferences, 0.000 CPU in 0.000 seconds (96% CPU, 7135721 Lips)
true

?- time((multiplo_de_100(_N),numero(_N))).
% 0 inferences, 0.000 CPU in 0.000 seconds (100% CPU, 0 Lips)
true
</pre></li>

<li>Como regla general, se deben de poner antes los literales con menor número de
soluciones.</li>
</ul>
</div>
</div>

<div id="outline-container-org93dd3ea" class="outline-2">
<h2 id="org93dd3ea"><span class="section-number-2">4.</span> Combinatoria</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Nota: El código de las definiciones de esta sección se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_combinatoria.pl">combinatoria.pl</a>.</li>
</ul>
</div>

<div id="outline-container-orgc6a8e17" class="outline-3">
<h3 id="orgc6a8e17"><span class="section-number-3">4.1.</span> Subconjuntos</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li><p>
<code>subconjunto(-L1,+L2)</code> se verifica si <code>L14 es un subconjunto de ~L2</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- subconjunto<span style="color: #707183;">(</span>L,<span style="color: #7388d6;">[</span>a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>partes(+L1,-L2)</code> se verifica si <code>L2</code> es el conjunto de las partes de
<code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- partes<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>a, b, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[]</span><span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">partes</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,subconjunto<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L1</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgfd1577c" class="outline-3">
<h3 id="orgfd1577c"><span class="section-number-3">4.2.</span> Combinaciones</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li><p>
<code>combinación(+L1,+N,-L2)</code> se verifica si <code>L2</code> es una combinación <code>N</code>-aria de
<code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- combinaci&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,2,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a, c<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaci&#243;n_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaci&#243;n_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">Usaremos la 2&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   combinaci&#243;n_2<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>combinaciones(+L1,+N,-L2)</code> se verifica si <code>L2</code> es la lista de las
combinaciones <code>N</code>&#x2013;arias de <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- combinaciones<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,2,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>a, b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b, c<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaciones_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,combinaci&#243;n_1<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaciones_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,combinaci&#243;n_2<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">Usaremos la 2&#170; definici&#243;n</span>
<span style="color: #0000ff;">combinaciones</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   combinaciones_2<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
Comparación de eficiencia:
</p>
<div class="org-src-container">
<pre class="src src-shell">%    ?- findall<span style="color: #707183;">(</span>_N,between<span style="color: #7388d6;">(</span>1,24,_N<span style="color: #7388d6;">)</span>,_L1<span style="color: #707183;">)</span>,
%       time<span style="color: #707183;">(</span>combinaciones_1<span style="color: #7388d6;">(</span>_L1,2,_L2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
%       time<span style="color: #707183;">(</span>combinaciones_2<span style="color: #7388d6;">(</span>_L1,2,_L2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
%    % 67,109,150 inferences, 6.973 CPU<span style="color: #a020f0;"> in</span> 6.973 seconds <span style="color: #707183;">(</span>100% CPU, 9624607 Lips<span style="color: #707183;">)</span>
%    %      2,915 inferences, 0.001 CPU<span style="color: #a020f0;"> in</span> 0.001 seconds <span style="color: #707183;">(</span>100% CPU, 5684777 Lips<span style="color: #707183;">)</span>
%    true.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org13eda81" class="outline-3">
<h3 id="org13eda81"><span class="section-number-3">4.3.</span> Permutaciones</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li><p>
<code>select(?X,?L1,?L2)</code> se verifica si <code>X</code> es un elemento de la lista
<code>L1</code> y <code>L2</code> es la lista de los restantes elementos. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- select<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = a,
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span> ;
X = b,
L = <span style="color: #707183;">[</span>a, c<span style="color: #707183;">]</span> ;
X = c,
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span>.

?- select<span style="color: #707183;">(</span>a,L,<span style="color: #7388d6;">[</span>b,c<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b, c<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a, c<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, c, a<span style="color: #707183;">]</span> ;
false.
</pre>
</div></li>

<li><p>
<code>permutación(+L1,-L2)</code> se verifica si <code>L2</code> es una permutación de
<code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">%    ?- permutaci&#243;n<span style="color: #707183;">(</span>L,<span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
%    L = <span style="color: #707183;">[</span>a, b, c<span style="color: #707183;">]</span> ;
%    L = <span style="color: #707183;">[</span>b, a, c<span style="color: #707183;">]</span> ;
%    L = <span style="color: #707183;">[</span>b, c, a<span style="color: #707183;">]</span> ;
%    L = <span style="color: #707183;">[</span>a, c, b<span style="color: #707183;">]</span> ;
%    L = <span style="color: #707183;">[</span>c, a, b<span style="color: #707183;">]</span> ;
%    L = <span style="color: #707183;">[</span>c, b, a<span style="color: #707183;">]</span> ;
%    false.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">permutaci&#243;n</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">permutaci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   permutaci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>Nota: La relación predefinida correspondiente a <code>permutación</code> es
<code>permutation</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgeddbb63" class="outline-3">
<h3 id="orgeddbb63"><span class="section-number-3">4.4.</span> Variaciones</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li><p>
<code>variación(+L1,+N,-L2)</code> se verifica si <code>L2</code> es una variación <code>N</code>-aria de
<code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- variaci&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,2,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a, c<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>c, a<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>c, b<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">variaci&#243;n_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   combinaci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   permutaci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">variaci&#243;n_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,0,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">variaci&#243;n_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 0,
   <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">N</span>-1,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   variaci&#243;n_2<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>variaciones(+L1,+N,-L2)</code> se verifica si <code>L2</code> es la lista de las variaciones
<code>N</code>-arias de <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- variaciones<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,2,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>a, b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b, c<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> ;
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">variaciones_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,variaci&#243;n_1<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">variaciones_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,variaci&#243;n_2<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Comparación de eficiencia
</p>
<div class="org-src-container">
<pre class="src src-shell">?- findall<span style="color: #707183;">(</span>_N,between<span style="color: #7388d6;">(</span>1,400,_N<span style="color: #7388d6;">)</span>,_L1<span style="color: #707183;">)</span>,
   <span style="color: #a020f0;">time</span><span style="color: #707183;">(</span>variaciones_1<span style="color: #7388d6;">(</span>_L1,2,_L2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   <span style="color: #a020f0;">time</span><span style="color: #707183;">(</span>variaciones_2<span style="color: #7388d6;">(</span>_L1,2,_L2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 12,024,020 inferences, 0.845 CPU<span style="color: #a020f0;"> in</span> 0.844 seconds <span style="color: #707183;">(</span>100% CPU, 14237961 Lips<span style="color: #707183;">)</span>
%    640,016 inferences, 0.096 CPU<span style="color: #a020f0;"> in</span> 0.096 seconds <span style="color: #707183;">(</span>100% CPU, 6646804 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6eafddf" class="outline-2">
<h2 id="org6eafddf"><span class="section-number-2">5.</span> Ordenación</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li>Nota: El código de las definiciones de esta sección se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_ordenacion.pl">ordenacion.pl</a>.</li>
</ul>
</div>

<div id="outline-container-org28ecfed" class="outline-3">
<h3 id="org28ecfed"><span class="section-number-3">5.1.</span> Ordenación por generación y prueba</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li><p>
<code>ordenación(+L1,-L2)</code> se verifica si <code>L2</code> es la lista obtenida
ordenando la lista <code>L1</code> en orden creciente. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- ordenaci&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>2,1,a,2,b,3<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 2, 3, a, b<span style="color: #707183;">]</span>
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog">    ordenaci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span> :-
       permutation<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
       ordenada<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">ordenada(+L) se verifica si L es una lista ordenada (seg&#250;n el criterio</span>
<span style="color: #b22222;">% </span><span style="color: #b22222;">de ordenaci&#243;n de Prolog).</span>
<span style="color: #0000ff;">ordenada</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">ordenada</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">ordenada</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X</span> @=&lt; <span style="color: #a0522d;">Y</span>,
   ordenada<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgb92af8e" class="outline-3">
<h3 id="orgb92af8e"><span class="section-number-3">5.2.</span> Ordenación por selección</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li><p>
La definición de ordenación por selección es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">ordenaci&#243;n_por_selecci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   selecciona_menor<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   ordenaci&#243;n_por_selecci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">ordenaci&#243;n_por_selecci&#243;n</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">selecci&#243;na_menor(?X,+L1,?L2) se verifica si X es el menor elemento de</span>
<span style="color: #b22222;">% </span><span style="color: #b22222;">la lista de n&#250;meros L1 y L2 son los restantes elementos. Por ejemplo,</span>
<span style="color: #b22222;">%    </span><span style="color: #b22222;">?- selecciona_menor(X,[4,1,3],L).</span>
<span style="color: #b22222;">%    </span><span style="color: #b22222;">X = 1</span>
<span style="color: #b22222;">%    </span><span style="color: #b22222;">L = [4, 3]</span>
<span style="color: #0000ff;">selecciona_menor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L2</span><span style="color: #909183;">)</span>, <span style="color: #a0522d;">Y</span> @&lt; <span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org9686b74" class="outline-3">
<h3 id="org9686b74"><span class="section-number-3">5.3.</span> Ordenación rápida (divide y vencerás)</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li><p>
La definición de ordenación rápida es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">ordenaci&#243;n_r&#225;pida</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">ordenaci&#243;n_r&#225;pida</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Ordenada</span><span style="color: #707183;">)</span> :-
   divide<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Menores</span>,<span style="color: #a0522d;">Mayores</span><span style="color: #707183;">)</span>,
   ordenaci&#243;n_r&#225;pida<span style="color: #707183;">(</span><span style="color: #a0522d;">Menores</span>,<span style="color: #a0522d;">Menores_ord</span><span style="color: #707183;">)</span>,
   ordenaci&#243;n_r&#225;pida<span style="color: #707183;">(</span><span style="color: #a0522d;">Mayores</span>,<span style="color: #a0522d;">Mayores_ord</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">Menores_ord</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Mayores_ord</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Ordenada</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">divide</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">divide</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Menores</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Mayores</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> @&lt; <span style="color: #a0522d;">X</span>, <span style="color: #a020f0;">!</span>,
   divide<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Menores</span>,<span style="color: #a0522d;">Mayores</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">divide</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Menores</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Mayores</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">Y @&gt;= X,</span>
   divide<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Menores</span>,<span style="color: #a0522d;">Mayores</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Comparación de eficiencia en la ordenación de la lista <code>[N,N-1,N-2,...,2,1]</code>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">N</th>
<th scope="col" class="org-right"><code>ordena</code></th>
<th scope="col" class="org-right"><code>selección</code></th>
<th scope="col" class="org-right"><code>rápida</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">10 inf 0.00 s</td>
<td class="org-right">9 inf 0.00 s</td>
<td class="org-right">3 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">22 inf 0.00 s</td>
<td class="org-right">23 inf 0.00 s</td>
<td class="org-right">10 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">256 inf 0.00 s</td>
<td class="org-right">80 inf 0.00 s</td>
<td class="org-right">33 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">8</td>
<td class="org-right">427,048 inf 0.03 s</td>
<td class="org-right">366 inf 0.00 s</td>
<td class="org-right">115 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">16</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">2,074 inf 0.00 s</td>
<td class="org-right">423 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">32</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">13,618 inf 0.00 s</td>
<td class="org-right">1,615 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">64</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">97,890 inf 0.01 s</td>
<td class="org-right">6,303 inf 0.00 s</td>
</tr>

<tr>
<td class="org-right">128</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">740,546 inf 0.08 s</td>
<td class="org-right">24,895 inf 0.01 s</td>
</tr>

<tr>
<td class="org-right">256</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">5,757,314 inf 0.34 s</td>
<td class="org-right">98,943 inf 0.03 s</td>
</tr>

<tr>
<td class="org-right">512</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">45,396,738 inf 2.58 s</td>
<td class="org-right">394,495 inf 0.04 s</td>
</tr>

<tr>
<td class="org-right">1024</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">1,575,423 inf 0.16 s</td>
</tr>
</tbody>
</table></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org934608a" class="outline-2">
<h2 id="org934608a"><span class="section-number-2">6.</span> Generación y prueba (fuerza bruta)</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>Nota: El código de las definiciones de esta sección se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_cuadrado_magico.pl">cuadrado_magico.pl</a>.</li>
</ul>
</div>

<div id="outline-container-orgd4518a3" class="outline-3">
<h3 id="orgd4518a3"><span class="section-number-3">6.1.</span> El problema de los cuadrados mágicos</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><p>
El problema de los cuadrados mágicos consiste en colocar los números
1,2,3,4,5,6,7,8,9 en un cuadrado 3x3 de forma que todas las líneas (filas,
columnas y diagonales) sumen igual; es decir, buscar los valores para las
variables A, B ,C, D, E, F, G, H, I
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+---+---+
| A | B | C |
+---+---+---+
| D | E | F |
+---+---+---+
| G | H | I |
+---+---+---+
</pre>
</div>
<p>
tales que
</p>
<div class="org-src-container">
<pre class="src src-txt">{A,B,C,D,E,F,G,H,I} = {1,2,3,4,5,6,7,8,9},
A+B+C = 15,
D+E+F = 15,
G+H+I = 15,
A+D+G = 15,
B+E+H = 15,
C+F+I = 15,
A+E+I = 15,
C+E+G = 15.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgf30e070" class="outline-3">
<h3 id="orgf30e070"><span class="section-number-3">6.2.</span> Solución por generación y prueba</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">cuadrado_1</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">I</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   permutation<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2,3,4,5,6,7,8,9<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">I</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">B</span>+<span style="color: #a0522d;">C</span> =:= 15,
   <span style="color: #a0522d;">D</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">F</span> =:= 15,
   <span style="color: #a0522d;">G</span>+<span style="color: #a0522d;">H</span>+<span style="color: #a0522d;">I</span> =:= 15,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">D</span>+<span style="color: #a0522d;">G</span> =:= 15,
   <span style="color: #a0522d;">B</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">H</span> =:= 15,
   <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">F</span>+<span style="color: #a0522d;">I</span> =:= 15,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">I</span> =:= 15,
   <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">G</span> =:= 15.
</pre>
</div></li>

<li><p>
Cálculo de las primeras soluciones
</p>
<div class="org-src-container">
<pre class="src src-shell">?- cuadrado_1<span style="color: #707183;">(</span>L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2, 7, 6, 9, 5, 1, 4, 3, 8<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>2, 9, 4, 7, 5, 3, 6, 1, 8<span style="color: #707183;">]</span>
</pre>
</div></li>

<li><p>
Cálculo del número de soluciones
</p>
<div class="org-src-container">
<pre class="src src-shell">?- findall<span style="color: #707183;">(</span>_X,cuadrado_1<span style="color: #7388d6;">(</span>_X<span style="color: #7388d6;">)</span>,_L<span style="color: #707183;">)</span>,length<span style="color: #707183;">(</span>_L,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 8.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org3388ccb" class="outline-3">
<h3 id="org3388ccb"><span class="section-number-3">6.3.</span> Solución por comprobaciones parciales</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">cuadrado_2</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">I</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #7388d6;">[</span>1,2,3,4,5,6,7,8,9<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">B</span>+<span style="color: #a0522d;">C</span> =:= 15,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">L4</span>,<span style="color: #a0522d;">L5</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">D</span>+<span style="color: #a0522d;">G</span> =:= 15,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L5</span>,<span style="color: #a0522d;">L6</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">G</span> =:= 15,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #a0522d;">L6</span>,<span style="color: #a0522d;">L7</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">A</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">I</span> =:= 15,
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">L7</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">H</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">F</span>+<span style="color: #a0522d;">I</span> =:= 15,
   <span style="color: #a0522d;">D</span>+<span style="color: #a0522d;">E</span>+<span style="color: #a0522d;">F</span> =:= 15.
</pre>
</div></li>

<li><p>
Cálculo de las primeras soluciones
</p>
<div class="org-src-container">
<pre class="src src-shell">?- cuadrado_2<span style="color: #707183;">(</span>L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2, 7, 6, 9, 5, 1, 4, 3, 8<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>2, 9, 4, 7, 5, 3, 6, 1, 8<span style="color: #707183;">]</span>
</pre>
</div></li>

<li><p>
Cálculo del número de soluciones
</p>
<div class="org-src-container">
<pre class="src src-shell">?- findall<span style="color: #707183;">(</span>_X,cuadrado_2<span style="color: #7388d6;">(</span>_X<span style="color: #7388d6;">)</span>,_L<span style="color: #707183;">)</span>,length<span style="color: #707183;">(</span>_L,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 8.
</pre>
</div></li>

<li><p>
Comprobación de la equivalencia de las definiciones
</p>
<div class="org-src-container">
<pre class="src src-shell">?- setof<span style="color: #707183;">(</span>_X,cuadrado_1<span style="color: #7388d6;">(</span>_X<span style="color: #7388d6;">)</span>,_L<span style="color: #707183;">)</span>,setof<span style="color: #707183;">(</span>_X,cuadrado_2<span style="color: #7388d6;">(</span>_X<span style="color: #7388d6;">)</span>,_L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
Comparación de eficiencia
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>setof<span style="color: #7388d6;">(</span>_X,cuadrado_1<span style="color: #909183;">(</span>_X<span style="color: #909183;">)</span>,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 2,999,645 inferences, 0.236 CPU<span style="color: #a020f0;"> in</span> 0.236 seconds <span style="color: #707183;">(</span>100% CPU, 12690432 Lips<span style="color: #707183;">)</span>
true.

?- time<span style="color: #707183;">(</span>setof<span style="color: #7388d6;">(</span>_X,cuadrado_2<span style="color: #909183;">(</span>_X<span style="color: #909183;">)</span>,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 7,216 inferences, 0.005 CPU<span style="color: #a020f0;"> in</span> 0.005 seconds <span style="color: #707183;">(</span>100% CPU, 1511635 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6d71e98" class="outline-2">
<h2 id="org6d71e98"><span class="section-number-2">7.</span> Uso de listas</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>En general, las listas sólo cuando el número de argumentos no es fijo o es desconocido.</li>

<li><p>
Comparación de eficiencia usando listas o términos
</p>
<div class="org-src-container">
<pre class="src src-shell">?- setof<span style="color: #707183;">(</span>N,between<span style="color: #7388d6;">(</span>1,1000,N<span style="color: #7388d6;">)</span>,L1<span style="color: #707183;">)</span>,
   asserta<span style="color: #707183;">(</span>con_lista<span style="color: #7388d6;">(</span>L1<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   T =.. <span style="color: #707183;">[</span>f|L1<span style="color: #707183;">]</span>,
   asserta<span style="color: #707183;">(</span>con_termino<span style="color: #7388d6;">(</span>T<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

?- listing<span style="color: #707183;">(</span>con_lista<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">con_lista</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1, 2, ..., 999, 1000<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

?- listing<span style="color: #707183;">(</span>con_termino<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">con_termino</span><span style="color: #707183;">(</span>f<span style="color: #7388d6;">(</span>1, 2,...,999, 1000<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

?- time<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>con_lista<span style="color: #909183;">(</span>_L<span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>1000,_L<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 1,000 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>99% CPU, 2522297 Lips<span style="color: #707183;">)</span>
true

?- time<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>con_termino<span style="color: #909183;">(</span>_T<span style="color: #909183;">)</span>,arg<span style="color: #909183;">(</span>_,_T,1000<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 1 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>97% CPU, 6858 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org43bdd5c" class="outline-2">
<h2 id="org43bdd5c"><span class="section-number-2">8.</span> Unificación</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgbdabd08" class="outline-3">
<h3 id="orgbdabd08"><span class="section-number-3">8.1.</span> Uso de <code>=..</code> en lugar de <code>functor</code> y <code>arg</code></h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li><p>
<code>intercambia(+T1,-T2)</code> se verifica si <code>T1</code> es un término con dos
argumentos y <code>T2</code> es un término con el mismo símbolo de función que <code>T1</code> pero
sus argumentos intercambiados. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- intercambia<span style="color: #707183;">(</span>opuesto<span style="color: #7388d6;">(</span>3,-3<span style="color: #7388d6;">)</span>,T<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = opuesto<span style="color: #707183;">(</span>-3, 3<span style="color: #707183;">)</span>
</pre>
</div>
<p>
Sus definiciones (que se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_intercambia.pl">intercambia.pl</a>) son
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">intercambia_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">T1</span>, <span style="color: #a0522d;">T2</span><span style="color: #707183;">)</span>:-
   functor<span style="color: #707183;">(</span><span style="color: #a0522d;">T1</span>,<span style="color: #a0522d;">F</span>,2<span style="color: #707183;">)</span>,
   functor<span style="color: #707183;">(</span><span style="color: #a0522d;">T2</span>,<span style="color: #a0522d;">F</span>,2<span style="color: #707183;">)</span>,
   arg<span style="color: #707183;">(</span>1,<span style="color: #a0522d;">T1</span>,<span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>,
   arg<span style="color: #707183;">(</span>2,<span style="color: #a0522d;">T1</span>,<span style="color: #a0522d;">Y1</span><span style="color: #707183;">)</span>,
   arg<span style="color: #707183;">(</span>1,<span style="color: #a0522d;">T2</span>,<span style="color: #a0522d;">X2</span><span style="color: #707183;">)</span>,
   arg<span style="color: #707183;">(</span>2,<span style="color: #a0522d;">T2</span>,<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">X1</span> = <span style="color: #a0522d;">Y2</span>,
   <span style="color: #a0522d;">X2</span> = <span style="color: #a0522d;">Y1</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">intercambia_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">T1</span>,<span style="color: #a0522d;">T2</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">T1</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">]</span>,
   <span style="color: #a0522d;">T2</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">]</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd79ead4" class="outline-3">
<h3 id="orgd79ead4"><span class="section-number-3">8.2.</span> Uso de la unificación para patrones de listas</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li><p>
<code>lista_de_tres(L)</code> se verifica si <code>L</code> es una lista de 3 elementos.
Sus definiciones son
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #b22222;">% </span><span style="color: #b22222;">1&#170; definici&#243;n</span>
<span style="color: #0000ff;">lista_de_tres</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :- length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>, <span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>, <span style="color: #a0522d;">N</span> = 3.

<span style="color: #b22222;">% </span><span style="color: #b22222;">2&#170; definici&#243;n</span>
<span style="color: #0000ff;">lista_de_tres</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :- length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,3<span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">3&#170; definici&#243;n</span>
<span style="color: #0000ff;">lista_de_tres</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org2fd878e" class="outline-2">
<h2 id="org2fd878e"><span class="section-number-2">9.</span> Acumuladores</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>Nota: El código de las definiciones de esta sección se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_inversa.pl">inversa.pl</a>.</li>
</ul>
</div>

<div id="outline-container-org6d1ee24" class="outline-3">
<h3 id="org6d1ee24"><span class="section-number-3">9.1.</span> La inversa de una lista</h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li><p>
<code>inversa(+L1,-L2)</code>, <code>reverse(L1,L2)</code>, se verifica si <code>L2</code> es la lista
inversa de <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- inversa<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>c, b, a<span style="color: #707183;">]</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgdc309ff" class="outline-3">
<h3 id="orgdc309ff"><span class="section-number-3">9.2.</span> Definición de inversa sin usar acumuladores</h3>
<div class="outline-text-3" id="text-9-2">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">inversa_1</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">inversa_1</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>:-
   inversa_1<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org7ad9fee" class="outline-3">
<h3 id="org7ad9fee"><span class="section-number-3">9.3.</span> Definición de inversa usando acumuladores</h3>
<div class="outline-text-3" id="text-9-3">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">inversa_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>:-
   inversa_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">inversa_2_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">inversa_2_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>:-
   inversa_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L3</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc953b2d" class="outline-3">
<h3 id="orgc953b2d"><span class="section-number-3">9.4.</span> Comparación de eficiencia</h3>
<div class="outline-text-3" id="text-9-4">
<ul class="org-ul">
<li><p>
La comparación es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- numlist<span style="color: #707183;">(</span>1,4000,_L1<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>inversa_1<span style="color: #7388d6;">(</span>_L1,_<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 8,006,000 inferences, 0.428 CPU<span style="color: #a020f0;"> in</span> 0.428 seconds <span style="color: #707183;">(</span>100% CPU, 18686454 Lips<span style="color: #707183;">)</span>
true.

?- numlist<span style="color: #707183;">(</span>1,4000,_L1<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>inversa_2<span style="color: #7388d6;">(</span>_L1,_<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 4,001 inferences, 0.001 CPU<span style="color: #a020f0;"> in</span> 0.001 seconds <span style="color: #707183;">(</span>100% CPU, 5305472 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org5550f76" class="outline-2">
<h2 id="org5550f76"><span class="section-number-2">10.</span> Programación dinámica</h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li>Nota: El código de las definiciones de esta sección se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_fibonacci.pl">fibonacci.pl</a>.</li>
</ul>
</div>

<div id="outline-container-orgb8de541" class="outline-3">
<h3 id="orgb8de541"><span class="section-number-3">10.1.</span> La sucesión de Fibonacci</h3>
<div class="outline-text-3" id="text-10-1">
<ul class="org-ul">
<li>La sucesión de Fibonacci es <code>1, 1, 2, 3, 5, 8, ...</code> y está
definida por
<ul class="org-ul">
<li><code>f(1) = 1</code></li>
<li><code>f(2) = 1</code></li>
<li><code>f(n) = f(n-1)+f(n-2)</code>, si  <code>n &gt; 2</code></li>
</ul></li>

<li><p>
<code>fibonacci(N,X)</code> se verifica si <code>X</code> es el <code>N</code>-ésimo término de la sucesión de
Fibonacci. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- fibonacci_1<span style="color: #707183;">(</span>6,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 8
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgcc14eee" class="outline-3">
<h3 id="orgcc14eee"><span class="section-number-3">10.2.</span> Definición de Fibonacci por recursión</h3>
<div class="outline-text-3" id="text-10-2">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">fibonacci_1</span><span style="color: #707183;">(</span>1,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_1</span><span style="color: #707183;">(</span>2,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">F</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 2,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   fibonacci_1<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">F1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N2</span> is <span style="color: #a0522d;">N</span>-2,
   fibonacci_1<span style="color: #707183;">(</span><span style="color: #a0522d;">N2</span>,<span style="color: #a0522d;">F2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">F</span> is <span style="color: #a0522d;">F1</span> + <span style="color: #a0522d;">F2</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org8e61f33" class="outline-3">
<h3 id="org8e61f33"><span class="section-number-3">10.3.</span> Definición de Fibonacci mediante programación dinámica</h3>
<div class="outline-text-3" id="text-10-3">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog">:- <span style="color: #483d8b;">dynamic</span> <span style="color: #0000ff;">fibonacci_2/2</span>.

<span style="color: #0000ff;">fibonacci_2</span><span style="color: #707183;">(</span>1,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_2</span><span style="color: #707183;">(</span>2,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">F</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 2,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   fibonacci_2<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">F1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N2</span> is <span style="color: #a0522d;">N</span>-2,
   fibonacci_2<span style="color: #707183;">(</span><span style="color: #a0522d;">N2</span>,<span style="color: #a0522d;">F2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">F</span> is <span style="color: #a0522d;">F1</span> + <span style="color: #a0522d;">F2</span>,
   asserta<span style="color: #707183;">(</span>fibonacci_2<span style="color: #7388d6;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgf67eead" class="outline-3">
<h3 id="orgf67eead"><span class="section-number-3">10.4.</span> Definición de Fibonacci usando acumuladores</h3>
<div class="outline-text-3" id="text-10-4">
<ul class="org-ul">
<li><p>
La definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">fibonacci_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">F</span><span style="color: #707183;">)</span> :-
   fibonacci_3_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">F</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">fibonacci_3_aux</span><span style="color: #707183;">(</span>0,<span style="color: #a0522d;">_</span>,0<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_3_aux</span><span style="color: #707183;">(</span>1,0,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">fibonacci_3_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">F1</span>,<span style="color: #a0522d;">F</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 1,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   fibonacci_3_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">F2</span>,<span style="color: #a0522d;">F1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">F</span> is <span style="color: #a0522d;">F1</span> + <span style="color: #a0522d;">F2</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org85b291c" class="outline-3">
<h3 id="org85b291c"><span class="section-number-3">10.5.</span> Comparación de eficiencia</h3>
<div class="outline-text-3" id="text-10-5">
<ul class="org-ul">
<li><p>
La comparación es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>fibonacci_1<span style="color: #7388d6;">(</span>30,N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 3,328,155 inferences, 1.025 CPU<span style="color: #a020f0;"> in</span> 1.026 seconds <span style="color: #707183;">(</span>100% CPU, 3245858 Lips<span style="color: #707183;">)</span>
N = 832040
?- time<span style="color: #707183;">(</span>fibonacci_2<span style="color: #7388d6;">(</span>30,N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 49 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>97% CPU, 833532 Lips<span style="color: #707183;">)</span>
N = 832040
?- time<span style="color: #707183;">(</span>fibonacci_3<span style="color: #7388d6;">(</span>30,N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 87 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>91% CPU, 1649696 Lips<span style="color: #707183;">)</span>
N = 832040
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgafdd7a6" class="outline-2">
<h2 id="orgafdd7a6"><span class="section-number-2">11.</span> Determinismo</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org7db5a32" class="outline-3">
<h3 id="org7db5a32"><span class="section-number-3">11.1.</span> Descomposición en sumas de dos sumando</h3>
<div class="outline-text-3" id="text-11-1">
<ul class="org-ul">
<li><p>
<code>descompone(+E,-N1,-N2)</code> se verifica si <code>N1</code> y <code>N2</code> son dos enteros
no negativos tales que <code>N1+N2=E</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- descompone_1<span style="color: #707183;">(</span>4,X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 0,
Y = 4 ;
X = 1,
Y = 3 ;
X = Y, Y = 2 ;
X = 3,
Y = 1 ;
X = 4,
Y = 0 ;
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org97c8668" class="outline-3">
<h3 id="org97c8668"><span class="section-number-3">11.2.</span> Definición no determinista</h3>
<div class="outline-text-3" id="text-11-2">
<ul class="org-ul">
<li><p>
La definición (que se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_descompone.pl">descompone.pl</a>) es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">descompone_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>, <span style="color: #a0522d;">N1</span>, <span style="color: #a0522d;">N2</span><span style="color: #707183;">)</span> :-
   between<span style="color: #707183;">(</span>0, <span style="color: #a0522d;">E</span>, <span style="color: #a0522d;">N1</span><span style="color: #707183;">)</span>,
   between<span style="color: #707183;">(</span>0, <span style="color: #a0522d;">E</span>, <span style="color: #a0522d;">N2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">E</span> =:= <span style="color: #a0522d;">N1</span> + <span style="color: #a0522d;">N2</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org4639c3e" class="outline-3">
<h3 id="org4639c3e"><span class="section-number-3">11.3.</span> Definición determinista</h3>
<div class="outline-text-3" id="text-11-3">
<ul class="org-ul">
<li><p>
La definición (que se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_descompone.pl">descompone.pl</a>) es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">descompone_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>, <span style="color: #a0522d;">N1</span>, <span style="color: #a0522d;">N2</span><span style="color: #707183;">)</span> :-
   between<span style="color: #707183;">(</span>0, <span style="color: #a0522d;">E</span>, <span style="color: #a0522d;">N1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N2</span> is <span style="color: #a0522d;">E</span> - <span style="color: #a0522d;">N1</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org0d18f01" class="outline-3">
<h3 id="org0d18f01"><span class="section-number-3">11.4.</span> Comparación de eficiencia</h3>
<div class="outline-text-3" id="text-11-4">
<ul class="org-ul">
<li><p>
La comparación es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>setof<span style="color: #7388d6;">(</span>_N1+_N2,descompone_1<span style="color: #909183;">(</span>1000,_N1,_N2<span style="color: #909183;">)</span>,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 2,006,017 inferences, 0.169 CPU<span style="color: #a020f0;"> in</span> 0.169 seconds <span style="color: #707183;">(</span>100% CPU, 11848576 Lips<span style="color: #707183;">)</span>
true.

?- time<span style="color: #707183;">(</span>setof<span style="color: #7388d6;">(</span>_N1+_N2,descompone_2<span style="color: #909183;">(</span>1000,_N1,_N2<span style="color: #909183;">)</span>,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 3,016 inferences, 0.001 CPU<span style="color: #a020f0;"> in</span> 0.001 seconds <span style="color: #707183;">(</span>100% CPU, 2107629 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgde53c2e" class="outline-2">
<h2 id="orgde53c2e"><span class="section-number-2">12.</span> Añadir al principio</h2>
<div class="outline-text-2" id="text-12">
<ul class="org-ul">
<li><p>
<code>lista_de_cuadrados(+N,?L)</code> se verifica si <code>L</code> es la lista de los
cuadrados de los números de <code>1</code> a <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- lista_de_cuadrados<span style="color: #707183;">(</span>5,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 4, 9, 16, 25<span style="color: #707183;">]</span>
</pre>
</div></li>

<li><p>
1ª definición (añadiendo por el final)
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">lista_de_cuadrados_1</span><span style="color: #707183;">(</span>1,<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">lista_de_cuadrados_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 1,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   lista_de_cuadrados_1<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">N</span>*<span style="color: #a0522d;">N</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">M</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
2ª definición (añadiendo por el principio)
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">lista_de_cuadrados_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   lista_de_cuadrados_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">lista_de_cuadrados_2_aux</span><span style="color: #707183;">(</span>1,<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">lista_de_cuadrados_2_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">M</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 1,
   <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">N</span>*<span style="color: #a0522d;">N</span>,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   lista_de_cuadrados_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
3ª definición (con orden superior)
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">lista_de_cuadrados_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">M</span>,<span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #909183;">)</span>, <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">X</span>*<span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Comparación de eficiencia
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>lista_de_cuadrados_1<span style="color: #7388d6;">(</span>10000,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 50,034,995 inferences, 2.903 CPU<span style="color: #a020f0;"> in</span> 2.903 seconds <span style="color: #707183;">(</span>100% CPU, 17233369 Lips<span style="color: #707183;">)</span>
true

?- time<span style="color: #707183;">(</span>lista_de_cuadrados_2<span style="color: #7388d6;">(</span>10000,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 39,999 inferences, 0.009 CPU<span style="color: #a020f0;"> in</span> 0.009 seconds <span style="color: #707183;">(</span>100% CPU, 4550877 Lips<span style="color: #707183;">)</span>
true

?- time<span style="color: #707183;">(</span>lista_de_cuadrados_3<span style="color: #7388d6;">(</span>10000,_L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 30,010 inferences, 0.007 CPU<span style="color: #a020f0;"> in</span> 0.007 seconds <span style="color: #707183;">(</span>100% CPU, 4229420 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgcda18ce" class="outline-2">
<h2 id="orgcda18ce"><span class="section-number-2">13.</span> Listas de diferencias</h2>
<div class="outline-text-2" id="text-13">
<ul class="org-ul">
<li><p>
Representaciones de <code>[a,b,c]</code> como listas de diferencias:
</p>
<div class="org-src-container">
<pre class="src src-txt">[a,b,c,d] - [d]
[a,b,c,1,2,3] - [1,2,3]
[a,b,c|X] - X
[a,b,c] - []
</pre>
</div></li>

<li><p>
<code>conc_ld(L1,L2,L3)</code> se verifica si <code>L3</code> es la concatenación de listas de
diferencias <code>L1</code> y <code>L2</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- conc_ld<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b|RX<span style="color: #7388d6;">]</span>-RX,<span style="color: #7388d6;">[</span>c,d|RY<span style="color: #7388d6;">]</span>-RY,Z-<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
RX = <span style="color: #707183;">[</span>c, d<span style="color: #707183;">]</span>,
RY = <span style="color: #707183;">[]</span>,
Z = <span style="color: #707183;">[</span>a, b, c, d<span style="color: #707183;">]</span>.

?- conc_ld<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b|_RX<span style="color: #7388d6;">]</span>-_RX,<span style="color: #7388d6;">[</span>c,d|_RY<span style="color: #7388d6;">]</span>-_RY,Z-<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Z = <span style="color: #707183;">[</span>a, b, c, d<span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">conc_ld</span><span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>-<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">B</span>-<span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">A</span>-<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Comparación de eficiencia
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>append<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>1,2,3,4,5,6,7<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>8,9<span style="color: #909183;">]</span>,L<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 7 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>81% CPU, 275645 Lips<span style="color: #707183;">)</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 4, 5, 6, 7, 8, 9<span style="color: #707183;">]</span>.

?- time<span style="color: #707183;">(</span>conc_ld<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>1,2,3,4,5,6,7|_X<span style="color: #909183;">]</span>-_X,<span style="color: #909183;">[</span>8,9|_Y<span style="color: #909183;">]</span>-_Y,L-<span style="color: #909183;">[]</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 0 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>80% CPU, 0 Lips<span style="color: #707183;">)</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 4, 5, 6, 7, 8, 9<span style="color: #707183;">]</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd1bbfa2" class="outline-2">
<h2 id="orgd1bbfa2"><span class="section-number-2">14.</span> Bibliografía</h2>
<div class="outline-text-2" id="text-14">
<ul class="org-ul">
<li>I. Bratko
<a href="https://archive.org/details/prologprogrammin0000brat_w4b1">Prolog programming for artificial intelligence (3 ed.)</a>
(Addison&#x2013;Wesley, 2001).
<ul class="org-ul">
<li>Cap. 8: "Programming style and technique"</li>
</ul></li>

<li>W.F. Clocksin y C.S. Mellish
<a href="https://archive.org/details/programminginpro00cloc">Programming in Prolog</a>.
(Springer Verlag, 1994)
<ul class="org-ul">
<li>Cap. 6: "Using data structures"</li>
</ul></li>

<li>M.A. Covington
<a href="https://www.researchgate.net/profile/Michael-Covington/publication/2820431_Efficient_Prolog_A_Practical_Guide/links/560f05c108ae0fc513eebd23/Efficient-Prolog-A-Practical-Guide.pdf?_sg%5B0%5D=44j1_vnD3oigoCQ8E4XC2uyuLBw5SUUCNtic2qkoMqMhY4giqSno58N3mnk-dz50t5GZ2KMvlMOqCvaT9WUS5g.IAYacWzqngcBrAQdijNQUb1xPIseMPytSU0j5_ieJuqk_FmH9ym38h568KvufOelXJ-Ap19QBiHWL2VSKP9QpQ&amp;_sg%5B1%5D=gTIARXT28qix9I4Wtqwu8NimCuEqb2Y31qpLsXllL9YiiZvJWLY7dCbTx9eIboM2ssRpGwhKA7BLEI_BPDH1NVZFRoxBCxKwNTgCT5lZWjfz.IAYacWzqngcBrAQdijNQUb1xPIseMPytSU0j5_ieJuqk_FmH9ym38h568KvufOelXJ-Ap19QBiHWL2VSKP9QpQ&amp;_iepl=">Efficient Prolog: A practical guide</a>.</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr>
<center>
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</center>
<div id="extras">
  <p><a href="/">José A. Alonso Jiménez</a>
  <p>Sevilla, 21 de mayo del 2022</p>
  <p><i class="fa fa-cc"></i> Licencia: <a href="https://creativecommons.org/licenses/by-nc-sa/2.5/es/">Creative Commons</a>.</p>
</div>
</div>
</body>
</html>
