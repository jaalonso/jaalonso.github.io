<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 09 de junio del 2022 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tema 3: Estructuras</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="José A. Alonso" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../../css/estilo-org.css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="preamble" class="status">
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</div>
<div id="content">
<h1 class="title">Tema 3: Estructuras</h1>
<div id="table-of-contents">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc094d7e">1. Segmentos verticales y horizontales</a>
<ul>
<li><a href="#orgfa4a822">1.1. Representación de puntos y segmentos</a></li>
<li><a href="#org8ea09a8">1.2. Segmentos horizontales y verticales</a></li>
<li><a href="#org6773d7d">1.3. Consultas sobre segmentos</a></li>
</ul>
</li>
<li><a href="#org341349c">2. Base de dato de familias.</a>
<ul>
<li><a href="#org8508376">2.1. Representación de las familia</a></li>
<li><a href="#org9187495">2.2. Consultas sobre las familias</a></li>
<li><a href="#orgba52c72">2.3. Ampliación con los hombres casados</a></li>
<li><a href="#org844c9dd">2.4. Ampliación con las mujeres casadas</a></li>
<li><a href="#org238a637">2.5. Preguntas compuestas</a></li>
<li><a href="#orgc91aef1">2.6. Resumen de conceptos introducidos</a></li>
</ul>
</li>
<li><a href="#org427e710">3. Simulación de un autómata</a>
<ul>
<li><a href="#org2af0b75">3.1. Representación del autómata</a></li>
<li><a href="#org16e7092">3.2. Consultas sobre el autómata</a></li>
</ul>
</li>
<li><a href="#orgf1f5668">4. Problema del mono</a>
<ul>
<li><a href="#org1a137f6">4.1. Descripción del problema del mono</a></li>
<li><a href="#org0398512">4.2. Representación de los estados</a></li>
<li><a href="#org6c642f4">4.3. Acciones y movimientos</a></li>
<li><a href="#org7f143a0">4.4. Solución del problema del mono</a></li>
</ul>
</li>
<li><a href="#org7cb3b44">5. Ejercicios</a>
<ul>
<li><a href="#org22f4593">5.1. Ampliación del programa de las familias</a></li>
<li><a href="#orgf46a76d">5.2. Ampliación de simulación de autómata</a></li>
<li><a href="#org1630ddf">5.3. Rompecabeza de la banda de música</a></li>
<li><a href="#org053eba6">5.4. Recorrido del caballo de ajedrez</a></li>
<li><a href="#orgb86b97a">5.5. Máximo de un árbol binario</a></li>
</ul>
</li>
<li><a href="#org6456406">6. Bibliografía</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgc094d7e" class="outline-2">
<h2 id="orgc094d7e"><span class="section-number-2">1.</span> Segmentos verticales y horizontales</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Nota: El código del programa que se desarrollará en esta sección se encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_ver_hor.pl">ver_hor.pl</a>.</li>
</ul>
</div>

<div id="outline-container-orgfa4a822" class="outline-3">
<h3 id="orgfa4a822"><span class="section-number-3">1.1.</span> Representación de puntos y segmentos</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><code>punto(X,Y)</code> representa el punto de coordenadas <code>(X,Y)</code>.</li>

<li><code>seg(P1,P2)</code> representa el segmento cuyos extremos son los puntos <code>P1</code> y
<code>P2</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-org8ea09a8" class="outline-3">
<h3 id="org8ea09a8"><span class="section-number-3">1.2.</span> Segmentos horizontales y verticales</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li><p>
Relaciones:
</p>
<ul class="org-ul">
<li><code>horizontal(S)</code> se verifica si el segmento <code>S</code> es horizontal.</li>
<li><code>vertical(S)</code> se verifica si el segmento <code>S</code> es vertical. Por
ejemplo,</li>
</ul>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>1,2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>2,2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- horizontal<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,2<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>1,3<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- horizontal<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,2<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>4,2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
Programa:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">horizontal</span><span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">Y</span><span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span><span style="color: #a0522d;">_</span> ,<span style="color: #a0522d;">Y</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">vertical</span><span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span><span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span> <span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org6773d7d" class="outline-3">
<h3 id="org6773d7d"><span class="section-number-3">1.3.</span> Consultas sobre segmentos</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li><p>
¿Es vertical el segmento que une los puntos <code>(1,1)</code> y <code>(1,2)</code>?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>1,2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
¿Es vertical el segmento que une los puntos <code>(1,1)</code> y <code>(2,2)</code>?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>2,2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>

<li><p>
¿Hay algún <code>Y</code> tal que el segmento que une los puntos <code>(1,1)</code> y
<code>(2,Y)</code> sea vertical?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>2,Y<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>

<li><p>
¿Hay algún <code>X</code> tal que el segmento que une los puntos <code>(1,2)</code> y
<code>(X,3)</code> sea vertical?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,2<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>X,3<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 1.
</pre>
</div></li>

<li><p>
¿Hay algún <code>Y</code> tal que el segmento que une los puntos <code>(1,1)</code> y
<code>(2,Y)</code> sea horizontal?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- horizontal<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>1,1<span style="color: #909183;">)</span>,punto<span style="color: #909183;">(</span>2,Y<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Y = 1.
</pre>
</div></li>

<li><p>
¿Para qué puntos el segmento que comienza en <code>(2,3)</code> es vertical?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>seg<span style="color: #7388d6;">(</span>punto<span style="color: #909183;">(</span>2,3<span style="color: #909183;">)</span>,P<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
P = punto<span style="color: #707183;">(</span>2, _2328<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div></li>

<li><p>
¿Hay algún segmento que sea horizontal y vertical?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- vertical<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span>,horizontal<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = seg<span style="color: #707183;">(</span>punto<span style="color: #7388d6;">(</span>_3356, _3358<span style="color: #7388d6;">)</span>, punto<span style="color: #7388d6;">(</span>_3356, _3358<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
?- vertical<span style="color: #707183;">(</span>_<span style="color: #707183;">)</span>,horizontal<span style="color: #707183;">(</span>_<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org341349c" class="outline-2">
<h2 id="org341349c"><span class="section-number-2">2.</span> Base de dato de familias.</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Nota: El código del programa que se desarrollará en esta sección se encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_familia.pl">familia.pl</a>.</li>
</ul>
</div>

<div id="outline-container-org8508376" class="outline-3">
<h3 id="org8508376"><span class="section-number-3">2.1.</span> Representación de las familia</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Descripción de la familia 1 :
<ul class="org-ul">
<li>el padre es Tomás García Pérez, nacido el 7 de Mayo de 1970,
trabaja de profesor y gana 75 euros diarios</li>
<li>la madre es Ana López Ruiz, nacida el 10 de marzo de 1972,
trabaja de médica y gana 100 euros diarios</li>
<li>el hijo es Juan García López, nacido el 5 de Enero de 1990,
estudiante</li>
<li>la hija es María García López, nacida el 12 de Abril de 1992,
estudiante</li>
</ul></li>

<li><p>
Representación de la familia 1:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">familia</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>tomas,garcia,perez<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>7,mayo,1990<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>profesor,75<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>ana,lopez,ruiz<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>10,marzo,1972<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>medica,100<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        <span style="color: #7388d6;">[</span> persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>juan,garcia,lopez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>5,enero,1990<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>maria,garcia,lopez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,abril,1992<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span> <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>Descripción de la familia 2:
<ul class="org-ul">
<li>el padre es José Pérez Ruiz, nacido el 6 de Marzo de 1973,
trabaja de pintor y gana 150 euros/día</li>
<li>la madre es Luisa Gálvez Pérez, nacida el 12 de Mayo de 1974, es
médica y gana 100 euros/día</li>
<li>un hijo es Juan Luis Pérez Pérez, nacido el 5 de Febrero de 2000,
estudiante</li>
<li>una hija es María José Pérez Pérez, nacida el 12 de Junio de
2002, estudiante</li>
<li>otro hijo es José María Pérez Pérez, nacido el 12 de Julio de
2004, estudiante</li>
</ul></li>

<li><p>
Representación de la familia 2:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">familia</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>jose,perez,ruiz<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>6,marzo,1973<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>pintor,150<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>luisa,galvez,perez<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>12,mayo,1974<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>medica,100<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        <span style="color: #7388d6;">[</span> persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>juan_luis,perez,perez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>5,febrero,2000<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>maria_jose,perez,perez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,junio,2002<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>jose_maria,perez,perez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,julio,2004<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span> <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org9187495" class="outline-3">
<h3 id="org9187495"><span class="section-number-3">2.2.</span> Consultas sobre las familias</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><p>
¿Existe alguna familia sin hijos?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- familia<span style="color: #707183;">(</span>_,_,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>

<li><p>
¿Existe alguna familia con tres hijos?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- familia<span style="color: #707183;">(</span>_,_,<span style="color: #7388d6;">[</span>_,_,_<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
¿Existe alguna familia con cuatro hijos?
</p>
<div class="org-src-container">
<pre class="src src-shell">?- familia<span style="color: #707183;">(</span>_,_,<span style="color: #7388d6;">[</span>_,_,_,_<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>

<li><p>
Buscar los nombres de los padres de familia con tres hijos
</p>
<div class="org-src-container">
<pre class="src src-shell">?- familia<span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span>NP,_,_<span style="color: #7388d6;">)</span>,_,<span style="color: #7388d6;">[</span>_,_,_<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
NP = <span style="color: #707183;">[</span>jose, perez, ruiz<span style="color: #707183;">]</span> ;
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgba52c72" class="outline-3">
<h3 id="orgba52c72"><span class="section-number-3">2.3.</span> Ampliación con los hombres casados</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li><p>
<code>casado(X)</code> se verifica si <code>X</code> es un hombre casado.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">casado</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :- familia<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Consulta:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- casado<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>tomas, garcia, perez<span style="color: #7388d6;">]</span>,
             fecha<span style="color: #7388d6;">(</span>7, mayo, 1990<span style="color: #7388d6;">)</span>,
             trabajo<span style="color: #7388d6;">(</span>profesor, 75<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>jose, perez, ruiz<span style="color: #7388d6;">]</span>,
             fecha<span style="color: #7388d6;">(</span>6, marzo, 1973<span style="color: #7388d6;">)</span>,
             trabajo<span style="color: #7388d6;">(</span>pintor, 150<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> ;
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org844c9dd" class="outline-3">
<h3 id="org844c9dd"><span class="section-number-3">2.4.</span> Ampliación con las mujeres casadas</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li><p>
<code>casada(X)</code> se verifica si <code>X</code> es una mujer casada.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">casada</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :- familia<span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Consulta:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- casada<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>ana, lopez, ruiz<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>10, marzo, 1972<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>medica, 100<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>luisa, galvez, perez<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>12, mayo, 1974<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>medica, 100<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> ;
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org238a637" class="outline-3">
<h3 id="org238a637"><span class="section-number-3">2.5.</span> Preguntas compuestas</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li><p>
Buscar los nombres de las mujeres casadas que trabajan
</p>
<div class="org-src-container">
<pre class="src src-shell">?- casada<span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>N,_,_<span style="color: #909183;">]</span>,_,trabajo<span style="color: #909183;">(</span>_,_<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = ana ;
N = luisa ;
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc91aef1" class="outline-3">
<h3 id="orgc91aef1"><span class="section-number-3">2.6.</span> Resumen de conceptos introducidos</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>Uso de objetos estructurados.</li>
<li>Prolog como lenguaje de consulta de bases de datos.</li>
<li>Bases de datos como conjuntos de hechos.</li>
<li>Selectores.</li>
<li>Abstracción de datos.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org427e710" class="outline-2">
<h2 id="org427e710"><span class="section-number-2">3.</span> Simulación de un autómata</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Nota: El código del programa que se desarrollará en esta sección se encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_automata.pl">automata.pl</a>.</li>
</ul>
</div>

<div id="outline-container-org2af0b75" class="outline-3">
<h3 id="org2af0b75"><span class="section-number-3">3.1.</span> Representación del autómata</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>Autómata no determinista (con estado final <code>e3</code>): <br />
<img src="./fig/tema-3-automata.png" alt="tema-3-automata.png" /></li>

<li><p>
<code>final(E)</code> se verifica si <code>E</code> es el estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">final</span><span style="color: #707183;">(</span>e3<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>trans(E1,X,E2)</code> se verifica si se puede pasar del estado <code>E1</code> al estado <code>E2</code>
usando la letra <code>X</code>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,a,e1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,a,e2<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,b,e1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e2,b,e3<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e3,b,e4<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>nulo(E1,E2)</code> se verifica si se puede pasar del estado <code>E1</code> al estado <code>E2</code>
mediante un movimiento nulo.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">nulo</span><span style="color: #707183;">(</span>e2,e4<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nulo</span><span style="color: #707183;">(</span>e3,e1<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>acepta(E,L)</code> se verifica si el autómata, a partir del estado <code>E</code>
acepta la lista <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- acepta<span style="color: #707183;">(</span>e1,<span style="color: #7388d6;">[</span>a,a,a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true ;
false.

?- acepta<span style="color: #707183;">(</span>e2,<span style="color: #7388d6;">[</span>a,a,a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">acepta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span> :-
   final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   trans<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   nulo<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org16e7092" class="outline-3">
<h3 id="org16e7092"><span class="section-number-3">3.2.</span> Consultas sobre el autómata</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><p>
Determinar si el autómata acepta la lista <code>[a,a,a,b]</code>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- acepta<span style="color: #707183;">(</span>e1,<span style="color: #7388d6;">[</span>a,a,a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true ;
false.
</pre>
</div></li>

<li><p>
Determinar los estados a partir de los cuales el autómata acepta la lista
<code>[a,b]</code>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- acepta<span style="color: #707183;">(</span>E,<span style="color: #7388d6;">[</span>a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #a0522d;">E</span>=e1 ;
<span style="color: #a0522d;">E</span>=e3 ;
false.
</pre>
</div></li>

<li><p>
Determinar las palabras de longitud 3 aceptadas por el autómata a partir del
estado <code>e1</code>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- acepta<span style="color: #707183;">(</span>e1,<span style="color: #7388d6;">[</span>X,Y,Z<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = Y, Y = a,
Z = b ;
X = Z, Z = b,
Y = a ;
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgf1f5668" class="outline-2">
<h2 id="orgf1f5668"><span class="section-number-2">4.</span> Problema del mono</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Nota: El código del programa que se desarrollará en esta sección se encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_mono.pl">mono.pl</a>.</li>
</ul>
</div>

<div id="outline-container-org1a137f6" class="outline-3">
<h3 id="org1a137f6"><span class="section-number-3">4.1.</span> Descripción del problema del mono</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Descripción: Un mono se encuentra en la puerta de una habitación. En el centro
de la habitación hay un plátano colgado del techo. El mono está hambriento y
desea coger el plátano, pero no lo alcanza desde el suelo. En la ventana de la
habitación hay una silla que el mono puede usar. El mono puede realizar las
siguientes acciones: pasear de un lugar a otro de la habitación, empujar la
silla de un lugar a otro de la habitación (si está en el mismo lugar que la
silla), subirse en la silla (si está en el mismo lugar que la silla) y coger
el plátano (si está encima de la silla en el centro de la habitación).</li>
</ul>
</div>
</div>

<div id="outline-container-org0398512" class="outline-3">
<h3 id="org0398512"><span class="section-number-3">4.2.</span> Representación de los estados</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li><code>estado(PM,AM,PS,MM)</code> es el estado tal que
<ul class="org-ul">
<li><code>PM</code> es la posición del mono (sus valores son <code>puerta</code>, <code>centro</code> o <code>ventana</code>)</li>
<li><code>AM</code> es el apoyo del mono (sus valores son <code>suelo</code> o <code>silla</code>).</li>
<li><code>PS</code> es la posición de la silla (sus valores son <code>puerta</code>, <code>centro</code> o <code>ventana</code>).</li>
<li><code>MM</code> indica si la mano del mono tiene el plátano (sus valores son <code>con</code> o <code>sin</code>).</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org6c642f4" class="outline-3">
<h3 id="org6c642f4"><span class="section-number-3">4.3.</span> Acciones y movimientos</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li><p>
<code>movimiento(E1,A,E2)</code> se verifica si <code>E2</code> es el estado que resulta de realizar
la acción <code>A</code> en el estado <code>E1</code>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">movimiento</span><span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span>centro,silla,centro,sin<span style="color: #7388d6;">)</span>,
           coger,
           estado<span style="color: #7388d6;">(</span>centro,silla,centro,con<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">movimiento</span><span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,suelo,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span>,
           subir,
           estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,silla,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">movimiento</span><span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X1</span>,suelo,<span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span>,
           empujar<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">X2</span><span style="color: #7388d6;">)</span>,
           estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X2</span>,suelo,<span style="color: #a0522d;">X2</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">movimiento</span><span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,suelo,<span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span>,
           pasear<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Z</span><span style="color: #7388d6;">)</span>,
           estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Z</span>,suelo,<span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">U</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org7f143a0" class="outline-3">
<h3 id="org7f143a0"><span class="section-number-3">4.4.</span> Solución del problema del mono</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li><p>
<code>solución(E,S)</code> se verifica si <code>S</code> es una sucesión de acciones que
aplicadas al estado <code>E</code> permiten al mono coger el plátano. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- soluci&#243;n<span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span>puerta,suelo,ventana,sin<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>pasear<span style="color: #7388d6;">(</span>puerta, ventana<span style="color: #7388d6;">)</span>,
     empujar<span style="color: #7388d6;">(</span>ventana, centro<span style="color: #7388d6;">)</span>,
     subir,
     coger<span style="color: #707183;">]</span>
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">soluci&#243;n</span><span style="color: #707183;">(</span>estado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,con<span style="color: #7388d6;">)</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">soluci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   movimiento<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>,
   soluci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>La representación de la búsqueda de soluciones es <br />
<img src="./fig/tema-3-mono.png" alt="tema-3-mono.png" /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7cb3b44" class="outline-2">
<h2 id="org7cb3b44"><span class="section-number-2">5.</span> Ejercicios</h2>
<div class="outline-text-2" id="text-5">
<p>
<b>Nota</b>: El código con las soluciones de los siguientes ejercicios de encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_ejercicios-tema-3.pl">SWISH</a> y en <a href="https://github.com/jaalonso/Ejercicios-Prolog/blob/main/src/ejercicios-tema-3.pl">GitHub</a>.
</p>
</div>

<div id="outline-container-org22f4593" class="outline-3">
<h3 id="org22f4593"><span class="section-number-3">5.1.</span> Ampliación del programa de las familias</h3>
<div class="outline-text-3" id="text-5-1">
<hr />
<p>
<b>Ejercicio 1</b>. En este ejercicio vamos a considerar el programa <code>familia.pl</code> del
tema 3 que se incluye a continuación
</p>
<hr />

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">familia</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>tom&#225;s,garc&#237;a,p&#233;rez<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>7,mayo,1990<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>profesor,75<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>ana,l&#243;pez,ruiz<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>10,marzo,1972<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>m&#233;dica,100<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        <span style="color: #7388d6;">[</span> persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>juan,garc&#237;a,l&#243;pez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>5,enero,1990<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>mar&#237;a,garc&#237;a,l&#243;pez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,abril,1992<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span> <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">familia</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>jos&#233;,p&#233;rez,ruiz<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>6,marzo,1973<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>pintor,150<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>luisa,g&#225;lvez,p&#233;rez<span style="color: #909183;">]</span>,
                fecha<span style="color: #909183;">(</span>12,mayo,1974<span style="color: #909183;">)</span>,
                trabajo<span style="color: #909183;">(</span>m&#233;dica,100<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
        <span style="color: #7388d6;">[</span> persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>juan_luis,p&#233;rez,p&#233;rez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>5,febrero,2000<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>mar&#237;a_jos&#233;,p&#233;rez,p&#233;rez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,junio,2002<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span>,
          persona<span style="color: #909183;">(</span><span style="color: #709870;">[</span>jos&#233;_mar&#237;a,p&#233;rez,p&#233;rez<span style="color: #709870;">]</span>,
                  fecha<span style="color: #709870;">(</span>12,julio,2004<span style="color: #709870;">)</span>,
                  estudiante<span style="color: #909183;">)</span> <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">casado</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   familia<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">casada</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   familia<span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.1</b>. Definir la relación <code>hijo(X)</code> que se verifique si <code>X</code> figura en
 alguna lista de hijos.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">hijo</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   familia<span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.2</b>. Calcular los hijos de las familias.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- hijo<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>juan, garc&#237;a, l&#243;pez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>5, enero, 1990<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>mar&#237;a, garc&#237;a, l&#243;pez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>12, abril, 1992<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>juan_luis, p&#233;rez, p&#233;rez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>5, febrero, 2000<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>mar&#237;a_jos&#233;, p&#233;rez, p&#233;rez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>12, junio, 2002<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span> ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>jos&#233;_mar&#237;a, p&#233;rez, p&#233;rez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>12, julio, 2004<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.3</b>. Definir la relación <code>existe(X)</code> que se verifique si <code>X</code> es una
persona existente en la base de datos.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">existe</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   casado<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span><span style="color: #a020f0;">;</span>
   casada<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span><span style="color: #a020f0;">;</span>
   hijo<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.4</b>. Hacer una pregunta tal que que las respuestas sean las listas
de la forma [nombre, apellido1, apellido2] de todas las personas que existen en
las familias.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- existe<span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span>X,_,_<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = <span style="color: #707183;">[</span>tom&#225;s, garc&#237;a, p&#233;rez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>jos&#233;, p&#233;rez, ruiz<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>ana, l&#243;pez, ruiz<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>luisa, g&#225;lvez, p&#233;rez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>juan, garc&#237;a, l&#243;pez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>mar&#237;a, garc&#237;a, l&#243;pez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>juan_luis, p&#233;rez, p&#233;rez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>mar&#237;a_jos&#233;, p&#233;rez, p&#233;rez<span style="color: #707183;">]</span> ;
X = <span style="color: #707183;">[</span>jos&#233;_mar&#237;a, p&#233;rez, p&#233;rez<span style="color: #707183;">]</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.5</b>. Determinar todos los estudiantes nacidos antes de 2003.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- existe<span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span>X,fecha<span style="color: #909183;">(</span>_,_,A&#241;o<span style="color: #909183;">)</span>,estudiante<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, A&#241;o &lt; 2003.
X = <span style="color: #707183;">[</span>juan, garc&#237;a, l&#243;pez<span style="color: #707183;">]</span>,
A&#241;o = 1990 ;
X = <span style="color: #707183;">[</span>mar&#237;a, garc&#237;a, l&#243;pez<span style="color: #707183;">]</span>,
A&#241;o = 1992 ;
X = <span style="color: #707183;">[</span>juan_luis, p&#233;rez, p&#233;rez<span style="color: #707183;">]</span>,
A&#241;o = 2000 ;
X = <span style="color: #707183;">[</span>mar&#237;a_jos&#233;, p&#233;rez, p&#233;rez<span style="color: #707183;">]</span>,
A&#241;o = 2002 ;
false.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.6</b>. Definir la relación <code>fecha_de_nacimiento(X,Y)</code> de forma que si
<code>X</code> es una persona, entonces <code>Y</code> es su fecha de nacimiento.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">fecha_de_nacimiento</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.7</b>. Buscar todos los hijos nacidos en 2002.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- hijo<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span>, fecha_de_nacimiento<span style="color: #707183;">(</span>X,fecha<span style="color: #7388d6;">(</span>_,_,2002<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>mar&#237;a_jos&#233;, p&#233;rez, p&#233;rez<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>12, junio, 2002<span style="color: #7388d6;">)</span>, estudiante<span style="color: #707183;">)</span>
false.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.8</b>. Definir la relación <code>sueldo(X,Y)</code> que se verifique si el sueldo
de la persona <code>X</code> es <code>Y</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sueldo</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,trabajo<span style="color: #909183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">Y</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sueldo</span><span style="color: #707183;">(</span>persona<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,estudiante<span style="color: #7388d6;">)</span>,0<span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.9</b>. Buscar todas las personas nacidas antes de 1974 cuyo sueldo sea
superior a 72 euros.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- existe<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span>,
   fecha_de_nacimiento<span style="color: #707183;">(</span>X,fecha<span style="color: #7388d6;">(</span>_,_,A&#241;o<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   A&#241;o &lt; 1974,
   sueldo<span style="color: #707183;">(</span>X,Y<span style="color: #707183;">)</span>,
   Y &gt; 72.
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>jos&#233;, p&#233;rez, ruiz<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>6, marzo, 1973<span style="color: #7388d6;">)</span>, trabajo<span style="color: #7388d6;">(</span>pintor, 150<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
A&#241;o = 1973,
Y = 150 ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>ana, l&#243;pez, ruiz<span style="color: #7388d6;">]</span>, fecha<span style="color: #7388d6;">(</span>10, marzo, 1972<span style="color: #7388d6;">)</span>, trabajo<span style="color: #7388d6;">(</span>m&#233;dica, 100<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
A&#241;o = 1972,
Y = 100 ;
false.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.10</b>. Definir la relación <code>total(L,Y)</code> que se verifique si <code>Y</code> es la
suma de los sueldos de las personas de la lista <code>L</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">total</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">total</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   sueldo<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y1</span><span style="color: #707183;">)</span>,
   total<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Y</span> is <span style="color: #a0522d;">Y1</span> + <span style="color: #a0522d;">Y2</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.11</b>. Calcular los ingresos totales de cada familia.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- familia<span style="color: #707183;">(</span>X,Y,Z<span style="color: #707183;">)</span>, total<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>X,Y|Z<span style="color: #7388d6;">]</span>,Total<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>tom&#225;s, garc&#237;a, p&#233;rez<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>7, mayo, 1990<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>profesor, 75<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
Y = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>ana, l&#243;pez, ruiz<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>10, marzo, 1972<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>m&#233;dica, 100<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
Z = <span style="color: #707183;">[</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>juan, garc&#237;a, l&#243;pez<span style="color: #909183;">]</span>,
             fecha<span style="color: #909183;">(</span>5, enero, 1990<span style="color: #909183;">)</span>,
             estudiante<span style="color: #7388d6;">)</span>,
     persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>mar&#237;a, garc&#237;a, l&#243;pez<span style="color: #909183;">]</span>,
             fecha<span style="color: #909183;">(</span>12, abril, 1992<span style="color: #909183;">)</span>,
             estudiante<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>,
Total = 175 ;
X = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>jos&#233;, p&#233;rez, ruiz<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>6, marzo, 1973<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>pintor, 150<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
Y = persona<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>luisa, g&#225;lvez, p&#233;rez<span style="color: #7388d6;">]</span>,
            fecha<span style="color: #7388d6;">(</span>12, mayo, 1974<span style="color: #7388d6;">)</span>,
            trabajo<span style="color: #7388d6;">(</span>m&#233;dica, 100<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
Z = <span style="color: #707183;">[</span>persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>juan_luis, p&#233;rez, p&#233;rez<span style="color: #909183;">]</span>,
             fecha<span style="color: #909183;">(</span>5, febrero, 2000<span style="color: #909183;">)</span>,
             estudiante<span style="color: #7388d6;">)</span>,
     persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>mar&#237;a_jos&#233;, p&#233;rez, p&#233;rez<span style="color: #909183;">]</span>,
             fecha<span style="color: #909183;">(</span>12, junio, 2002<span style="color: #909183;">)</span>,
             estudiante<span style="color: #7388d6;">)</span>,
     persona<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>jos&#233;_mar&#237;a, p&#233;rez, p&#233;rez<span style="color: #909183;">]</span>,
             fecha<span style="color: #909183;">(</span>12, julio, 2004<span style="color: #909183;">)</span>,
             estudiante<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span>,
Total = 250 ;
false.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf46a76d" class="outline-3">
<h3 id="orgf46a76d"><span class="section-number-3">5.2.</span> Ampliación de simulación de autómata</h3>
<div class="outline-text-3" id="text-5-2">
<hr />
<p>
<b>Ejercicio 2</b>. En este ejercicio consideraremos el programa <code>automata.pl</code>
del tema 3 que se incluye a continuación.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">final</span><span style="color: #707183;">(</span>e3<span style="color: #707183;">)</span>.

<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,a,e1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,a,e2<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e1,b,e1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e2,b,e3<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">trans</span><span style="color: #707183;">(</span>e3,b,e4<span style="color: #707183;">)</span>.

<span style="color: #0000ff;">nulo</span><span style="color: #707183;">(</span>e2,e4<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nulo</span><span style="color: #707183;">(</span>e3,e1<span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.1</b>. Definir la relación <code>acepta_acotada(E,L,N)</code> que se verifique si
el autómata, a partir del estado <code>E</code>, acepta la lista <code>L</code> y la longitud de <code>L</code>
es <code>N</code>.
</p>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">acepta_acotada_a</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   acepta_acotada_a_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_a_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span> :-
   final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_a_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   trans<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta_acotada_a_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_a_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   nulo<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta_acotada_a_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">acepta_acotada_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span> :-
   final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 0,
   trans<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">N</span> -1,
   acepta_acotada_b<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   nulo<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta_acotada_b<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.2</b>. Buscar las cadenas aceptadas a partir de e1 con longitud 3.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- acepta_acotada_a<span style="color: #707183;">(</span>e1,L,3<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a, b<span style="color: #707183;">]</span> ;
false.

?- acepta_acotada_b<span style="color: #707183;">(</span>e1,L,3<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a, b<span style="color: #707183;">]</span> ;
false.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.3</b>. Definir la relación <code>acepta_acotada_2(E,L,N)</code> que se verifique
si el autómata, a partir del estado <code>E</code>, acepta la lista <code>L</code> y la longitud de
<code>L</code> es menor o igual que <code>N</code>.
</p>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">acepta_acotada_2_a</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   between<span style="color: #707183;">(</span>0,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>,
   acepta_acotada_a_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">acepta_acotada_2_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_N</span><span style="color: #707183;">)</span> :-
   final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_2_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 0,
   trans<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">M</span> is <span style="color: #a0522d;">N</span>-1,
   acepta_acotada_2_b<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">acepta_acotada_2_b</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   nulo<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   acepta_acotada_2_b<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.4</b>. Buscar las cadenas aceptadas a partir de <code>e1</code> con longitud
menor o igual que 3.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- acepta_acotada_2_a<span style="color: #707183;">(</span>e1,L,3<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a, a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a, b<span style="color: #707183;">]</span> ;
false.

?- acepta_acotada_2_b<span style="color: #707183;">(</span>e1,L,3<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b, a, b<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
</div>
</div>

<div id="outline-container-org1630ddf" class="outline-3">
<h3 id="org1630ddf"><span class="section-number-3">5.3.</span> Rompecabeza de la banda de música</h3>
<div class="outline-text-3" id="text-5-3">
<hr />
<p>
<b>Ejercicio 3</b>. Se sabe que
</p>
<ol class="org-ol">
<li>Una banda está compuesta por tres músicos de distintos paises y que tocan
distintos instrumentos.</li>
<li>El pianista toca primero.</li>
<li>Juan toca el saxo y toca antes que el australiano.</li>
<li>Marcos es francés y toca antes que el violinista.</li>
<li>Hay un músico japonés.</li>
<li>Un músico se llama Saúl.</li>
</ol>

<p>
Determinar el nombre, el país y el instrumento que toca cada uno de los músicos
de la banda.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<p>
La relación <code>solución_músicos(S)</code> se verifica si <code>S</code> es una solución del
problema de los músicos.
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">soluci&#243;n_m&#250;sicos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">1. Una banda est&#225; compuesta por tres m&#250;sicos de distintos paises</span>
   <span style="color: #b22222;">%    </span><span style="color: #b22222;">y que tocan distintos instrumentos.</span>
   presoluci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   <span style="color: #b22222;">% </span><span style="color: #b22222;">2. El pianista toca primero.</span>
   instrumento<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,piano<span style="color: #707183;">)</span>,
   primero<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   <span style="color: #b22222;">% </span><span style="color: #b22222;">3. Juan toca el saxo y toca antes que el australiano.</span>
   nombre<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,juan<span style="color: #707183;">)</span>,
   instrumento<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,saxo<span style="color: #707183;">)</span>,
   pa&#237;s<span style="color: #707183;">(</span><span style="color: #a0522d;">Z</span>,australia<span style="color: #707183;">)</span>,
   antes<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   <span style="color: #b22222;">% </span><span style="color: #b22222;">4. Marcos es franc&#233;s y toca antes que el violinista.</span>
   nombre<span style="color: #707183;">(</span><span style="color: #a0522d;">Y1</span>,marco<span style="color: #707183;">)</span>,
   pa&#237;s<span style="color: #707183;">(</span><span style="color: #a0522d;">Y1</span>,francia<span style="color: #707183;">)</span>,
   instrumento<span style="color: #707183;">(</span><span style="color: #a0522d;">Z1</span>,viol&#237;n<span style="color: #707183;">)</span>,
   antes<span style="color: #707183;">(</span><span style="color: #a0522d;">Y1</span>,<span style="color: #a0522d;">Z1</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   <span style="color: #b22222;">% </span><span style="color: #b22222;">5. Hay un m&#250;sico japon&#233;s.</span>
   pertenece<span style="color: #707183;">(</span><span style="color: #a0522d;">U</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   pa&#237;s<span style="color: #707183;">(</span><span style="color: #a0522d;">U</span>,jap&#243;n<span style="color: #707183;">)</span>,
   <span style="color: #b22222;">% </span><span style="color: #b22222;">6. Un m&#250;sico se llama Sa&#250;l.</span>
   pertenece<span style="color: #707183;">(</span><span style="color: #a0522d;">V</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   nombre<span style="color: #707183;">(</span><span style="color: #a0522d;">V</span>,sa&#250;l<span style="color: #707183;">)</span>.
</pre>
</div>

<p>
La definición se basa en relación <code>presolución(S)4 que se verifica si ~S</code>
es una presolución; i.e. <code>S</code> es un término de la forma
</p>
<div class="org-src-container">
<pre class="src src-txt">banda(músico(N1,P1,I1),
      músico(N2,P2,I2),
      músico(N3,P3,I3))
</pre>
</div>
<p>
donde <code>músico(N,P,I)</code> representa al músico de nombre <code>N</code>, país <code>P</code> y que toca el
instrumento <code>I</code>.
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">presoluci&#243;n</span><span style="color: #707183;">(</span>banda<span style="color: #7388d6;">(</span>m&#250;sico<span style="color: #909183;">(</span><span style="color: #a0522d;">_N1</span>,<span style="color: #a0522d;">_P1</span>,<span style="color: #a0522d;">_I1</span><span style="color: #909183;">)</span>,
                  m&#250;sico<span style="color: #909183;">(</span><span style="color: #a0522d;">_N2</span>,<span style="color: #a0522d;">_P2</span>,<span style="color: #a0522d;">_I2</span><span style="color: #909183;">)</span>,
                  m&#250;sico<span style="color: #909183;">(</span><span style="color: #a0522d;">_N3</span>,<span style="color: #a0522d;">_P3</span>,<span style="color: #a0522d;">_I3</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
Además, se usan las siguientes relaciones auxiliares:
</p>
<ul class="org-ul">
<li><p>
<code>nombre(X,N)</code> se verifica si <code>N4 es el el nombre del músico ~X</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>m&#250;sico<span style="color: #7388d6;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
<code>país(X,P)</code> se verifica si <code>P</code> es el país del músico <code>X</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">pa&#237;s</span><span style="color: #707183;">(</span>m&#250;sico<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">P</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
<code>instrumento(X,I)</code> se verifica si <code>I</code> es el instrumento que toca el músico
<code>X</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">instrumento</span><span style="color: #707183;">(</span>m&#250;sico<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">I</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">I</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
<code>primero(X,B)</code> se verifica si <code>X</code> es el primer músico de la banda <code>B</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primero</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
<code>pertenece(X,B)</code> se verifica si <code>X</code> es un músico de la banda <code>B</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">pertenece</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">pertenece</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">pertenece</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
<li><p>
<code>antes(X,Y,B)</code> se verifica si <code>X</code> toca antes que <code>Y</code> en la banda <code>B</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">antes</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">_</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">antes</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">Y</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">antes</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,banda<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
La consulta para obtener la solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- soluci&#243;n_m&#250;sicos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>m&#250;sico<span style="color: #7388d6;">(</span>marco, francia,   piano<span style="color: #7388d6;">)</span>,
     m&#250;sico<span style="color: #7388d6;">(</span>juan,  jap&#243;n,     saxo<span style="color: #7388d6;">)</span>,
     m&#250;sico<span style="color: #7388d6;">(</span>sa&#250;l,  australia, viol&#237;n<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span> ;
false.
</pre>
</div>
</div>
</div>

<div id="outline-container-org053eba6" class="outline-3">
<h3 id="org053eba6"><span class="section-number-3">5.4.</span> Recorrido del caballo de ajedrez</h3>
<div class="outline-text-3" id="text-5-4">
<hr />
<p>
<b>Ejercicio 4.1</b>. Supongamos que los cuadros del tablero de ajedrez los
representamos por pares de números <code>[X,Y]</code> con <code>X</code> e <code>Y</code> entre 1 y 8.
</p>

<p>
Definir la relación <code>salta(+C1,?C2)</code> que se verifica si el
caballo puede pasar en un movimiento del cuadrado <code>C1</code> al cuadrado
<code>C2</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- salta<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,1<span style="color: #7388d6;">]</span>,S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span> ;
S = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">salta</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">Y1</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   dxy<span style="color: #707183;">(</span><span style="color: #a0522d;">Dx</span>,<span style="color: #a0522d;">Dy</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">X1</span> is <span style="color: #a0522d;">X</span>+<span style="color: #a0522d;">Dx</span>,
   correcto<span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Y1</span> is <span style="color: #a0522d;">Y</span>+<span style="color: #a0522d;">Dy</span>,
   correcto<span style="color: #707183;">(</span><span style="color: #a0522d;">Y1</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">dxy(?X,?Y) se verifica si un caballo puede moverse X espacios</span>
<span style="color: #b22222;">% </span><span style="color: #b22222;">horizontales e Y verticales.</span>
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>2,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>2,-1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>-2,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>-2,-1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>1,2<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>1,-2<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>-1,2<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">dxy</span><span style="color: #707183;">(</span>-1,-2<span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">correcto(+X) se verifica si X est&#225; entre 1 y 8.</span>
<span style="color: #0000ff;">correcto</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   1 =&lt; <span style="color: #a0522d;">X</span>,
   <span style="color: #a0522d;">X</span> =&lt; 8.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 4.2</b>. Definir la relación <code>camino(L)</code> que se verifica si <code>L</code> es
una lista de cuadrados representando el camino recorrido por un
caballo sobre  un tablero vacío. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,1<span style="color: #909183;">]</span>,C<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
C = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span> ;
C = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">C1</span>,<span style="color: #a0522d;">C2</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   salta<span style="color: #707183;">(</span><span style="color: #a0522d;">C1</span>,<span style="color: #a0522d;">C2</span><span style="color: #707183;">)</span>,
   camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">C2</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 4.3</b>. Usando la relación <code>camino</code>, escribir una pregunta para
determinar los caminos de longitud 4 por los que puede desplazarse un caballo
desde cuadro [2,1] hasta el otro extremo del tablero (Y=8) de forma que en el
segundo movimiento pase por el cuadro [5,4].
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>2,1<span style="color: #909183;">]</span>,C1,<span style="color: #909183;">[</span>5,4<span style="color: #909183;">]</span>,C2,<span style="color: #909183;">[</span>X,8<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
C1 = <span style="color: #707183;">[</span>4, 2<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>6, 6<span style="color: #707183;">]</span>,
X = 7 ;
C1 = <span style="color: #707183;">[</span>4, 2<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>6, 6<span style="color: #707183;">]</span>,
X = 5 ;
C1 = <span style="color: #707183;">[</span>4, 2<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>4, 6<span style="color: #707183;">]</span>,
X = 5 ;
C1 = <span style="color: #707183;">[</span>4, 2<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>4, 6<span style="color: #707183;">]</span>,
X = 3 ;
C1 = <span style="color: #707183;">[</span>3, 3<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>6, 6<span style="color: #707183;">]</span>,
X = 7 ;
C1 = <span style="color: #707183;">[</span>3, 3<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>6, 6<span style="color: #707183;">]</span>,
X = 5 ;
C1 = <span style="color: #707183;">[</span>3, 3<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>4, 6<span style="color: #707183;">]</span>,
X = 5 ;
C1 = <span style="color: #707183;">[</span>3, 3<span style="color: #707183;">]</span>,
C2 = <span style="color: #707183;">[</span>4, 6<span style="color: #707183;">]</span>,
X = 3 ;
</pre>
</div>

<hr />
<p>
<b>Ejercicio 4.4</b>. Calcular el menor número de movimientos necesarios para
desplazar el caballo del cuadro [1,1] al [2,2]. ¿Cuántos caminos de dicha
longitud hay de [1,1] a [2,2]?
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,1<span style="color: #909183;">]</span>,_,<span style="color: #909183;">[</span>2,2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,1<span style="color: #909183;">]</span>,_,_,<span style="color: #909183;">[</span>2,2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,1<span style="color: #909183;">]</span>,_,_,_,<span style="color: #909183;">[</span>2,2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true
?- camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,1<span style="color: #909183;">]</span>,C2,C3,C4,<span style="color: #909183;">[</span>2,2<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
C2 = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>5, 3<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>3, 4<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>5, 3<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>4, 1<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>5, 1<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>4, 3<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>1, 3<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>3, 4<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>3, 2<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>2, 4<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>4, 3<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>4, 2<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>3, 4<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>3, 5<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>1, 4<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>3, 5<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>4, 3<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>3, 1<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>4, 3<span style="color: #707183;">]</span> ;
C2 = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>,
C3 = <span style="color: #707183;">[</span>1, 5<span style="color: #707183;">]</span>,
C4 = <span style="color: #707183;">[</span>3, 4<span style="color: #707183;">]</span> ;
false.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb86b97a" class="outline-3">
<h3 id="orgb86b97a"><span class="section-number-3">5.5.</span> Máximo de un árbol binario</h3>
<div class="outline-text-3" id="text-5-5">
<hr />
<p>
<b>Ejercicio 5.</b> Un árbol binario es vacío o consta de tres partes: la
raíz (que debe de ser un número positivo), el subárbol izquierdo (que
debe ser un árbol binario) y el subárbol derecho (que debe ser un
árbol binario). Usaremos la siguiente representación 
</p>
<ul class="org-ul">
<li><code>nil</code> representa el árbol vacío</li>
<li><code>t(I,R,D)</code> representa el árbol de la raíz <code>R</code>, subárbol izquierdo <code>I</code>
y subárbol derecho <code>D</code>.</li>
</ul>
<p>
Por ejemplo, el término <code>t(t(nil,2,nil),1,t(t(nil,4,nil),3,nil))</code>
representa el árbol
</p>
<div class="org-src-container">
<pre class="src src-txt">   1                                   
 /   \                                 
2     3                                
     /                                 
    4                                  
</pre>
</div>

<p>
Definir la relación <code>máximo(+T,-X)</code> que se verifica si X es el máximo
de los nodos del árbol T. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- m&#225;ximo<span style="color: #707183;">(</span>nil,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 0. 
?- m&#225;ximo<span style="color: #707183;">(</span>t<span style="color: #7388d6;">(</span>nil,2,nil<span style="color: #7388d6;">)</span>,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 2. 
?- m&#225;ximo<span style="color: #707183;">(</span>t<span style="color: #7388d6;">(</span>t<span style="color: #909183;">(</span>nil,2,nil<span style="color: #909183;">)</span>,3,nil<span style="color: #7388d6;">)</span>,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 3.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">m&#225;ximo</span><span style="color: #707183;">(</span>nil,0<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">m&#225;ximo</span><span style="color: #707183;">(</span>t<span style="color: #7388d6;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">D</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>:-
   m&#225;ximo<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #a0522d;">MI</span><span style="color: #707183;">)</span>,
   m&#225;ximo<span style="color: #707183;">(</span><span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">MD</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">M1</span> is max<span style="color: #707183;">(</span><span style="color: #a0522d;">MI</span>,<span style="color: #a0522d;">MD</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">M</span> is max<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">M1</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6456406" class="outline-2">
<h2 id="org6456406"><span class="section-number-2">6.</span> Bibliografía</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>I. Bratko
<a href="https://archive.org/details/prologprogrammin0000brat_w4b1">Prolog programming for artificial intelligence (3 ed.)</a>
(Addison&#x2013;Wesley, 2001)
<ul class="org-ul">
<li>Cap. 2: "Syntax and meaning of Prolog programs".</li>
<li>Cap. 4: "Using structures: Example programs"</li>
</ul></li>

<li>W.F. Clocksin y C.S. Mellish
<a href="https://archive.org/details/programminginpro00cloc">Programming in Prolog</a>.
(Springer Verlag, 1994)
<ul class="org-ul">
<li>Cap. 3: "Using data structures"</li>
</ul></li>

<li>T. Van Le
<a href="https://archive.org/details/techniquesofprol00vanl_0">Techniques of Prolog programming</a>.
(John Wiley, 1993)
<ul class="org-ul">
<li>Cap. 2: "Declarative Prolog programming".</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr>
<center>
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</center>
<div id="extras">
  <p><a href="/">José A. Alonso Jiménez</a>
  <p>Sevilla, 09 de junio del 2022</p>
  <p><i class="fa fa-cc"></i> Licencia: <a href="https://creativecommons.org/licenses/by-nc-sa/2.5/es/">Creative Commons</a>.</p>
</div>
</div>
</body>
</html>
