<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 07 de abril del 2024 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tema 5: Programación lógica de orden superior</title>
<meta name="author" content="José A. Alonso" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../../../css/estilo-org.css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div id="preamble" class="status">
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/cursos/i1m/">Inicial</a> |
   <a href="/cursos/i1m/temas_apuntes_codigos.html">Temas  </a> |
   <a href="/cursos/i1m/manuales.html">Manuales  </a> |
   <a href="/cursos/i1m/ejercicios.html">Ejercicios  </a> |
   <a href="/cursos/i1m/examenes.html">Exámenes  </a> |
   <a href="/cursos/i1m/doc.html">Documentación  </a>
</p>
</div>
<div id="content" class="content">
<h1 class="title">Tema 5: Programación lógica de orden superior</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgfbcfc9e">1. Modificación de la base de conocimiento</a>
<ul>
<li><a href="#org1f57b85">1.1. Los predicados <code>assert</code> y <code>retract</code>:</a></li>
<li><a href="#org361ac0b">1.2. El predicado <code>listing</code>:</a></li>
<li><a href="#orgcc2b8d9">1.3. Los predicados <code>asserta</code> y <code>assertz</code>:</a></li>
<li><a href="#org50db80e">1.4. Los predicados <code>retractall</code> y <code>abolish</code>:</a></li>
<li><a href="#org1d1954b">1.5. Tablas de multiplicar</a></li>
</ul>
</li>
<li><a href="#orgbbc405d">2. Todas las soluciones</a>
<ul>
<li><a href="#org0061cc6">2.1. Lista de todas las soluciones</a></li>
<li><a href="#orgab8b474">2.2. Conjunto de todas las soluciones</a></li>
<li><a href="#org564473e">2.3. Multiconjunto de todas las soluciones</a></li>
<li><a href="#org7b4579c">2.4. Operaciones conjuntistas</a></li>
</ul>
</li>
<li><a href="#orgc10eb42">3. Procesamiento de términos</a>
<ul>
<li><a href="#org8ea8c9e">3.1. Transformación entre términos y listas:</a></li>
<li><a href="#org37550b4">3.2. Los procedimientos <code>functor</code> y <code>arg</code>:</a></li>
</ul>
</li>
<li><a href="#org7f83e28">4. Transformaciones entre átomos y listas</a>
<ul>
<li><a href="#orgb5ed9aa">4.1. La relación <code>name</code>:</a></li>
</ul>
</li>
<li><a href="#org6ee8169">5. Procedimientos aplicativos</a>
<ul>
<li><a href="#org45ab764">5.1. El procedimiento <code>apply</code></a></li>
<li><a href="#orgeb96c27">5.2. El procedimientos <code>maplist</code></a></li>
</ul>
</li>
<li><a href="#orgb700597">6. Predicados sobre tipos de término</a></li>
<li><a href="#orgfad826e">7. Comparación y ordenación de términos</a>
<ul>
<li><a href="#org4aa7da3">7.1. Comparación de términos:</a></li>
<li><a href="#org792efe0">7.2. Ordenación de términos:</a></li>
</ul>
</li>
<li><a href="#org730c33c">8. Ejercicios</a>
<ul>
<li><a href="#orgeb887b0">8.1. Lista de los divisores de un número</a></li>
<li><a href="#orgc65d5df">8.2. Reconocimiento de números primos</a></li>
<li><a href="#org97cd200">8.3. Generación de números primos</a></li>
<li><a href="#org8244c31">8.4. Números amigos</a></li>
<li><a href="#org1d06a6e">8.5. Transformación de listas en conjuntos</a></li>
<li><a href="#org57dcaef">8.6. Todos los elementos cumple una propiedad</a></li>
<li><a href="#org057a27e">8.7. Algún elemento cumple una propiedad</a></li>
<li><a href="#orgc4a2fb6">8.8. Sublistas de elementos que verifican una propiedad</a></li>
<li><a href="#orga8b1e17">8.9. Rotaciones de una lista</a></li>
<li><a href="#orgb8d557c">8.10. Lista de números capicúas en un intervalo</a></li>
<li><a href="#org9077af8">8.11. Palabra inversa</a></li>
<li><a href="#orgf67867a">8.12. Determinación de un número por su factorial</a></li>
<li><a href="#orgbb36aa1">8.13. Nodos de una generación en una lista de árboles binarios</a></li>
<li><a href="#orgc6a378e">8.14. Lista de elementos únicos</a></li>
<li><a href="#org10041c1">8.15. Elementos más frecuentes de una lista</a></li>
<li><a href="#org68b3ccc">8.16. El problema 3n+1</a></li>
<li><a href="#org0979195">8.17. Números perfectos</a></li>
<li><a href="#org38c007a">8.18. Operación binaria aplicada a listas</a></li>
<li><a href="#orgf7503a3">8.19. Eliminación de las vocales</a></li>
<li><a href="#orgdb8d587">8.20. Palabras maximales</a></li>
<li><a href="#org5e1393a">8.21. Clausura transitiva</a></li>
<li><a href="#org7086b23">8.22. Traducción de dígitos a palabras</a></li>
<li><a href="#org8870f23">8.23. Transformación de lista dependiente de la posición</a></li>
<li><a href="#org6f16613">8.24. Aplanamiento de listas</a></li>
</ul>
</li>
<li><a href="#org4c30ec4">9. Bibliografía</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgfbcfc9e" class="outline-2">
<h2 id="orgfbcfc9e"><span class="section-number-2">1.</span> Modificación de la base de conocimiento</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org1f57b85" class="outline-3">
<h3 id="org1f57b85"><span class="section-number-3">1.1.</span> Los predicados <code>assert</code> y <code>retract</code>:</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><code>assert(+Term)</code> inserta un hecho o una cláusula en la base de
conocimientos. <code>Term</code> es insertado como última cláusula del predicado
correspondiente.</li>

<li><code>retract(+Term)</code> elimina la primera cláusula de la base de conocimientos que
unifica con <code>Term</code>.</li>

<li><p>
Ejemplos:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- dynamic hace_fr&#237;o/0.
true.

?- hace_fr&#237;o.
false.

?- assert<span style="color: #707183;">(</span>hace_fr&#237;o<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- hace_fr&#237;o.
true.

?- retract<span style="color: #707183;">(</span>hace_fr&#237;o<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- hace_fr&#237;o.
false.
</pre>
</div></li>
</ul>
</div>
</div>


<div id="outline-container-org361ac0b" class="outline-3">
<h3 id="org361ac0b"><span class="section-number-3">1.2.</span> El predicado <code>listing</code>:</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li><p>
<code>listing(+Pred)</code> lista las cláusulas en cuya cabeza aparece el
predicado <code>Pred</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- assert<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>gana<span style="color: #909183;">(</span>X,Y<span style="color: #909183;">)</span> :- r&#225;pido<span style="color: #909183;">(</span>X<span style="color: #909183;">)</span>, lento<span style="color: #909183;">(</span>Y<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- listing<span style="color: #707183;">(</span>gana<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
:- dynamic gana/2.

<span style="color: #0000ff;">gana</span><span style="color: #707183;">(</span>A, B<span style="color: #707183;">)</span> :-
    r&#225;pido<span style="color: #707183;">(</span>A<span style="color: #707183;">)</span>,
    lento<span style="color: #707183;">(</span>B<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

true.

?- assert<span style="color: #707183;">(</span>r&#225;pido<span style="color: #7388d6;">(</span>juan<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>lento<span style="color: #7388d6;">(</span>jose<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>lento<span style="color: #7388d6;">(</span>luis<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- gana<span style="color: #707183;">(</span>X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = juan,
Y = jose ;
X = juan,
Y = luis.

?- retract<span style="color: #707183;">(</span>lento<span style="color: #7388d6;">(</span>X<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = jose ;
X = luis.

?- gana<span style="color: #707183;">(</span>X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgcc2b8d9" class="outline-3">
<h3 id="orgcc2b8d9"><span class="section-number-3">1.3.</span> Los predicados <code>asserta</code> y <code>assertz</code>:</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li><code>asserta(+Term)</code> equivale a <code>assert/1</code>, pero <code>Term</code> es insertado como primera
cláusula del predicado correspondiente.</li>

<li><code>assertz(+Term)</code> equivale a <code>assert/1</code>.</li>

<li><p>
Ejemplos:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- assert<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>a<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assertz<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>b<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, asserta<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>c<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- p<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = c ;
X = a ;
X = b.

?- listing<span style="color: #707183;">(</span>p<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
:- dynamic p/1.

<span style="color: #0000ff;">p</span><span style="color: #707183;">(</span>c<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">p</span><span style="color: #707183;">(</span>a<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">p</span><span style="color: #707183;">(</span>b<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

true.
</pre>
</div></li>
</ul>
</div>
</div>


<div id="outline-container-org50db80e" class="outline-3">
<h3 id="org50db80e"><span class="section-number-3">1.4.</span> Los predicados <code>retractall</code> y <code>abolish</code>:</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li><code>retractall(+C)</code> elimina de la base de conocimientos todas las cláusulas cuya
cabeza unifica con <code>C</code>.</li>

<li><code>abolish(+SimbPred/+Aridad)</code> elimina de la base de conocimientos todas las
cláusulas que en su cabeza aparece el símbolo de predicado <code>SimbPred/Aridad</code>.</li>

<li><p>
Ejemplos:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- assert<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>a<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>b<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- retractall<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>_<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- p<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- assert<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>a<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>p<span style="color: #7388d6;">(</span>b<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- abolish<span style="color: #707183;">(</span>p/1<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- p<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
ERROR: Unknown procedure: p/1 <span style="color: #707183;">(</span>DWIM could not correct goal<span style="color: #707183;">)</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org1d1954b" class="outline-3">
<h3 id="org1d1954b"><span class="section-number-3">1.5.</span> Tablas de multiplicar</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li><p>
<code>crea_tabla</code> añade los hechos <code>producto(X,Y,Z)</code> donde <code>X</code> e <code>Y</code> son números de
0 a 9 y <code>Z</code> es el producto de <code>X</code> e <code>Y</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- crea_tabla.
Yes
?- listing<span style="color: #707183;">(</span>producto<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">producto</span><span style="color: #707183;">(</span>0,0,0<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">producto</span><span style="color: #707183;">(</span>0,1,0<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
...
<span style="color: #0000ff;">producto</span><span style="color: #707183;">(</span>9,8,72<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">producto</span><span style="color: #707183;">(</span>9,9,81<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Yes
</pre>
</div>
<p>
Su definición es (<a href="https://swish.swi-prolog.org/p/PLP_tabla_de_multiplicar.pl">tabla_de_multiplicar.pl</a>).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">crea_tabla</span> :-
   <span style="color: #a0522d;">L</span> = <span style="color: #707183;">[</span>0,1,2,3,4,5,6,7,8,9<span style="color: #707183;">]</span>,
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Z</span> is <span style="color: #a0522d;">X</span>*<span style="color: #a0522d;">Y</span>,
   assert<span style="color: #707183;">(</span>producto<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   fail.
crea_tabla.
</pre>
</div></li>

<li><p>
Consulta: Determinar las descomposiciones de 6 en producto de dos números.
</p>
<div class="org-src-container">
<pre class="src src-shell">?- producto<span style="color: #707183;">(</span>A,B,6<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
A = 1,
B = 6 ;
A = 2,
B = 3 ;
A = 3,
B = 2 ;
A = 6,
B = 1.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgbbc405d" class="outline-2">
<h2 id="orgbbc405d"><span class="section-number-2">2.</span> Todas las soluciones</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org0061cc6" class="outline-3">
<h3 id="org0061cc6"><span class="section-number-3">2.1.</span> Lista de todas las soluciones</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li><p>
<code>findall(T,O,L)</code> se verifica si <code>L</code> es la lista de las instancias del término
<code>T</code> que verifican el objetivo <code>O</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- assert<span style="color: #707183;">(</span>clase<span style="color: #7388d6;">(</span>a,voc<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>clase<span style="color: #7388d6;">(</span>b,con<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   assert<span style="color: #707183;">(</span>clase<span style="color: #7388d6;">(</span>e,voc<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>, assert<span style="color: #707183;">(</span>clase<span style="color: #7388d6;">(</span>c,con<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- findall<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,voc<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, e<span style="color: #707183;">]</span>.

?- findall<span style="color: #707183;">(</span>_X,clase<span style="color: #7388d6;">(</span>_X,_Clase<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b, e, c<span style="color: #707183;">]</span>.

?- findall<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,vocal<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span>.

?- findall<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,a<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>c, b, c<span style="color: #707183;">]</span>.

?- findall<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>1,2,3<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgab8b474" class="outline-3">
<h3 id="orgab8b474"><span class="section-number-3">2.2.</span> Conjunto de todas las soluciones</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><p>
<code>setof(T,O,L)</code> se verifica si <code>L</code> es la lista ordenada sin repeticiones de las
instancias del término <code>T</code> que verifican el objetivo <code>O</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- setof<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,Clase<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Clase = con,
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span> ;
Clase = voc,
L = <span style="color: #707183;">[</span>a, e<span style="color: #707183;">]</span>.

?- setof<span style="color: #707183;">(</span>X,Y^clase<span style="color: #7388d6;">(</span>X,Y<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b, c, e<span style="color: #707183;">]</span>.

?- setof<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,vocal<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- setof<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,a<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span>.

?- setof<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>1,2,3<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org564473e" class="outline-3">
<h3 id="org564473e"><span class="section-number-3">2.3.</span> Multiconjunto de todas las soluciones</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li><p>
<code>bagof(T,O,L)</code> se verifica si <code>L</code> es el multiconjunto de las instancias del
término <code>T</code> que verifican el objetivo <code>O</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- bagof<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,Clase<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Clase = con,
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span> ;
Clase = voc,
L = <span style="color: #707183;">[</span>a, e<span style="color: #707183;">]</span>.

?- bagof<span style="color: #707183;">(</span>X,Y^clase<span style="color: #7388d6;">(</span>X,Y<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b, e, c<span style="color: #707183;">]</span>.

?- bagof<span style="color: #707183;">(</span>X,clase<span style="color: #7388d6;">(</span>X,vocal<span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- bagof<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,a<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>c, b, c<span style="color: #707183;">]</span>.

?- bagof<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,c<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>1,2,3<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org7b4579c" class="outline-3">
<h3 id="org7b4579c"><span class="section-number-3">2.4.</span> Operaciones conjuntistas</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>Nota: El código del programa que se desarrollará en esta sección se encuentra
en <a href="https://swish.swi-prolog.org/p/PLP_conjuntos.pl">conjuntos.pl</a>.</li>

<li><p>
<code>setof0(T,0,L)</code> es como <code>setof</code> salvo en el caso en que ninguna instancia de
<code>T</code> verifique <code>O</code>, en cuyo caso <code>L</code> es la lista vacía. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- setof0<span style="color: #707183;">(</span>X, <span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,a,b<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,b,d<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>b, c<span style="color: #707183;">]</span>.

?- setof0<span style="color: #707183;">(</span>X, <span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>c,a,b<span style="color: #709870;">]</span><span style="color: #909183;">)</span>,member<span style="color: #909183;">(</span>X,<span style="color: #709870;">[</span>e,f<span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">setof0</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">O</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :- setof<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">O</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>, <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">setof0</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>intersección(S,T,U)</code> se verifica si <code>U</code> es la intersección de <code>S</code> y <code>T</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- intersecci&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,4,2<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>2,3,4<span style="color: #7388d6;">]</span>,U<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
U = <span style="color: #707183;">[</span>2,4<span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">intersecci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">T</span>,<span style="color: #a0522d;">U</span><span style="color: #707183;">)</span> :-
   setof0<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>, <span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">S</span><span style="color: #909183;">)</span>, member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">T</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #a0522d;">U</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>unión(S,T,U)</code> se verifica si <code>U</code> es la unión de <code>S</code> y <code>T</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- uni&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2,4<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>2,3,4<span style="color: #7388d6;">]</span>,U<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
U = <span style="color: #707183;">[</span>1, 2, 3, 4<span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">uni&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">T</span>,<span style="color: #a0522d;">U</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>, <span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">S</span><span style="color: #909183;">)</span><span style="color: #a020f0;">;</span> member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">T</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>, <span style="color: #a0522d;">U</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>diferencia(S,T,U)</code> se verifica si <code>U</code> es la diferencia de los conjuntos de
<code>S</code> y <code>T</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- diferencia<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>5,1,2<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>2,3,4<span style="color: #7388d6;">]</span>,U<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
U = <span style="color: #707183;">[</span>1, 5<span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">diferencia</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">T</span>,<span style="color: #a0522d;">U</span><span style="color: #707183;">)</span> :-
   setof0<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">S</span><span style="color: #909183;">)</span>,not<span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">T</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">U</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>subconjunto(-L1,+L2)</code> se verifica si <code>L1</code> es un subconjunto de <code>L2</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- subconjunto<span style="color: #707183;">(</span>L,<span style="color: #7388d6;">[</span>a,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>a<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[</span>b<span style="color: #707183;">]</span> ;
L = <span style="color: #707183;">[]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">subconjunto</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   subconjunto<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>subconjuntos(X,L)</code> se verifica si <code>L</code> es el conjunto de las subconjuntos de <code>X</code>. Por
ejemplo, Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- subconjuntos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>, <span style="color: #7388d6;">[</span>a<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, b, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>a, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>b, c<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>c<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">subconjuntos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,subconjunto<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgc10eb42" class="outline-2">
<h2 id="orgc10eb42"><span class="section-number-2">3.</span> Procesamiento de términos</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org8ea8c9e" class="outline-3">
<h3 id="org8ea8c9e"><span class="section-number-3">3.1.</span> Transformación entre términos y listas:</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li><p>
<code>?T =.. ?L</code> se verifica si <code>L</code> es una lista cuyo primer elemento es el functor
del término <code>T</code> y los restantes elementos de <code>L</code> son los argumentos de
<code>T</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- padre<span style="color: #707183;">(</span>juan,luis<span style="color: #707183;">)</span> =.. L.
L = <span style="color: #707183;">[</span>padre, juan, luis<span style="color: #707183;">]</span>.

?- T =.. <span style="color: #707183;">[</span>padre, juan, luis<span style="color: #707183;">]</span>.
T = padre<span style="color: #707183;">(</span>juan,luis<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div></li>

<li><p>
<code>alarga(+F1,+N,-F2)</code> se verifica si <code>F1</code> y <code>F2</code> son figuras geométricas del
mismo tipo y el tamaño de la <code>F1</code> es el de la <code>F2</code> multiplicado por <code>N</code>, donde
las figuras geométricas se representan como términos en los que el functor
indica el tipo de figura y los argumentos su tamaño. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- alarga<span style="color: #707183;">(</span>tri&#225;ngulo<span style="color: #7388d6;">(</span>3,4,5<span style="color: #7388d6;">)</span>,2,F<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
F = tri&#225;ngulo<span style="color: #707183;">(</span>6, 8, 10<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

?- alarga<span style="color: #707183;">(</span>cuadrado<span style="color: #7388d6;">(</span>3<span style="color: #7388d6;">)</span>,2,F<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
F = cuadrado<span style="color: #707183;">(</span>6<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div>
<p>
Su definición (que está en <a href="https://swish.swi-prolog.org/p/PLP_alarga.pl">alarga.pl</a>) es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">alarga</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Figura1</span>,<span style="color: #a0522d;">Factor</span>,<span style="color: #a0522d;">Figura2</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Figura1</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">Tipo</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Arg1</span><span style="color: #707183;">]</span>,
   multiplica_lista<span style="color: #707183;">(</span><span style="color: #a0522d;">Arg1</span>,<span style="color: #a0522d;">Factor</span>,<span style="color: #a0522d;">Arg2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Figura2</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">Tipo</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Arg2</span><span style="color: #707183;">]</span>.

<span style="color: #0000ff;">multiplica_lista</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">multiplica_lista</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">F</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X2</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X2</span> is <span style="color: #a0522d;">X1</span>*<span style="color: #a0522d;">F</span>,
   multiplica_lista<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org37550b4" class="outline-3">
<h3 id="org37550b4"><span class="section-number-3">3.2.</span> Los procedimientos <code>functor</code> y <code>arg</code>:</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><code>functor(T,F,A)</code> se verifica si <code>F</code> es el functor del término <code>T</code> y <code>A</code> es su
aridad.</li>

<li><code>arg(N,T,A)</code> se verifica si <code>A</code> es el argumento del término <code>T</code> que ocupa el
lugar <code>N</code>.</li>

<li><p>
Ejemplo:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- functor<span style="color: #707183;">(</span>g<span style="color: #7388d6;">(</span>b,c,d<span style="color: #7388d6;">)</span>,F,A<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
F = g,
A = 3.

?- functor<span style="color: #707183;">(</span>T,g,2<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = g<span style="color: #707183;">(</span>_8362, _8364<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>

?- arg<span style="color: #707183;">(</span>2,g<span style="color: #7388d6;">(</span>b,c,d<span style="color: #7388d6;">)</span>,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = c.

?- functor<span style="color: #707183;">(</span>T,g,3<span style="color: #707183;">)</span>, arg<span style="color: #707183;">(</span>1,T,b<span style="color: #707183;">)</span>,arg<span style="color: #707183;">(</span>2,T,c<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = g<span style="color: #707183;">(</span>b, c, _1542<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7f83e28" class="outline-2">
<h2 id="org7f83e28"><span class="section-number-2">4.</span> Transformaciones entre átomos y listas</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgb5ed9aa" class="outline-3">
<h3 id="orgb5ed9aa"><span class="section-number-3">4.1.</span> La relación <code>name</code>:</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li><p>
<code>name(A,L)</code> se verifica si <code>L</code> es la lista de códigos ASCII de los caracteres
del átomo <code>A</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- name<span style="color: #707183;">(</span>bandera,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>98, 97, 110, 100, 101, 114, 97<span style="color: #707183;">]</span>.

?- name<span style="color: #707183;">(</span>A,<span style="color: #7388d6;">[</span>98, 97, 110, 100, 101, 114, 97<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
A = bandera.
</pre>
</div></li>

<li><p>
<code>concatena_átomos(A1,A2,A3)</code> se verifica si <code>A3</code> es la concatenación de los
átomos <code>A1</code> y <code>A2</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- concatena_&#225;tomos<span style="color: #707183;">(</span>pi,ojo,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = piojo
</pre>
</div>
<p>
Su definición (que está en <a href="https://swish.swi-prolog.org/p/PLP_concatena_atomos.pl">concatena_atomos.pl</a>) es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">concatena_&#225;tomos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">A1</span>,<span style="color: #a0522d;">A2</span>,<span style="color: #a0522d;">A3</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">A1</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">A2</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">A3</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6ee8169" class="outline-2">
<h2 id="org6ee8169"><span class="section-number-2">5.</span> Procedimientos aplicativos</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org45ab764" class="outline-3">
<h3 id="org45ab764"><span class="section-number-3">5.1.</span> El procedimiento <code>apply</code></h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li><p>
<code>apply(T,L)</code> se verifica si es demostrable <code>T</code> después de aumentar el número
de sus argumentos con los elementos de <code>L</code>; por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- plus<span style="color: #707183;">(</span>2,3,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5.

?- apply<span style="color: #707183;">(</span>plus,<span style="color: #7388d6;">[</span>2,3,X<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5.

?- apply<span style="color: #707183;">(</span>plus<span style="color: #7388d6;">(</span>2<span style="color: #7388d6;">)</span>,<span style="color: #7388d6;">[</span>3,X<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5.

?- apply<span style="color: #707183;">(</span>plus<span style="color: #7388d6;">(</span>2,3<span style="color: #7388d6;">)</span>,<span style="color: #7388d6;">[</span>X<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5.

?- apply<span style="color: #707183;">(</span>append<span style="color: #7388d6;">(</span><span style="color: #909183;">[</span>1,2<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>,<span style="color: #7388d6;">[</span>X,<span style="color: #909183;">[</span>1,2,3,4,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = <span style="color: #707183;">[</span>3, 4, 5<span style="color: #707183;">]</span>.
</pre>
</div></li>

<li><p>
Definición de <code>apply</code>:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">n_apply</span><span style="color: #707183;">(</span><span style="color: #a0522d;">T</span>&#233;rmino,<span style="color: #a0522d;">Lista</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">T</span>&#233;rmino =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">Pred</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Arg1</span><span style="color: #707183;">]</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">Arg1</span>,<span style="color: #a0522d;">Lista</span>,<span style="color: #a0522d;">Arg2</span><span style="color: #707183;">)</span>,
   &#193;tomo =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">Pred</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Arg2</span><span style="color: #707183;">]</span>,
   &#193;tomo.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgeb96c27" class="outline-3">
<h3 id="orgeb96c27"><span class="section-number-3">5.2.</span> El procedimientos <code>maplist</code></h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li><p>
<code>maplist(P,L1,L2)</code> se verifica si se cumple el predicado <code>P</code> sobre los
sucesivos pares de elementos de las listas <code>L1</code> y <code>L2</code>; por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- succ<span style="color: #707183;">(</span>2,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 3.

?- succ<span style="color: #707183;">(</span>X,3<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 2.

?- maplist<span style="color: #707183;">(</span>succ,<span style="color: #7388d6;">[</span>2,4<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>3,5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- maplist<span style="color: #707183;">(</span>succ,<span style="color: #7388d6;">[</span>0,4<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>3,5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- maplist<span style="color: #707183;">(</span>succ,<span style="color: #7388d6;">[</span>2,4<span style="color: #7388d6;">]</span>,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Y = <span style="color: #707183;">[</span>3, 5<span style="color: #707183;">]</span>.

?- maplist<span style="color: #707183;">(</span>succ,X,<span style="color: #7388d6;">[</span>3,5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = <span style="color: #707183;">[</span>2, 4<span style="color: #707183;">]</span>.
</pre>
</div></li>

<li><p>
Definición de <code>maplist</code>:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">n_maplist</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span> :- <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">n_maplist</span><span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X2</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   apply<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">X2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   n_maplist<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb700597" class="outline-2">
<h2 id="orgb700597"><span class="section-number-2">6.</span> Predicados sobre tipos de término</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li><p>
<code>var(T)</code> se verifica si <code>T</code> es una variable. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- var<span style="color: #707183;">(</span>X1<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
<code>atom(T)</code> se verifica si <code>T</code> es un átomo. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- atom<span style="color: #707183;">(</span>&#225;tomo<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
<code>number(T)</code> se verifica si <code>T</code> es un número. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- number<span style="color: #707183;">(</span>123<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- number<span style="color: #707183;">(</span>-25.14<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
<code>compound(T)</code> se verifica si <code>T</code> es un término compuesto. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- compound<span style="color: #707183;">(</span>f<span style="color: #7388d6;">(</span>X,a<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- compound<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
<code>atomic(T)</code> se verifica si <code>T</code> es una variable, átomo, cadena o número. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- atomic<span style="color: #707183;">(</span>&#225;tomo<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- atomic<span style="color: #707183;">(</span>123<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div></li>

<li><p>
<code>suma_segura(X,Y,Z)</code> se verifica si <code>X</code> e <code>Y</code> son enteros y <code>Z</code> es la suma de
<code>X</code> e <code>Y</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- suma_segura<span style="color: #707183;">(</span>2,3,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5
Yes
?- suma_segura<span style="color: #707183;">(</span>7,a,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
No
?- X is 7 + a.
% <span style="color: #707183;">[</span>WARNING: Arithmetic: <span style="color: #ff00ff;">`a' is not a function]</span>
</pre>
</div>
<p>
Su definición (que está en <a href="https://swish.swi-prolog.org/p/PLP_suma_segura.pl">suma_segura.pl</a>) es:
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">suma_segura</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span><span style="color: #707183;">)</span> :-
   number<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>,
   number<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Z</span> is <span style="color: #a0522d;">X</span>+<span style="color: #a0522d;">Y</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgfad826e" class="outline-2">
<h2 id="orgfad826e"><span class="section-number-2">7.</span> Comparación y ordenación de términos</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org4aa7da3" class="outline-3">
<h3 id="org4aa7da3"><span class="section-number-3">7.1.</span> Comparación de términos:</h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li><code>T1 = T2</code> se verifica si <code>T1</code> y <code>T2</code> son unificables.</li>

<li><code>T1 == T2</code> se verifica si <code>T1</code> y <code>T2</code> son idénticos.</li>

<li><code>T1</code> \== T2~ se verifica si <code>T1</code> y <code>T2</code> no son idénticos.</li>

<li><p>
Ejemplos:
</p>
<div class="org-src-container">
<pre class="src src-shell">?- f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span> = f<span style="color: #707183;">(</span>Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = Y.

?- f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span> == f<span style="color: #707183;">(</span>Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.

?- f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span> == f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span> <span style="color: #8b2252;">\=</span>= f<span style="color: #707183;">(</span>X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div></li>

<li><p>
<code>cuenta(A,L,N)</code> se verifica si <code>N</code> es el número de ocurrencias del átomo <code>A</code>
en la lista <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- cuenta<span style="color: #707183;">(</span>a,<span style="color: #7388d6;">[</span>a,b,a,a<span style="color: #7388d6;">]</span>,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 3.

?- cuenta<span style="color: #707183;">(</span>a,<span style="color: #7388d6;">[</span>a,b,X,Y<span style="color: #7388d6;">]</span>,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 1.
</pre>
</div>
<p>
Su definición (que está en <a href="https://swish.swi-prolog.org/p/PLP_cuenta.pl">cuenta.pl</a>) es:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span>_,<span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span> :- !.
<span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span>A,<span style="color: #7388d6;">[</span>B|L<span style="color: #7388d6;">]</span>,N<span style="color: #707183;">)</span> :-
   A == B, !,
   cuenta<span style="color: #707183;">(</span>A,L,M<span style="color: #707183;">)</span>,
   N is M+1.
<span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span>A,<span style="color: #7388d6;">[</span>_B|L<span style="color: #7388d6;">]</span>,N<span style="color: #707183;">)</span> :-
   % A <span style="color: #8b2252;">\=</span>= _B,
   cuenta<span style="color: #707183;">(</span>A,L,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org792efe0" class="outline-3">
<h3 id="org792efe0"><span class="section-number-3">7.2.</span> Ordenación de términos:</h3>
<div class="outline-text-3" id="text-7-2">
<ul class="org-ul">
<li><p>
<code>T1 @&lt; T2</code> se verifica si el término <code>T1</code> es anterior que <code>T2</code> en el orden de
términos de Prolog.
</p>
<div class="org-src-container">
<pre class="src src-shell">?- ab @&lt; ac.
true.

?- 21 @&lt; 123.
true.

?- 12 @&lt; a.
true.

?- g @&lt; f<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- f<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span> @&lt; f<span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- <span style="color: #707183;">[</span>a,1<span style="color: #707183;">]</span> @&lt; <span style="color: #707183;">[</span>a,3<span style="color: #707183;">]</span>.
true.
</pre>
</div></li>

<li><p>
<code>sort(+L1,-L2)</code> se verifica si <code>L2</code> es la lista obtenida ordenando de manera
creciente los distintos elementos de <code>L1</code> y eliminando las repeticiones.
</p>
<div class="org-src-container">
<pre class="src src-shell">?- sort<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>c4,2,a5,2,c3,a5,2,a5<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2, a5, c3, c4<span style="color: #707183;">]</span>.
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org730c33c" class="outline-2">
<h2 id="org730c33c"><span class="section-number-2">8.</span> Ejercicios</h2>
<div class="outline-text-2" id="text-8">
<p>
<b>Nota</b>: El código con las soluciones de los siguientes ejercicios de encuentra en
<a href="https://swish.swi-prolog.org/p/PLP_ejercicios-tema-5.pl">SWISH</a> y en <a href="https://github.com/jaalonso/Ejercicios-Prolog/blob/main/src/ejercicios-tema-5.pl">GitHub</a>.
</p>
</div>

<div id="outline-container-orgeb887b0" class="outline-3">
<h3 id="orgeb887b0"><span class="section-number-3">8.1.</span> Lista de los divisores de un número</h3>
<div class="outline-text-3" id="text-8-1">
<hr />
<p>
<b>Ejercicio 1.</b> Definir la relación <code>divisores(+N,-L)</code> que se verifica si <code>L</code> es
la lista de los divisores del número <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- divisores<span style="color: #707183;">(</span>24,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 4, 6, 8, 12, 24<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">divisores</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>between<span style="color: #709870;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #709870;">)</span>, <span style="color: #a0522d;">N</span> mod <span style="color: #a0522d;">X</span> =:= 0<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc65d5df" class="outline-3">
<h3 id="orgc65d5df"><span class="section-number-3">8.2.</span> Reconocimiento de números primos</h3>
<div class="outline-text-3" id="text-8-2">
<hr />
<p>
<b>Ejercicio 2.</b> En los apartados de este ejercicio se darán distintas
definiciones de la relación <code>primo(+N)</code> que se verifica si <code>N</code> es un número
primo. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">
?- primo<span style="color: #707183;">(</span>7<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Yes
?- primo<span style="color: #707183;">(</span>9<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
No
</pre>
</div>
<hr />

<hr />
<p>
<b>Ejercicio 2.1.</b> Definir <code>primo(X)</code> que se verifica si el número de divisores de
<code>X</code> es menor que 3 [Usar la definición anterior de ~divisores~].
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primo</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   divisores<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N</span> &lt; 3.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.2.</b> Definir <code>primo(X)4 que se verifica si no hay ningún número entre
2 y la raiz cuadrada de ~X</code> que sea un divisor de <code>X</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primo_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> is floor<span style="color: #707183;">(</span>sqrt<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>2,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span><span style="color: #909183;">)</span>, <span style="color: #a0522d;">X</span> mod <span style="color: #a0522d;">Z</span> =:= 0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.3.</b> Definir <code>primo(X)</code> que se verifica si no hay ningún número entre
2 y la raiz cuadrada de <code>X</code> que sea primo y divida a <code>X</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primo_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> is floor<span style="color: #707183;">(</span>sqrt<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>2,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span><span style="color: #909183;">)</span>, primo_3<span style="color: #909183;">(</span><span style="color: #a0522d;">Z</span><span style="color: #909183;">)</span>, <span style="color: #a0522d;">X</span> mod <span style="color: #a0522d;">Z</span> =:= 0<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
La comparación de eficiencia es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- time<span style="color: #707183;">(</span>primo<span style="color: #7388d6;">(</span>15485867<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 30,971,750 inferences, 2.074 CPU<span style="color: #a020f0;"> in</span> 2.075 seconds <span style="color: #707183;">(</span>100% CPU, 14929796 Lips<span style="color: #707183;">)</span>
true.

?- time<span style="color: #707183;">(</span>primo_2<span style="color: #7388d6;">(</span>15485867<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 7,872 inferences, 0.003 CPU<span style="color: #a020f0;"> in</span> 0.003 seconds <span style="color: #707183;">(</span>100% CPU, 2948049 Lips<span style="color: #707183;">)</span>
true.

?- time<span style="color: #707183;">(</span>primo_3<span style="color: #7388d6;">(</span>15485867<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 589,106 inferences, 0.085 CPU<span style="color: #a020f0;"> in</span> 0.085 seconds <span style="color: #707183;">(</span>100% CPU, 6947773 Lips<span style="color: #707183;">)</span>
true.
</pre>
</div>
</div>
</div>

<div id="outline-container-org97cd200" class="outline-3">
<h3 id="org97cd200"><span class="section-number-3">8.3.</span> Generación de números primos</h3>
<div class="outline-text-3" id="text-8-3">
<hr />
<p>
<b>Ejercicio 3.1.</b> Se considera el siguiente polinomio p(X)=X^2-X+41. Definir la
relación <code>genera_primo(+X,+Y,-L)</code> que se verifica si <code>L</code> es el conjunto de los
pares <code>(A,p(A))</code> tales <code>A</code> es un número del intervalo <code>[X,Y]</code> y <code>p(A)</code> es
primo. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- genera_primo<span style="color: #707183;">(</span>5,7,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>5, 61<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>6, 71<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>7, 83<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">genera_primo</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>between<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">A</span><span style="color: #709870;">)</span>, <span style="color: #a0522d;">B</span> is <span style="color: #a0522d;">A</span>^2-<span style="color: #a0522d;">A</span>+41, primo<span style="color: #709870;">(</span><span style="color: #a0522d;">B</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 3.2.</b> Comprobar que <code>p(A)</code> es primo para <code>A</code> desde 1 hasta 40, pero
no es primo para A=41.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-shell">?- genera_primo<span style="color: #707183;">(</span>1,40,_L<span style="color: #707183;">)</span>, length<span style="color: #707183;">(</span>_L,40<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- genera_primo<span style="color: #707183;">(</span>41,41,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org8244c31" class="outline-3">
<h3 id="org8244c31"><span class="section-number-3">8.4.</span> Números amigos</h3>
<div class="outline-text-3" id="text-8-4">
<hr />
<p>
<b>Ejercicio 4.1.</b> Definir la relación <code>divisores_propios(+N,-L)</code> que se
verifique si <code>L</code> es la lista ordenada de los divisores propios del
número <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- divisores_propios<span style="color: #707183;">(</span>42,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 6, 7, 14, 21<span style="color: #707183;">]</span> 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">divisores_propios</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span> -1,
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>1,<span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">X</span><span style="color: #909183;">)</span>, 0 =:= <span style="color: #a0522d;">N</span> mod <span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 4.2.</b> Se dice que dos números <code>X</code> e <code>Y</code> son amigos cuando <code>X</code> es igual
a la suma de los divisores de <code>Y</code> (exceptuando al propio <code>Y</code>) y viceversa. Por
ejemplo, 6 es amigo de sí mismo puesto que los divisores de 6 (exceptuando al 6)
son 1, 2 y 3 y 6=1+2+3. Igualmente 28 es amigo de sí mismo, puesto que 28=1+2+4+7+14.
</p>

<p>
Definir la relación <code>amigos(+A,+B,-L)</code> que se verifica si <code>L</code> es la lista de las
parejas de números amigos comprendidos entre <code>A</code> y <code>B4, con ~A</code> menor o igual que
<code>B</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- amigos<span style="color: #707183;">(</span>1,2000,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>6-6, 28-28, 220-284, 496-496, 1184-1210<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">amigos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>, <span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>between<span style="color: #709870;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">X</span><span style="color: #709870;">)</span>,
                  divisores_propios<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Dx</span><span style="color: #709870;">)</span>,
                  sumlist<span style="color: #709870;">(</span><span style="color: #a0522d;">Dx</span>,<span style="color: #a0522d;">Y</span><span style="color: #709870;">)</span>,
                  between<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">Y</span><span style="color: #709870;">)</span>,
                  divisores_propios<span style="color: #709870;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Dy</span><span style="color: #709870;">)</span>,
                  sumlist<span style="color: #709870;">(</span><span style="color: #a0522d;">Dy</span>,<span style="color: #a0522d;">X</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d06a6e" class="outline-3">
<h3 id="org1d06a6e"><span class="section-number-3">8.5.</span> Transformación de listas en conjuntos</h3>
<div class="outline-text-3" id="text-8-5">
<hr />
<p>
<b>Ejercicio 5.</b> Definir la relación <code>lista_a_conjunto(+L,-C)</code> que se verifica si
<code>C</code> es el conjunto de los elementos de la lista no vacía <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- lista_a_conjunto<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b,c,d,a,c,f,a<span style="color: #7388d6;">]</span>,C<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
C = <span style="color: #707183;">[</span>a, b, c, d, f<span style="color: #707183;">]</span>
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">lista_a_conjunto</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,member<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org57dcaef" class="outline-3">
<h3 id="org57dcaef"><span class="section-number-3">8.6.</span> Todos los elementos cumple una propiedad</h3>
<div class="outline-text-3" id="text-8-6">
<hr />
<p>
<b>Ejercicio 6.</b> Definir la relación <code>para_todos(+P,+L)</code> que se verifica si todos
los elementos de la lista <code>L</code> cumplen la propiedad <code>P</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- para_todos<span style="color: #707183;">(</span>number,<span style="color: #7388d6;">[</span>1,2,3<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true
?- para_todos<span style="color: #707183;">(</span>number,<span style="color: #7388d6;">[</span>1,2,3,a<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">para_todos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">para_todos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   apply<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   para_todos<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org057a27e" class="outline-3">
<h3 id="org057a27e"><span class="section-number-3">8.7.</span> Algún elemento cumple una propiedad</h3>
<div class="outline-text-3" id="text-8-7">
<hr />
<p>
<b>Ejercicio 7.</b> Definir la relación <code>existe(+P,+L)</code> que se verifica si existe
algún elemento de la lista <code>L</code> que cumple la propiedad <code>P</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- existe<span style="color: #707183;">(</span>number,<span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
?- existe<span style="color: #707183;">(</span>number,<span style="color: #7388d6;">[</span>a,1,b,c<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">existe</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   apply<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>, <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">existe</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   existe<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4a2fb6" class="outline-3">
<h3 id="orgc4a2fb6"><span class="section-number-3">8.8.</span> Sublistas de elementos que verifican una propiedad</h3>
<div class="outline-text-3" id="text-8-8">
<hr />
<p>
<b>Ejercicio 8.</b> Definir la relación <code>sublista(+P,+L1,?L2)</code> que se verifica si <code>L2</code>
es la lista de los elementos de <code>L1</code> que verifican la propiedad <code>P</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- sublista<span style="color: #707183;">(</span>number,<span style="color: #7388d6;">[</span>1,a,2,b,1<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 1<span style="color: #707183;">]</span>
</pre>
</div>

<p>
<i>Nota:</i> La relación predefinida correspondiente a <code>sublista</code> es <code>include</code>.
</p>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sublista</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_P</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sublista</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Q</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">]</span>,
   <span style="color: #a0522d;">Q</span>,
   sublista<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sublista</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Q</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">]</span>,
   \+ <span style="color: #a0522d;">Q</span>,
   sublista<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sublista_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_P</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sublista_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Q</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">]</span>,
   <span style="color: #a0522d;">Q</span>, <span style="color: #a020f0;">!</span>,
   sublista_2<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sublista_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">_X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">Q =.. [P,_X],</span>
   <span style="color: #b22222;">% </span><span style="color: #b22222;">\+ Q,</span>
   sublista_2<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>3ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sublista_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span><span style="color: #909183;">)</span>,apply<span style="color: #909183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #709870;">[</span><span style="color: #a0522d;">X</span><span style="color: #709870;">]</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>4ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sublista_4</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sublista_4</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Xs</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Ys</span><span style="color: #707183;">)</span> :-
   <span style="color: #707183;">(</span>   call<span style="color: #7388d6;">(</span><span style="color: #a0522d;">P</span>, <span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span>
   <span style="color: #a020f0;">-&gt;</span>  <span style="color: #a0522d;">Ys</span> = <span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span> <span style="color: #a020f0;">|</span> <span style="color: #a0522d;">Zs</span><span style="color: #7388d6;">]</span>
   <span style="color: #a020f0;">;</span>   <span style="color: #a0522d;">Ys</span> = <span style="color: #a0522d;">Zs</span>
   <span style="color: #707183;">)</span>,
   sublista_4<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>, <span style="color: #a0522d;">Xs</span>, <span style="color: #a0522d;">Zs</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8b1e17" class="outline-3">
<h3 id="orga8b1e17"><span class="section-number-3">8.9.</span> Rotaciones de una lista</h3>
<div class="outline-text-3" id="text-8-9">
<hr />
<p>
<b>Ejercicio 9.</b> Definir la relación <code>rotaciones(L1,L2)</code> que se verifica si <code>L2</code>
es la lista cuyos elementos son las listas formadas por las sucesivas rotaciones
de los elementos de la lista <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- rotaciones<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2,3,4<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>1, 2, 3, 4<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>2, 3, 4, 1<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>3, 4, 1, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>4, 1, 2, 3<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>.
?- rotaciones<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>2,3,4,1<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>2, 3, 4, 1<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>3, 4, 1, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>4, 1, 2, 3<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>1, 2, 3, 4<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">rotaciones</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,es_rotacion<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">es_rotacion</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>  :-
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L4</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L4</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">rotaciones_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,
           <span style="color: #7388d6;">(</span>append<span style="color: #909183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #709870;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L4</span><span style="color: #709870;">]</span>,<span style="color: #a0522d;">L1</span><span style="color: #909183;">)</span>,append<span style="color: #909183;">(</span><span style="color: #709870;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L4</span><span style="color: #709870;">]</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8d557c" class="outline-3">
<h3 id="orgb8d557c"><span class="section-number-3">8.10.</span> Lista de números capicúas en un intervalo</h3>
<div class="outline-text-3" id="text-8-10">
<hr />
<p>
<b>Ejercicio 10.</b> Definir la relación <code>capicúas(N,L)</code> que se verifica si <code>L</code> es la
listas de los números enteros positivos capicúa menores que <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- capic&#250;as<span style="color: #707183;">(</span>100,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 4, 5, 6, 7, 8, 9|...<span style="color: #707183;">]</span>.

?- set_prolog_flag<span style="color: #707183;">(</span>answer_write_options, <span style="color: #7388d6;">[</span>quoted<span style="color: #909183;">(</span>true<span style="color: #909183;">)</span>, portray<span style="color: #909183;">(</span>true<span style="color: #909183;">)</span>, max_depth<span style="color: #909183;">(</span>100<span style="color: #909183;">)</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- capic&#250;as<span style="color: #707183;">(</span>100,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1,2,3,4,5,6,7,8,9,11,22,33,44,55,66,77,88,99<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">capic&#250;as</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #909183;">)</span>,es_capic&#250;a<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">es_capic&#250;a</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org9077af8" class="outline-3">
<h3 id="org9077af8"><span class="section-number-3">8.11.</span> Palabra inversa</h3>
<div class="outline-text-3" id="text-8-11">
<hr />
<p>
<b>Ejercicio 11.</b> Definir la relación <code>invierte_palabra(P1,P2)</code> que se verifica si
<code>P2</code> es la palabra formada invirtiendo el orden de las letras de <code>P1</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- invierte_palabra<span style="color: #707183;">(</span>arroz,P<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
P = zorra.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">invierte_palabra</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span><span style="color: #707183;">)</span> :-
    name<span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
    reverse<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
    name<span style="color: #707183;">(</span><span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf67867a" class="outline-3">
<h3 id="orgf67867a"><span class="section-number-3">8.12.</span> Determinación de un número por su factorial</h3>
<div class="outline-text-3" id="text-8-12">
<hr />
<p>
<b>Ejercicio 12.</b> Definir la relación <code>factorial_inverso(+X,-N)</code> que se
verifique si <code>X</code> es el factorial de <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- factorial_inverso<span style="color: #707183;">(</span>120,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 5 ;
false.
?- factorial_inverso<span style="color: #707183;">(</span>80,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
false.
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   factorial_inverso_1_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,1,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>factorial_inverso_1_aux(+X,+A,-N)</code> se verifica si <code>N</code> es el menor número
mayor o igual que <code>A</code> cuyo factorial es <code>X</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_1_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">A</span><span style="color: #707183;">)</span> :-
   factorial<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">factorial_inverso_1_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   factorial<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">N1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N1</span> &lt; <span style="color: #a0522d;">X</span>,
   <span style="color: #a0522d;">A1</span> is <span style="color: #a0522d;">A</span> + 1,
   factorial_inverso_1_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A1</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>


<ul class="org-ul">
<li><p>
<code>factorial(+N,-X)</code> se verifica si <code>X</code> es el factorial de <code>N</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial</span><span style="color: #707183;">(</span>1,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">factorial</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 1,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   factorial<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">X</span> is <span style="color: #a0522d;">X1</span> * <span style="color: #a0522d;">N</span>.
</pre>
</div></li>
</ul>

<p>
<b>2ª solución (con memorización)</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   factorial_inverso_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,1,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>factorial_inverso_2_aux(+X,+A,-N)</code> se verifica si <code>N</code> es el menor número
mayor o igual que <code>A</code> cuyo factorial (con memoria) es <code>X</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_2_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">A</span><span style="color: #707183;">)</span> :-
   factorial_con_memoria<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">factorial_inverso_2_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   factorial_con_memoria<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">N1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N1</span> &lt; <span style="color: #a0522d;">X</span>,
   <span style="color: #a0522d;">C1</span> is <span style="color: #a0522d;">A</span> + 1,
   factorial_inverso_2_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">C1</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>factorial_con_memoria(+N,-X)</code> se verifica si <code>X</code> es el factorial de
<code>N</code>. Además almacena en la base de datos internas los factoriales
calculados.
</p>
<div class="org-src-container">
<pre class="src src-prolog">:- <span style="color: #483d8b;">dynamic</span> <span style="color: #0000ff;">factorial_con_memoria/2</span>.

<span style="color: #0000ff;">factorial_con_memoria</span><span style="color: #707183;">(</span>1,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">factorial_con_memoria</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">N</span> &gt; 1,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   factorial_con_memoria<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">X</span> is <span style="color: #a0522d;">X1</span> * <span style="color: #a0522d;">N</span>,
   asserta<span style="color: #707183;">(</span>factorial_con_memoria<span style="color: #7388d6;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #7388d6;">)</span> :- <span style="color: #a020f0;">!</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
<b>3ª solución (con dos acumuladores)</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   factorial_inverso_aux_3<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,1,1,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>factorial_inverso_aux_3(+X,+A,+F,-N)</code> se verifica si <code>X = A*(A+1)*...*N</code>
(de forma que si <code>A = 1</code> entonces <code>X = N!</code>).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">factorial_inverso_aux_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">A</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">A</span>*<span style="color: #a0522d;">F</span> =:= <span style="color: #a0522d;">X</span>.
<span style="color: #0000ff;">factorial_inverso_aux_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">F1</span> is <span style="color: #a0522d;">A</span>*<span style="color: #a0522d;">F</span>,
   <span style="color: #a0522d;">F1</span> &lt; <span style="color: #a0522d;">X</span>, <span style="color: #a020f0;">!</span>,
   <span style="color: #a0522d;">A1</span> is <span style="color: #a0522d;">A</span> + 1,
   factorial_inverso_aux_3<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">A1</span>,<span style="color: #a0522d;">F1</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
<b>Comparación de eficiencia</b>
</p>

<p>
La comparación es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- factorial<span style="color: #707183;">(</span>2000,_X<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>factorial_inverso_1<span style="color: #7388d6;">(</span>_X,_N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 11,997,999 inferences, 2.921 CPU<span style="color: #a020f0;"> in</span> 2.925 seconds <span style="color: #707183;">(</span>100% CPU, 4106828 Lips<span style="color: #707183;">)</span>
true 
?- factorial<span style="color: #707183;">(</span>2000,_X<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>factorial_inverso_2<span style="color: #7388d6;">(</span>_X,_N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 13,993 inferences, 0.004 CPU<span style="color: #a020f0;"> in</span> 0.004 seconds <span style="color: #707183;">(</span>100% CPU, 3832958 Lips<span style="color: #707183;">)</span>
true 
?- factorial<span style="color: #707183;">(</span>2000,_X<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>factorial_inverso_3<span style="color: #7388d6;">(</span>_X,_N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 7,997 inferences, 0.009 CPU<span style="color: #a020f0;"> in</span> 0.009 seconds <span style="color: #707183;">(</span>100% CPU, 877368 Lips<span style="color: #707183;">)</span>
true 

?- factorial<span style="color: #707183;">(</span>4000,_X<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>factorial_inverso_2<span style="color: #7388d6;">(</span>_X,_N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 35,993 inferences, 0.035 CPU<span style="color: #a020f0;"> in</span> 0.035 seconds <span style="color: #707183;">(</span>100% CPU, 1035996 Lips<span style="color: #707183;">)</span>
true 
?- factorial<span style="color: #707183;">(</span>4000,_X<span style="color: #707183;">)</span>, time<span style="color: #707183;">(</span>factorial_inverso_3<span style="color: #7388d6;">(</span>_X,_N<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 15,997 inferences, 0.022 CPU<span style="color: #a020f0;"> in</span> 0.022 seconds <span style="color: #707183;">(</span>100% CPU, 716325 Lips<span style="color: #707183;">)</span>
true 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb36aa1" class="outline-3">
<h3 id="orgbb36aa1"><span class="section-number-3">8.13.</span> Nodos de una generación en una lista de árboles binarios</h3>
<div class="outline-text-3" id="text-8-13">
<hr />
<p>
<b>Ejercicio 13.</b> Un árbol binario es vacío o consta de tres partes: la
raíz (que debe de ser un número positivo), el subárbol izquierdo (que
debe ser un árbol binario) y el subárbol derecho (que debe ser un árbol
binario). Usaremos la siguiente representación
</p>
<ul class="org-ul">
<li><code>nil</code> representa el árbol vacío</li>
<li><code>t(I,R,D)</code> representa el árbol de la raíz <code>R</code>, subárbol izquierdo <code>I</code> y
subárbol derecho <code>D</code>.</li>
</ul>
<p>
Por ejemplo, <code>t(t(nil,2,nil),1,t(t(nil,4,nil),3,nil))</code> representa el árbol
</p>
<div class="org-src-container">
<pre class="src src-txt">   1                                   
 /   \                                 
2     3                                
     /                                 
    4                                  
</pre>
</div>

<p>
Definir la relación <code>generación(+N,+L1,-L2)</code> que se verifique si <code>L2</code> es
la lista de nodos de la generación <code>N</code> de la lista de árboles <code>L1</code>. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- generaci&#243;n<span style="color: #707183;">(</span>0,<span style="color: #7388d6;">[</span>t<span style="color: #909183;">(</span>t<span style="color: #709870;">(</span>nil,2,nil<span style="color: #709870;">)</span>,3,nil<span style="color: #909183;">)</span>,t<span style="color: #909183;">(</span>nil,4,t<span style="color: #709870;">(</span>nil,5,nil<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>3, 4<span style="color: #707183;">]</span> 
?- generaci&#243;n<span style="color: #707183;">(</span>1,<span style="color: #7388d6;">[</span>t<span style="color: #909183;">(</span>t<span style="color: #709870;">(</span>nil,2,nil<span style="color: #709870;">)</span>,3,nil<span style="color: #909183;">)</span>,t<span style="color: #909183;">(</span>nil,4,t<span style="color: #709870;">(</span>nil,5,nil<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2, 5<span style="color: #707183;">]</span> 
?- generaci&#243;n<span style="color: #707183;">(</span>2,<span style="color: #7388d6;">[</span>t<span style="color: #909183;">(</span>t<span style="color: #709870;">(</span>nil,2,nil<span style="color: #709870;">)</span>,3,nil<span style="color: #909183;">)</span>,t<span style="color: #909183;">(</span>nil,4,t<span style="color: #709870;">(</span>nil,5,nil<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span> 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">generaci&#243;n</span><span style="color: #707183;">(</span>0,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">G</span><span style="color: #707183;">)</span>:-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,member<span style="color: #7388d6;">(</span>t<span style="color: #909183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">_</span><span style="color: #909183;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">G</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">generaci&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">G</span><span style="color: #707183;">)</span>:-
   <span style="color: #a0522d;">N</span> &gt; 0,
   elimina_raices<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>-1,
   generaci&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">G</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>elimina_raices(+L1,-L2)</code> se verifica si <code>L2</code> es la lista de los
árboles obtenidos de la lista de árboles <code>L1</code> eliminando sus
raices. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- elimina_raices<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>t<span style="color: #909183;">(</span>t<span style="color: #709870;">(</span>nil,2,nil<span style="color: #709870;">)</span>,3,nil<span style="color: #909183;">)</span>,t<span style="color: #909183;">(</span>nil,4,t<span style="color: #709870;">(</span>nil,5,nil<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>t<span style="color: #7388d6;">(</span>nil, 2, nil<span style="color: #7388d6;">)</span>, nil, nil, t<span style="color: #7388d6;">(</span>nil, 5, nil<span style="color: #7388d6;">)</span><span style="color: #707183;">]</span> 
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">elimina_raices</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">elimina_raices</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>nil<span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>:-
   elimina_raices<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">elimina_raices</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>t<span style="color: #909183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">D</span><span style="color: #909183;">)</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">I</span>,<span style="color: #a0522d;">D</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>:-
   elimina_raices<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc6a378e" class="outline-3">
<h3 id="orgc6a378e"><span class="section-number-3">8.14.</span> Lista de elementos únicos</h3>
<div class="outline-text-3" id="text-8-14">
<hr />
<p>
<b>Ejercicio 14.</b> Definir la relación <code>únicos(+L1,-L2)</code> que se verifique
si <code>L2</code> es la lista de los elementos que ocurren solamente una vez en la
lista <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- &#250;nicos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>2,5,3,2<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>5, 3<span style="color: #707183;">]</span> 
?- &#250;nicos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>2,5,5,2<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[]</span> 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#250;nicos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,es_&#250;nico<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>es_único(?X,+L)</code> se verifica si <code>X</code> es un elemento que ocurre
solamente una vez en la lista <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- es_&#250;nico<span style="color: #707183;">(</span>X,<span style="color: #7388d6;">[</span>2,5,3,2<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 5 ;
X = 3 ;
false.
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">es_&#250;nico</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">R</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>memberchk<span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">R</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org10041c1" class="outline-3">
<h3 id="org10041c1"><span class="section-number-3">8.15.</span> Elementos más frecuentes de una lista</h3>
<div class="outline-text-3" id="text-8-15">
<hr />
<p>
<b>Ejercicio 15.</b> Definir el predicado <code>populares(L1,L2)</code> que se verifique
si <code>L2</code> es la lista de los elementos de <code>L1</code> que aparecen el mayor
número de veces. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- populares<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>rosa,juan,david,manu,rosa,nuria,david<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>david,rosa<span style="color: #707183;">]</span>
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">populares</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   setof<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,
         <span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span><span style="color: #709870;">)</span>,
           cuenta<span style="color: #709870;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N1</span><span style="color: #709870;">)</span>,
           not<span style="color: #709870;">(</span><span style="color: #907373;">(</span>member<span style="color: #6276ba;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L1</span><span style="color: #6276ba;">)</span>,
                cuenta<span style="color: #6276ba;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N2</span><span style="color: #6276ba;">)</span>,
                <span style="color: #a0522d;">N1</span> &lt; <span style="color: #a0522d;">N2</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
         <span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>cuenta(+X,+L,-N)</code> se verifica si <code>N</code> es el número de veces que
aparece el elemento <code>X</code> en la lista <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- cuenta<span style="color: #707183;">(</span>d,<span style="color: #7388d6;">[</span>r,j,d,m,r,n,d<span style="color: #7388d6;">]</span>,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 2
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">A</span> == <span style="color: #a0522d;">B</span>, <span style="color: #a020f0;">!</span>,
   cuenta<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N</span> is <span style="color: #a0522d;">M</span>+1.
<span style="color: #0000ff;">cuenta</span><span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">_B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">A \== _B,</span>
   cuenta<span style="color: #707183;">(</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org68b3ccc" class="outline-3">
<h3 id="org68b3ccc"><span class="section-number-3">8.16.</span> El problema 3n+1</h3>
<div class="outline-text-3" id="text-8-16">
<hr />
<p>
<b>Ejercicio 16.1.</b> Consideremos la función siguiente definida sobre los
números naturales: 
f(x) = 3x + 1, si x es impar;
       x / 2,  si x es par
</p>

<p>
Definir la relación <code>sucesión(+X,?L)</code> que se verifique si <code>L</code> es la
lista de los elementos <code>X, f(X), f(f(X)), ..., f^n(X)</code> tal que
<code>f^n(X) = 1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- sucesi&#243;n<span style="color: #707183;">(</span>3,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>3, 10, 5, 16, 8, 4, 2, 1<span style="color: #707183;">]</span>
</pre>
</div>
<p>
Se dice que <code>L</code> es la <b>sucesión generada por</b> X.
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">f</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X</span> mod 2 =:= 0, <span style="color: #a020f0;">!</span>,
   <span style="color: #a0522d;">Y</span> is <span style="color: #a0522d;">X</span>/2.
<span style="color: #0000ff;">f</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">X mod 2 =/= 0,</span>
   <span style="color: #a0522d;">Y</span> is 3*<span style="color: #a0522d;">X</span>+1.

<span style="color: #0000ff;">sucesi&#243;n</span><span style="color: #707183;">(</span>1,<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :- <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">sucesi&#243;n</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">X =/= 1,</span>
   f<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>,
   sucesi&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 16.2.</b> Definir la relación <code>longitudes(+X,?L)</code> que se
verifique si <code>L</code> la lista de pares <code>Y-N</code> donde <code>Y</code> es un número de <code>1</code> a
<code>X</code> y <code>N</code> es la longitud de sucesión generada por <code>Y</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- longitudes<span style="color: #707183;">(</span>5,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1-1, 2-2, 3-8, 4-3, 5-6<span style="color: #707183;">]</span> 
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">longitudes</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   longitudes_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">longitudes_aux</span><span style="color: #707183;">(</span>1,<span style="color: #7388d6;">[</span>1-<span style="color: #a0522d;">N</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a020f0;">!</span>,
   sucesi&#243;n<span style="color: #707183;">(</span>1,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">longitudes_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">X &gt; 1,</span>
   sucesi&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">Y</span> is <span style="color: #a0522d;">X</span>-1,
   longitudes_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">longitudes_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>1,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #909183;">)</span>,sucesi&#243;n<span style="color: #909183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">S</span><span style="color: #909183;">)</span>,length<span style="color: #909183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">N</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 16.3.</b> Definir la relación <code>longitud_máx(+X,?P)</code> que se
verifica si <code>P</code> es un par de la forma <code>Y-N4 donde ~Y</code> es un número entre
<code>1</code> y <code>X</code> tal que la longitud de la sucesión generada por <code>Y</code> es la más
larga de las sucesiones generadas por <code>1, 2, ..., X</code> y <code>N</code> es la
longitud de dicha sucesión. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- longitud_m&#225;x<span style="color: #707183;">(</span>10,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = 9-20
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">longitud_m&#225;x</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   longitudes<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   \+ <span style="color: #707183;">(</span>member<span style="color: #7388d6;">(</span><span style="color: #a0522d;">_Z</span>-<span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">L</span><span style="color: #7388d6;">)</span>, <span style="color: #a0522d;">M</span> &gt; <span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 16.4.</b> Definir menor_que_~genera_mayor(+N,-M)~ que se
verifique si <code>M</code> es el menor número natural tal que la longitud de la
sucesión generada por <code>M</code> es mayor que <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- menor_que_genera_mayor<span style="color: #707183;">(</span>100,N<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
N = 27.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">menor_que_genera_mayor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span> :-
   menor_que_genera_mayor_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,1,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">menor_que_genera_mayor_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span> :-
   sucesi&#243;n<span style="color: #707183;">(</span><span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">X</span> &gt; <span style="color: #a0522d;">N</span>, <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">menor_que_genera_mayor_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> is <span style="color: #a0522d;">X</span>+1,
   menor_que_genera_mayor_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org0979195" class="outline-3">
<h3 id="org0979195"><span class="section-number-3">8.17.</span> Números perfectos</h3>
<div class="outline-text-3" id="text-8-17">
<hr />
<p>
<b>Ejercicio 17.1.</b> Definir la relación <code>suma_divisores_propios(+N,-S)</code>
que se verifique si <code>S</code> es la suma de los divisores propios del número
<code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- suma_divisores_propios<span style="color: #707183;">(</span>42,S<span style="color: #707183;">)</span>.o
S = 54.
?- suma_divisores_propios<span style="color: #707183;">(</span>1,S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = 0. 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">suma_divisores_propios</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   divisores_propios<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   sum_list<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 17.2.</b> Clasificamos los números naturales en tres tipos:
</p>
<ul class="org-ul">
<li><code>N</code> es de tipo <code>a</code> si <code>N</code> es mayor que la suma de sus divisores propios</li>
<li><code>N</code> es de tipo <code>b</code> si <code>N</code> es igual que la suma de sus divisores propios</li>
<li><code>N</code> es de tipo <code>c</code> si <code>N</code> es menor que la suma de sus divisores propios</li>
</ul>

<p>
Definir la relación <code>tipo(+N,-T)</code> que se verifique si <code>T</code> es el tipo del
número <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- tipo<span style="color: #707183;">(</span>10,T<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = a 
?- tipo<span style="color: #707183;">(</span>28,T<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = b 
?- tipo<span style="color: #707183;">(</span>12,T<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
T = c 
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">tipo</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">T</span><span style="color: #707183;">)</span> :-
   suma_divisores_propios<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   tipo_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">T</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">tipo_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">S</span>,a<span style="color: #707183;">)</span> :- <span style="color: #a0522d;">N</span> &gt; <span style="color: #a0522d;">S</span>, <span style="color: #a020f0;">!</span>. 
<span style="color: #0000ff;">tipo_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">N</span>,b<span style="color: #707183;">)</span> :- <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">tipo_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_N</span>,<span style="color: #a0522d;">_S</span>,c<span style="color: #707183;">)</span>. <span style="color: #b22222;">% </span><span style="color: #b22222;">:- _N &lt; _S.</span>
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">tipo_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">T</span><span style="color: #707183;">)</span> :-
   suma_divisores_propios<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   <span style="color: #707183;">(</span> <span style="color: #a0522d;">N</span> &gt; <span style="color: #a0522d;">S</span>   <span style="color: #a020f0;">-&gt;</span> <span style="color: #a0522d;">T</span> = a <span style="color: #a020f0;">;</span>
     <span style="color: #a0522d;">N</span> =:= <span style="color: #a0522d;">S</span> <span style="color: #a020f0;">-&gt;</span> <span style="color: #a0522d;">T</span> = b <span style="color: #a020f0;">;</span>
     true    <span style="color: #a020f0;">-&gt;</span> <span style="color: #a0522d;">T</span> = c<span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 17.3.</b> Definir la relación <code>clasifica(+N,-L)</code> que se
verifique si <code>L</code> es la lista de tipos de los números comprendidos entre
<code>1</code> y <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- clasifica<span style="color: #707183;">(</span>20,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, a, a, a, a, b, a, a, a, a, a, c, a, a, a, a, a, c, a, c<span style="color: #707183;">]</span> 
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">clasifica</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">T</span>,<span style="color: #7388d6;">(</span>between<span style="color: #909183;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #909183;">)</span>,tipo<span style="color: #909183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">T</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">clasifica_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   numlist<span style="color: #707183;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   maplist<span style="color: #707183;">(</span>tipo,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 17.4.</b> Definir la relación <code>promedio(+N,-A,-B,-C)</code> que se
verifique si <code>A</code>, <code>B</code> y <code>C</code> son las cantidades de números naturales
menores o iguales que <code>N</code> de tipo a, b y c, respectivamente. Por
ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- promedio<span style="color: #707183;">(</span>20,A,B,C<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
A = 16,
B = 1,
C = 3.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">promedio</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   clasifica<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   promedio_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">promedio_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,0,0,0<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">promedio_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a<span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">A1</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   promedio_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">A1</span> is <span style="color: #a0522d;">A</span>+1.
<span style="color: #0000ff;">promedio_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b<span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B1</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   promedio_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">B1</span> is <span style="color: #a0522d;">B</span>+1.
<span style="color: #0000ff;">promedio_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>c<span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C1</span><span style="color: #707183;">)</span> :-
   promedio_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">C1</span> is <span style="color: #a0522d;">C</span>+1.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 17.5.</b> Definir la relación <code>menor(+N,-X)</code> que se verifique si
<code>X</code> es el menor número tal que la cantidad de números naturales menores o
iguales que <code>X</code> de tipo a es <code>N</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- menor<span style="color: #707183;">(</span>20,X<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = 25.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">menor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   menor_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">menor_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">M</span><span style="color: #707183;">)</span> :-
   promedio<span style="color: #707183;">(</span><span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>, <span style="color: #a020f0;">!</span>.
<span style="color: #0000ff;">menor_aux</span><span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">M1</span> is <span style="color: #a0522d;">M</span>+1,
   menor_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">M1</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org38c007a" class="outline-3">
<h3 id="org38c007a"><span class="section-number-3">8.18.</span> Operación binaria aplicada a listas</h3>
<div class="outline-text-3" id="text-8-18">
<hr />
<p>
<b>Ejercicio 18.</b> Definir la relación <code>operación_listas(+O,+L1,+L2,-L3)</code>
que se verifique si <code>L3</code> es la lista obtenida aplicando la operación
binaria <code>O</code> a los elementos de <code>L1</code> y <code>L2</code> que ocupan la misma posición
(Se supone que <code>L1</code> y <code>L2</code> tienen la misma longitud). Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- operaci&#243;n_lista<span style="color: #707183;">(</span>+,<span style="color: #7388d6;">[</span>1,2,3<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>4,5,6<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>5, 7, 9<span style="color: #707183;">]</span> 
?- operaci&#243;n_lista<span style="color: #707183;">(</span>*,<span style="color: #7388d6;">[</span>1,2,3<span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span>4,5,6<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>4, 10, 18<span style="color: #707183;">]</span> 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">operaci&#243;n_lista</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">operaci&#243;n_lista</span><span style="color: #707183;">(</span><span style="color: #a0522d;">O</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X2</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X3</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L3</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">E</span> =.. <span style="color: #707183;">[</span><span style="color: #a0522d;">O</span>,<span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">X2</span><span style="color: #707183;">]</span>,
   <span style="color: #a0522d;">X3</span> is <span style="color: #a0522d;">E</span>,
   operaci&#243;n_lista<span style="color: #707183;">(</span><span style="color: #a0522d;">O</span>,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7503a3" class="outline-3">
<h3 id="orgf7503a3"><span class="section-number-3">8.19.</span> Eliminación de las vocales</h3>
<div class="outline-text-3" id="text-8-19">
<hr />
<p>
<b>Ejercicio 19.</b> Definir la relación <code>elimina_vocales(+P1,-P2)</code> que se
verifique si <code>P2</code> es la palabra que se obtiene al eliminar todas las
vocales de la palabra <code>P1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- elimina_vocales<span style="color: #707183;">(</span>sevillano,P<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
P = svlln 
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">elimina_vocales</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   c&#243;digos_vocales<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L1</span><span style="color: #909183;">)</span>,not<span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>códigos_vocales(?L)</code> se verifica si <code>L</code> es la lista de los códigos ASCII
de las vocales.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">c&#243;digos_vocales</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span>aeiouAEIOU,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">elimina_vocales_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>,
   exclude<span style="color: #707183;">(</span>es_c&#243;digo_vocal,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>,
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>es_código_vocal(X)</code> se verifica si <code>X</code> es el códigos ASCII de una
vocal.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">es_c&#243;digo_vocal</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span> :-
   c&#243;digos_vocales<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   memberchk<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgdb8d587" class="outline-3">
<h3 id="orgdb8d587"><span class="section-number-3">8.20.</span> Palabras maximales</h3>
<div class="outline-text-3" id="text-8-20">
<hr />
<p>
<b>Ejercicio 20.1.</b> Definir la relación <code>longitud(+P,-N)</code> que se verifique
si <code>N</code> es la longitud de la palabra <code>P</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shel">?- longitud(ana,N).
N = 3.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">longitud</span><span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   name<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 20.2.</b> Definir la relación <code>palabra_maximal(+L,-P)</code> que se
verifique si <code>P</code> es una palabra maximal (es decir, de máxima longitud)
de la lista de palabras <code>L</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- palabra_maximal<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>eva,y,ana,se,van<span style="color: #7388d6;">]</span>,P<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
P = eva ;
P = ana ;
P = van.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">palabra_maximal</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">P</span><span style="color: #707183;">)</span> :-
   select<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">R</span><span style="color: #707183;">)</span>,
   longitud<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">R</span><span style="color: #909183;">)</span>, longitud<span style="color: #909183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">N1</span><span style="color: #909183;">)</span>, <span style="color: #a0522d;">N</span> &lt; <span style="color: #a0522d;">N1</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 20.3.</b> Definir la relación <code>palabras_maximales(+L1,-L2</code>) que
se  verifique si <code>L2</code> es la lista de las palabras maximales de la lista
de palabras <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- palabras_maximales<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>eva,y,ana,se,van<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>eva, ana, van<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">palabras_maximales</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">P</span>,palabra_maximal<span style="color: #7388d6;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">P</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e1393a" class="outline-3">
<h3 id="org5e1393a"><span class="section-number-3">8.21.</span> Clausura transitiva</h3>
<div class="outline-text-3" id="text-8-21">
<hr />
<p>
<b>Ejercicio 21.</b> La clausura transitiva de una relación binaria <code>R</code> es la
menor relación transitiva que contiene a <code>R</code>; por ejemplo, la clausura
transitiva de <code>{(a,b),(b,c)}</code> es <code>{(a,b),(b,c),(a,c)}</code>.
</p>

<p>
Definir la relación <code>clausura_transitiva(R,X,Y)</code> que se verifique si
<code>(X,Y)</code> está en la clausura transitiva de la relación <code>R</code>. Por ejemplo,
suponiendo que se han definido las relaciones <code>p</code> y <code>q</code> por
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;">p</span><span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">p</span><span style="color: #707183;">(</span>b,c<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">q</span><span style="color: #707183;">(</span>c,b<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
<span style="color: #0000ff;">q</span><span style="color: #707183;">(</span>b,a<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
</pre>
</div>
<p>
se tiene
</p>
<div class="org-src-container">
<pre class="src src-shell">?- clausura_transitiva<span style="color: #707183;">(</span>p,X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = a,
Y = b ;
X = b,
Y = c ;
X = a,
Y = c ;
false.

?- clausura_transitiva<span style="color: #707183;">(</span>q,X,Y<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
X = c,
Y = b ;
X = b,
Y = a ;
X = c,
Y = a ;
false.
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">clausura_transitiva</span><span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   apply<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">clausura_transitiva</span><span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   apply<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Z</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   clausura_transitiva<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Z</span>,<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org7086b23" class="outline-3">
<h3 id="org7086b23"><span class="section-number-3">8.22.</span> Traducción de dígitos a palabras</h3>
<div class="outline-text-3" id="text-8-22">
<hr />
<p>
<b>Ejercicio 22.</b> Definir la relación <code>traducción(+L1,-L2)</code> que se
verifique si <code>L2</code> es la lista de palabras correspondientes a los dígitos
de la lista <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- traducci&#243;n<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,3<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>uno,tres<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">traducci&#243;n_1</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">traducci&#243;n_1</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">D</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   nombre<span style="color: #707183;">(</span><span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   traducci&#243;n_1<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>nombre(D,N)</code> se verifica si <code>N</code> es el nombre del dígito <code>D</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>0,cero<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>1,uno<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>2,dos<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>3,tres<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>4,cuatro<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>5,cinco<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>6,seis<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>7,siete<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>8,ocho<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">nombre</span><span style="color: #707183;">(</span>9,nueve<span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">traducci&#243;n_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">(</span>member<span style="color: #909183;">(</span><span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">L1</span><span style="color: #909183;">)</span>,nombre<span style="color: #909183;">(</span><span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">N</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<p>
<b>3ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">traducci&#243;n_3</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   maplist<span style="color: #707183;">(</span>nombre,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org8870f23" class="outline-3">
<h3 id="org8870f23"><span class="section-number-3">8.23.</span> Transformación de lista dependiente de la posición</h3>
<div class="outline-text-3" id="text-8-23">
<hr />
<p>
<b>Ejercicio 23.</b> Definir la relación <code>transforma(+L1,-L2)</code> que se
verifique si <code>L2</code> es la lista obtenida sumándole a cada elemento
numérico de <code>L1</code> su posición en la lista. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- transforma<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,1,1,a,b,c,1,1,1<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2,3,4,a,b,c,8,9,10<span style="color: #707183;">]</span>.

?- transforma<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2,a,5,2,b,3,1<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>2,4,a,9,7,b,10,9<span style="color: #707183;">]</span>.
</pre>
</div>
<hr />

<p>
<b>1ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">transforma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   transforma_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,1,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>transforma_aux(+L1,+N,-L2)</code> se verifica si <code>L2</code> es la lista obtenida
añadiéndole a cada elemento numérico de <code>L1</code> la suma de <code>N</code> y su
posición en la lista.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">transforma_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">transforma_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   number<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>, <span style="color: #a020f0;">!</span>,
   <span style="color: #a0522d;">Y</span> is <span style="color: #a0522d;">X</span>+<span style="color: #a0522d;">N</span>,
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>+1,
   transforma_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">transforma_aux</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L2</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   <span style="color: #b22222;">% </span><span style="color: #b22222;">not(number(X)),</span>
   <span style="color: #a0522d;">N1</span> is <span style="color: #a0522d;">N</span>+1,
   transforma_aux<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>

<p>
<b>2ª solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">transforma_2</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   lista_de_posiciones<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span><span style="color: #707183;">)</span>,
   maplist<span style="color: #707183;">(</span>suma,<span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><p>
<code>lista_de_posiciones(+L1,-L2)</code> se verifica si <code>L2</code> es la lista de
posiciones correspondiente a la lista <code>L1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- lista_de_posiciones<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,1,1,a,b,c,1,1,1<span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>1, 2, 3, 4, 5, 6, 7, 8, 9<span style="color: #707183;">]</span> 
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">lista_de_posiciones</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   numlist<span style="color: #707183;">(</span>1,<span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>suma(+X,+Y,-Z)</code> se verifica si <code>Z</code> es la suma de <code>X</code> y el número <code>Y</code>, cuando
<code>X</code> es un número y es igual a <code>X</code>, en caso contrario. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- suma<span style="color: #707183;">(</span>3,2,Z<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Z = 5 
?- suma<span style="color: #707183;">(</span>b,2,Z<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
Z = b 
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">suma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">Z</span><span style="color: #707183;">)</span> :-
   number<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>, <span style="color: #a020f0;">!</span>,
   <span style="color: #a0522d;">Z</span> is <span style="color: #a0522d;">X</span>+<span style="color: #a0522d;">Y</span>.
<span style="color: #0000ff;">suma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org6f16613" class="outline-3">
<h3 id="org6f16613"><span class="section-number-3">8.24.</span> Aplanamiento de listas</h3>
<div class="outline-text-3" id="text-8-24">
<hr />
<p>
<b>Ejercicio 24.</b> Definir la relación <code>aplana(+L1,?L2)</code> que se verifique si
<code>L2</code> es la lista obtenida reemplazando, recursivamente, cada lista de <code>L1</code>
por sus elementos. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- aplana<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,<span style="color: #909183;">[</span>b,<span style="color: #709870;">[</span>c<span style="color: #709870;">]</span><span style="color: #909183;">]</span>,<span style="color: #909183;">[</span><span style="color: #709870;">[</span>d<span style="color: #709870;">]</span>,e<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,L<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
L = <span style="color: #707183;">[</span>a, b, c, d, e<span style="color: #707183;">]</span> 
</pre>
</div>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">aplana</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   \+ is_list<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">aplana</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">aplana</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span> :-
   aplana<span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>,<span style="color: #a0522d;">L3</span><span style="color: #707183;">)</span>,
   aplana<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span>,<span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4c30ec4" class="outline-2">
<h2 id="org4c30ec4"><span class="section-number-2">9.</span> Bibliografía</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>J.A. Alonso.
<a href="http://www.cs.us.es/~jalonso/publicaciones/2006-int_prolog.pdf">Introducción a la programación lógica con Prolog</a>.</li>

<li>I. Bratko.
<a href="https://archive.org/details/prologprogrammin0000brat_w4b1">Prolog programming for artificial intelligence (3 ed.)</a>
(Addison&#x2013;Wesley, 2001)
<ul class="org-ul">
<li>Cap. 7: "More Built-in procedures"</li>
</ul></li>

<li>W.F. Clocksin y C.S. Mellish.
<a href="https://archive.org/details/programminginpro00cloc">Programming in Prolog</a>.
(Springer Verlag, 1994)
<ul class="org-ul">
<li>Cap. 6: "Built-in predicates"</li>
</ul></li>

<li>T. Smith.
<a href="https://www.inf.ed.ac.uk/teaching/courses/aipp/material/aipp_coursenotes.pdf">Artificial intelligence programming in Prolog</a>.
(Univ. of Edinburgh, 2004).
<ul class="org-ul">
<li>Cap. 14: Input/Output.</li>
</ul></li>

<li>T. Van Le.
<a href="https://archive.org/details/techniquesofprol00vanl_0">Techniques of Prolog programming</a>.
(John Wiley, 1993)
<ul class="org-ul">
<li>Cap. 6: "Advanced programming techniques and data structures"</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr>
<center>
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/cursos/i1m/">Inicial</a> |
   <a href="/cursos/i1m/temas_apuntes_codigos.html">Temas  </a> |
   <a href="/cursos/i1m/manuales.html">Manuales  </a> |
   <a href="/cursos/i1m/ejercicios.html">Ejercicios  </a> |
   <a href="/cursos/i1m/examenes.html">Exámenes  </a> |
   <a href="/cursos/i1m/doc.html">Documentación  </a>
</p>
</center>
<div id="extras">
  <p><a href="/">José A. Alonso Jiménez</a>
  <p>Sevilla, 07 de abril del 2024</p>
  <p><i class="fa fa-cc"></i> Licencia: <a href="https://creativecommons.org/licenses/by-nc-sa/2.5/es/">Creative Commons</a>.</p>
</div>
</div>
</body>
</html>