<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 28 de febrero del 2025 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tema 8: Resolución de problemas de espacios de estados</title>
<meta name="author" content="José A. Alonso" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../../../css/estilo-org.css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div id="preamble" class="status">
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/curso-i1m/i1m/">Inicial</a> |
   <a href="/curso-i1m/i1m/temas_apuntes_codigos.html">Temas  </a> |
   <a href="/curso-i1m/i1m/manuales.html">Manuales  </a> |
   <a href="/curso-i1m/i1m/ejercicios.html">Ejercicios  </a> |
   <a href="/curso-i1m/i1m/examenes.html">Exámenes  </a> |
   <a href="/curso-i1m/i1m/doc.html">Documentación  </a>
</p>
</div>
<div id="content" class="content">
<h1 class="title">Tema 8: Resolución de problemas de espacios de estados</h1>
<div id="table-of-contents" role="doc-toc">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge812181">1. Ejemplo de problema mediante espacios de estados: el 8 puzzle</a></li>
<li><a href="#orgfce58f0">2. Búsqueda en profundidad sin ciclos</a>
<ul>
<li><a href="#org775a432">2.1. El problema del árbol</a></li>
<li><a href="#org7dc5dd2">2.2. Procedimiento de búsqueda en profundidad sin ciclos</a></li>
<li><a href="#org1add0cd">2.3. Solución del problema del árbol mediante búsqueda en profundidad sin ciclos</a></li>
<li><a href="#orgbb80323">2.4. El problema de las 4 reinas</a></li>
<li><a href="#orge3645dd">2.5. Solución del problema de las 4 reinas por búsqueda en profundidad sin ciclos.</a></li>
</ul>
</li>
<li><a href="#org6a0ca50">3. Búsqueda en profundidad con ciclos</a>
<ul>
<li><a href="#org5ca6b46">3.1. El problema del grafo</a></li>
<li><a href="#orgac7812d">3.2. No solución del problema del grafo mediante búsqueda en profundidad sin ciclos</a></li>
<li><a href="#orgc66005d">3.3. Procedimiento de búsqueda en profundidad con ciclos</a></li>
<li><a href="#orga16199a">3.4. Solución del problema del grafo mediante búsqueda en profundidad con ciclos</a></li>
<li><a href="#org43b9ca9">3.5. El problema de las jarras</a></li>
<li><a href="#orgea93012">3.6. Solución del problema de las jarras por búsqueda en profundidad con ciclos</a></li>
</ul>
</li>
<li><a href="#org5e18485">4. Búsqueda en anchura</a>
<ul>
<li><a href="#org84d6409">4.1. El problema del paseo</a></li>
<li><a href="#orgd2ecf13">4.2. No solución del problema del paseo mediante búsqueda en profundidad</a></li>
<li><a href="#org656ea84">4.3. Procedimiento de búsqueda en anchura</a></li>
<li><a href="#org3452cff">4.4. Solución del problema del paseo mediante búsqueda en anchura.</a></li>
</ul>
</li>
<li><a href="#orgb828808">5. Búsqueda óptima (de menor coste)</a>
<ul>
<li><a href="#orgeb44a48">5.1. Problema del viaje</a></li>
<li><a href="#orgf3221ac">5.2. Solución del problema del viaje mediante búsqueda en profundidad y en anchura</a></li>
<li><a href="#orged3e9e4">5.3. Primer procedimiento de búsqueda óptima</a></li>
<li><a href="#orgd65da68">5.4. Solución del problema del viaje mediante búsqueda óptima</a></li>
<li><a href="#orgd794165">5.5. Segundo procedimiento de búsqueda óptima</a></li>
<li><a href="#org3dcabfd">5.6. Comparación de procedimientos de búsqueda óptima</a></li>
</ul>
</li>
<li><a href="#org2c9940a">6. Búsqueda en escalada (con heurística).</a>
<ul>
<li><a href="#org2591605">6.1. Heurística del problema del viaje</a></li>
<li><a href="#org5e9b44d">6.2. Solución del problema del viaje mediante búsqueda en Escalada</a></li>
</ul>
</li>
<li><a href="#orgb6bbb26">7. Búsqueda por primero el mejor</a>
<ul>
<li><a href="#orgae91ae6">7.1. Problema de las fichas</a></li>
<li><a href="#orgdca85c6">7.2. Procedimiento de búsqueda por primero el mejor</a></li>
<li><a href="#org5056efe">7.3. Solución del problema de las fichas mediante búsqueda por primero el mejor</a></li>
</ul>
</li>
<li><a href="#orgf72d39d">8. Algoritmo A*</a>
<ul>
<li><a href="#org6029253">8.1. El problema del 8 puzzle</a></li>
<li><a href="#org53b15cb">8.2. El algoritmo A*</a></li>
<li><a href="#orgef2ae51">8.3. Solucióm del 8 puzzle mediante el algoritmo A*</a></li>
</ul>
</li>
<li><a href="#orgdde0c57">9. Ejercicios</a>
<ul>
<li><a href="#orgc614cc2">9.1. Problemas de los bloques</a></li>
<li><a href="#orge71dc2c">9.2. Problema de las 8 reinas</a></li>
</ul>
</li>
<li><a href="#orgb1f8826">10. Bibliografía</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge812181" class="outline-2">
<h2 id="orge812181"><span class="section-number-2">1.</span> Ejemplo de problema mediante espacios de estados: el 8 puzzle</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Para el 8 puzzle se usa un cajón cuadrado en el que hay situados 8
bloques cuadrados. El cuadrado restante está sin rellenar. Cada
bloque tiene un número. Un bloque adyacente al hueco puede deslizarse
hacia él. El juego consiste en transformar la posición inicial en la
posición final mediante el deslizamiento de los bloques.  En
particular, consideramos el estado inicial y final siguientes: <br />
<img src="./fig/tema-8-8-puzzle-4.png" alt="tema-8-8-puzzle-4.png" /></li>

<li>Ejemplos de movimientos <br />
<img src="./fig/tema-8-8-puzzle-1.png" alt="tema-8-8-puzzle-1.png" /></li>

<li>Solución del 8&#x2013;puzzle: <br />
<img src="./fig/tema-8-8-puzzle-3.png" alt="tema-8-8-puzzle-3.png" /></li>

<li>Representación:
<ul class="org-ul">
<li>Estado inicial: <code>[[2,8,3],[1,6,4],[7,h,5]]</code></li>
<li>Estado final: <code>[[1,2,3],[8,h,4],[7,6,5]]</code></li>
<li>Operadores:
<ul class="org-ul">
<li>Mover el hueco a la izquierda</li>
<li>Mover el hueco arriba</li>
<li>Mover el hueco a la derecha</li>
<li>Mover el hueco abajo</li>
</ul></li>
</ul></li>

<li>Número de estados = 9! = 362.880.</li>

<li>Nota: El estudio del problema continúa en la <a href="#orgf72d39d">última sección</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgfce58f0" class="outline-2">
<h2 id="orgfce58f0"><span class="section-number-2">2.</span> Búsqueda en profundidad sin ciclos</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org775a432" class="outline-3">
<h3 id="org775a432"><span class="section-number-3">2.1.</span> El problema del árbol</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgc740cf9" class="outline-4">
<h4 id="orgc740cf9"><span class="section-number-4">2.1.1.</span> Descripción del problema del árbol</h4>
<div class="outline-text-4" id="text-2-1-1">
<ul class="org-ul">
<li>El problema del árbol consiste en encontrar caminos (desde <code>a</code> hasta
<code>f</code> o <code>j</code>) en el siguiente grafo <br />
<img src="./fig/tema-8-arbol.png" alt="tema-8-arbol.png" /></li>
</ul>
</div>
</div>

<div id="outline-container-orgf8d095b" class="outline-4">
<h4 id="orgf8d095b"><span class="section-number-4">2.1.2.</span> Representación del problema del árbol</h4>
<div class="outline-text-4" id="text-2-1-2">
<ul class="org-ul">
<li>El problema se representa mediante las relaciones <code>estado_inicial/1</code>,
<code>estado_final/1</code> y <code>sucesor/2</code> definidas a continuación.</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,c<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,d<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,e<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,g<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>d,h<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,i<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,j<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>f,k<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del problema del árbol se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_arbol.pl">p_arbol.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7dc5dd2" class="outline-3">
<h3 id="org7dc5dd2"><span class="section-number-3">2.2.</span> Procedimiento de búsqueda en profundidad sin ciclos</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><p>
<code>profundidad_sin_ciclos(?S)</code> se verifica si <code>S</code> es una solución del
problema mediante búsqueda en profundidad sin ciclos. Por ejemplo,
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>profundidad_sin_ciclos(+E,?S)</code> se verifica si <code>S</code> es una solución por
búsqueda en profundidad sin ciclos a partir de <code>E</code>; es decir, según el
siguiente procedimiento:
</p>
<ul class="org-ul">
<li>1. <code>S = [E]</code> es una solución si <code>E</code> es un estado final.</li>
<li>2. <code>S = [E|S1]</code> es una solución si existe un <code>E</code> tal que
<ul class="org-ul">
<li>2.1. <code>E1</code> es un sucesor de <code>E</code></li>
<li>2.2. <code>S1</code> es una solución por búsqueda en profundidad sin ciclos a
partir de <code>E1</code>.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.                 <span style="color: #b22222;">% </span><span style="color: #b22222;">1</span>
<span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">S1</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :- <span style="color: #b22222;">% </span><span style="color: #b22222;">2</span>
   sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,                   <span style="color: #b22222;">% </span><span style="color: #b22222;">2.1</span>
   profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">S1</span><span style="color: #707183;">)</span>.   <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>
</pre>
</div></li>

<li>El código de la búsqueda en profundidad sin ciclos se encuentra en</li>
</ul>
</div>
</div>

<div id="outline-container-org1add0cd" class="outline-3">
<h3 id="org1add0cd"><span class="section-number-3">2.3.</span> Solución del problema del árbol mediante búsqueda en profundidad sin ciclos</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_arbol, b_profundidad_sin_ciclos<span style="color: #707183;">]</span>.
true

?- profundidad_sin_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span>

?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
     estado_final/1: <span style="color: #707183;">[</span>call<span style="color: #707183;">]</span>
true.

?- profundidad_sin_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>e<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span>

?- trace<span style="color: #707183;">(</span>estado_final,-call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
%         estado_final/1: Not tracing
true.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgbb80323" class="outline-3">
<h3 id="orgbb80323"><span class="section-number-3">2.4.</span> El problema de las 4 reinas</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org9e0eac1" class="outline-4">
<h4 id="org9e0eac1"><span class="section-number-4">2.4.1.</span> Descripción del problema de las 4 reinas</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>El problema de las 4 reinas consiste en colocar 4 reinas en un tablero
rectangular de dimensiones 4 por 4 de forma que no se encuentren más
de una en la misma línea: horizontal, vertical o diagonal.</li>

<li>Los estados son listas de números que representan las ordenadas de las
reinas colocadas. Por ejemplo, [3,1] representa que se ha colocado las
reinas (1,1) y (2,3).</li>
</ul>
</div>
</div>

<div id="outline-container-org8877519" class="outline-4">
<h4 id="org8877519"><span class="section-number-4">2.4.2.</span> Representación del problema de las 4 reinas</h4>
<div class="outline-text-4" id="text-2-4-2">
<ul class="org-ul">
<li>El problema se representa mediante las relaciones <code>estado_inicial/1</code>,
<code>estado_final/1</code> y <code>sucesor/2</code> definidas a continuación.</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,4<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span>1,2,3,4<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>member<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>no_ataca(Y,E)</code> se verifica si <code>E=[Yn,...,Y1]</code>, entonces la reina
colocada en <code>(n+1,Y)</code> no ataca a las colocadas en <code>(1,Y1)</code>, &hellip;,
<code>(n,Yn)</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span>,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y1</span>-<span style="color: #a0522d;">Y</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">Y1</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">D1</span> is <span style="color: #a0522d;">D</span>+1,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">D1</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del problema de las 4 reinas se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_4_reinas.pl">p_4_reinas.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge3645dd" class="outline-3">
<h3 id="orge3645dd"><span class="section-number-3">2.5.</span> Solución del problema de las 4 reinas por búsqueda en profundidad sin ciclos.</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span>p_4_reinas, b_profundidad_sin_ciclos<span style="color: #707183;">]</span>.
true.

?- profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>, <span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>4, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>1, 4, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>3, 1, 4, 2<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6a0ca50" class="outline-2">
<h2 id="org6a0ca50"><span class="section-number-2">3.</span> Búsqueda en profundidad con ciclos</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org5ca6b46" class="outline-3">
<h3 id="org5ca6b46"><span class="section-number-3">3.1.</span> El problema del grafo</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org6c320f4" class="outline-4">
<h4 id="org6c320f4"><span class="section-number-4">3.1.1.</span> Descripción del problema del grafo</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>El problema del grafo consiste en encontrar caminos (desde <code>a</code> hasta
<code>f</code> o <code>j</code>) en el siguiente grafo <br />
<img src="./fig/tema-8-grafo.png" alt="tema-8-grafo.png" /></li>
</ul>
</div>
</div>

<div id="outline-container-org70bd21e" class="outline-4">
<h4 id="org70bd21e"><span class="section-number-4">3.1.2.</span> Representación del problema del grafo</h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li>El problema se representa mediante las relaciones <code>estado_inicial/1</code>,
<code>estado_final/1</code> y <code>sucesor/2</code> definidas a continuación.</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,c<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,d<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,e<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,g<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>d,h<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,i<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,j<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>f,k<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>h,d<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del problema del grafo se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_grafo.pl">p_grafo.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgac7812d" class="outline-3">
<h3 id="orgac7812d"><span class="section-number-3">3.2.</span> No solución del problema del grafo mediante búsqueda en profundidad sin ciclos</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><p>
El problema del grafo no se puede resolver mediante búsqueda en
profundidad sin ciclos.
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_grafo, b_profundidad_sin_ciclos<span style="color: #707183;">]</span>.
true.

?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- profundidad_sin_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 ...
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc66005d" class="outline-3">
<h3 id="orgc66005d"><span class="section-number-3">3.3.</span> Procedimiento de búsqueda en profundidad con ciclos</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>Un <i>nodo</i> es una lista de estados <code>[E(n),...,E(1)]</code> de forma que
<code>E(1)</code> es el estado inicial y <code>E(i+1)</code> es un sucesor de <code>E(i)</code>.</li>

<li><p>
<code>profundidad_con_ciclos(?S)</code> se verifica si <code>S</code> es una solución del
problema mediante búsqueda en profundidad con ciclos.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>profundidad_con_ciclos(+N,?S)</code> se verifica si <code>S</code> es una solución del
problema a partir del nodo <code>N</code> (es decir <code>S = [E(1),...,E(m)]</code> donde 
<code>N = [E(j),E(j-1),...,E(1)]</code>, <code>E(n)</code> es un estado final y <code>E(i+1)</code> es un
sucesor de <code>E(i)</code>), encontrada por búsqueda en profundidad; es decir,
mediante el siguiente procedimiento:
</p>
<ul class="org-ul">
<li>1. Si el primer elemento de <code>N</code> es un estado final, entonces <code>S</code> es la
inversa de <code>N</code>.</li>
<li>2. Si <code>N = [E|C]</code> y <code>E1</code> un sucesor de <code>E</code> que no ha sido visitado
(es decir, que no pertenece a <code>C</code>) y tal que existe una solución,
<code>S</code>, a partir de <code>[E1,E|C]</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>memberchk<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código de la búsqueda en profundidad con ciclos se encuentra en
<a href="https://swish.swi-prolog.org/p/PLP_b_profundidad_con_ciclos.pl">b_profundidad_con_ciclos.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-orga16199a" class="outline-3">
<h3 id="orga16199a"><span class="section-number-3">3.4.</span> Solución del problema del grafo mediante búsqueda en profundidad con ciclos</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><p>
Solución
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_grafo, b_profundidad_con_ciclos<span style="color: #707183;">]</span>.
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span> ;
S = <span style="color: #707183;">[</span>a, c, f<span style="color: #707183;">]</span> ;
false.

?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
%         estado_final/1: <span style="color: #707183;">[</span>call<span style="color: #707183;">]</span>
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>e<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span> ;
 T Call: estado_final<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>a, c, f<span style="color: #707183;">]</span> ;
 T Call: estado_final<span style="color: #707183;">(</span>k<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>g<span style="color: #707183;">)</span>
false.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org43b9ca9" class="outline-3">
<h3 id="org43b9ca9"><span class="section-number-3">3.5.</span> El problema de las jarras</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org6ffaea8" class="outline-4">
<h4 id="org6ffaea8"><span class="section-number-4">3.5.1.</span> Descripción del problema de las jarras</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
En el problema de las jarras
</p>
<ul class="org-ul">
<li>Se tienen dos jarras, una de 4 litros de capacidad y otra de 3.</li>
<li>Ninguna de ellas tiene marcas de medición.</li>
<li>Se tiene una bomba que permite llenar las jarras de agua.</li>
<li>El problema consiste en averiguar cómo se puede lograr tener
exactamente 2 litros de agua en la jarra de 4 litros de capacidad.</li>
</ul>
</div>
</div>

<div id="outline-container-org2685651" class="outline-4">
<h4 id="org2685651"><span class="section-number-4">3.5.2.</span> Representación del problema de las jarras</h4>
<div class="outline-text-4" id="text-3-5-2">
<ul class="org-ul">
<li>El estado inicial es <code>0-0</code>.</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>0-0<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>Los estados finales son de la forma <code>2-y</code></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>2-<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>Los operadores: 
<ul class="org-ul">
<li>Llenar la jarra de 4 litros con la bomba.</li>
<li>Llenar la jarra de 3 litros con la bomba.</li>
<li>Vaciar la jarra de 4 litros en el suelo.</li>
<li>Vaciar la jarra de 3 litros en el suelo.</li>
<li>Llenar la jarra de 4 litros con la jarra de 3 litros.</li>
<li>Llenar la jarra de 3 litros con la jarra de 4 litros.</li>
<li>Vaciar la jarra de 3 litros en la jarra de 4 litros.</li>
<li>Vaciar la jarra de 4 litros en la jarra de 3 litros.</li>
</ul></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,4-<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X</span> &lt; 4.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span>-3<span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> &lt; 3.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,0-<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X</span> &gt; 0.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span>-0<span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y</span> &gt; 0.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,4-<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X1</span> &lt; 4,
   <span style="color: #a0522d;">T</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>,
   <span style="color: #a0522d;">T</span> &gt;= 4,
   <span style="color: #a0522d;">Y2</span> is <span style="color: #a0522d;">Y1</span>-<span style="color: #707183;">(</span>4-<span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,<span style="color: #a0522d;">X2</span>-3<span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y1</span> &lt; 3,
   <span style="color: #a0522d;">T</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>,
   <span style="color: #a0522d;">T</span> &gt;= 3,
   <span style="color: #a0522d;">X2</span> is <span style="color: #a0522d;">X1</span>-<span style="color: #707183;">(</span>3-<span style="color: #a0522d;">Y1</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,<span style="color: #a0522d;">X2</span>-0<span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y1</span> &gt; 0,
   <span style="color: #a0522d;">X2</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>,
   <span style="color: #a0522d;">X2</span> &lt; 4.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,0-<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">X1</span> &gt; 0,
   <span style="color: #a0522d;">Y2</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>,
   <span style="color: #a0522d;">Y2</span> &lt; 3.
</pre>
</div></li>

<li>El código del problema de las jarras se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_jarras.pl">p_jarras.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgea93012" class="outline-3">
<h3 id="orgea93012"><span class="section-number-3">3.6.</span> Solución del problema de las jarras por búsqueda en profundidad con ciclos</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li><p>
Solución
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_jarras, b_profundidad_con_ciclos<span style="color: #707183;">]</span>.
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>0-0,4-0,4-3,0-3,3-0,3-3,4-2,0-2,2-0<span style="color: #707183;">]</span> ;
S = <span style="color: #707183;">[</span>0-0,4-0,4-3,0-3,3-0,3-3,4-2,0-2,2-0,2-3<span style="color: #707183;">]</span> ;
S = <span style="color: #707183;">[</span>0-0,4-0,1-3,4-3,0-3,3-0,3-3,4-2,0-2,2-0<span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org5e18485" class="outline-2">
<h2 id="org5e18485"><span class="section-number-2">4.</span> Búsqueda en anchura</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org84d6409" class="outline-3">
<h3 id="org84d6409"><span class="section-number-3">4.1.</span> El problema del paseo</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org8e7b1a7" class="outline-4">
<h4 id="org8e7b1a7"><span class="section-number-4">4.1.1.</span> Descripción del problema del paseo</h4>
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li>Una persona puede moverse en línea recta dando cada vez un paso hacia
la derecha o hacia la izquierda. Podemos representarlo mediante su
posición <code>X</code>. El valor inicial de <code>X</code> es 0. El problema consiste en
llegar a la posición -3.</li>
</ul>
</div>
</div>

<div id="outline-container-org737894f" class="outline-4">
<h4 id="org737894f"><span class="section-number-4">4.1.2.</span> Representación del problema del paseo</h4>
<div class="outline-text-4" id="text-4-1-2">
<ul class="org-ul">
<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>-3<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">E2</span> is <span style="color: #a0522d;">E1</span>+1.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">E2</span> is <span style="color: #a0522d;">E1</span>-1.
</pre>
</div></li>

<li>El código del problema del paseo se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_paseo.pl">p_paseo.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd2ecf13" class="outline-3">
<h3 id="orgd2ecf13"><span class="section-number-3">4.2.</span> No solución del problema del paseo mediante búsqueda en profundidad</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li><p>
El problema del paseo no se puede solucionar mediante búsqueda en
profundidad con ciclos. 
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_paseo, b_profundidad_con_ciclos<span style="color: #707183;">]</span>.
true.

?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>2<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>4<span style="color: #707183;">)</span>
 ...
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org656ea84" class="outline-3">
<h3 id="org656ea84"><span class="section-number-3">4.3.</span> Procedimiento de búsqueda en anchura</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>Un <i>nodo</i> es una lista de estados <code>[E(n),...,E(1)]</code> de forma que
<code>E(1)</code> es el estado inicial y <code>E(i+1)</code> es un sucesor de <code>E(i)</code>.</li>

<li><i>Abiertos</i> es la lista de nodos pendientes de analizar.</li>

<li><p>
<code>anchura(?S)</code> se verifica si <code>S</code> es una solución del problema
mediante búsqueda en anchura.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   anchura<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>anchura(+Abiertos,?S)</code> se verifica si <code>S</code> es la solucion encontrada
por búsqueda en anchura a partir de la lista de <code>Abiertos</code>; es decir,
mediante el siguiente procedimiento:
</p>
<ul class="org-ul">
<li>1. Si
<ul class="org-ul">
<li>1.1. el primer elemento de <code>Abiertos</code> es <code>[E|C]</code> y</li>
<li>1.2. <code>E</code> es un estado final, entonces</li>
<li>1.3. <code>S</code> es la inversa de <code>[E|C]</code>.</li>
</ul></li>
<li>2. Si
<ul class="org-ul">
<li>2.1. <code>Abiertos</code> es la lista <code>[[E|C]|R]</code>,</li>
<li>2.2. la lista de los sucesores de <code>E</code> que no están en <code>C</code> ni en
<code>Abiertos</code> es <code>Sucesores</code> y</li>
<li>2.3. los nuevos abiertos, <code>NAbiertos</code>, es la lista obtenida añadiendo
dichos <code>Sucesores4 a continuación de ~R</code>, entonces</li>
<li>2.4. <code>S</code> es la solución obtenida por búsqueda en anchura con los
nuevos abiertos.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-           <span style="color: #b22222;">% </span><span style="color: #b22222;">1.1</span>
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,               <span style="color: #b22222;">% </span><span style="color: #b22222;">1.2</span>
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.              <span style="color: #b22222;">% </span><span style="color: #b22222;">1.3</span>
<span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   expande<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,      <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">NAbiertos</span><span style="color: #707183;">)</span>, <span style="color: #b22222;">% </span><span style="color: #b22222;">2.3</span>
   anchura<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.          <span style="color: #b22222;">% </span><span style="color: #b22222;">2.4</span>
</pre>
</div></li>

<li><p>
<code>expande(+Abiertos,?Sucesores)</code> se verifica si <code>Sucesores</code> es la lista de
los sucesores del primer elemento de <code>Abiertos</code> que no pertenecen al
camino que lleva a dicho elemento ni a <code>Abiertos</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #907373;">[</span><span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #907373;">]</span>,<span style="color: #907373;">[</span><span style="color: #6276ba;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #6276ba;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #907373;">]</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del procedimiento de búsqueda en anchura se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_b_anchura.pl">b_anchura.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-org3452cff" class="outline-3">
<h3 id="org3452cff"><span class="section-number-3">4.4.</span> Solución del problema del paseo mediante búsqueda en anchura.</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_paseo, b_anchura<span style="color: #707183;">]</span>.
true.

?- true.

?- <span style="color: #707183;">[</span>p_paseo, b_anchura<span style="color: #707183;">]</span>.
true.

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>0,-1,-2,-3<span style="color: #707183;">]</span> 
?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>-1<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>2<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>-2<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span>-3<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>0,-1,-2,-3<span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb828808" class="outline-2">
<h2 id="orgb828808"><span class="section-number-2">5.</span> Búsqueda óptima (de menor coste)</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgeb44a48" class="outline-3">
<h3 id="orgeb44a48"><span class="section-number-3">5.1.</span> Problema del viaje</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-org9ccb4fe" class="outline-4">
<h4 id="org9ccb4fe"><span class="section-number-4">5.1.1.</span> Descripción del problema del viaje:</h4>
<div class="outline-text-4" id="text-5-1-1">
<ul class="org-ul">
<li>Nos encontramos en una capital andaluza (p.e. Sevilla) y deseamos
ir a otra capital andaluza (p.e. Almería). Los autobuses sólo van de cada
capital a sus vecinas, como se muestra en el siguiente mapa <br />
<img src="./fig/tema-8-andalucia.png" alt="tema-8-andalucia.png" /></li>
</ul>
</div>
</div>

<div id="outline-container-org94e1b17" class="outline-4">
<h4 id="org94e1b17"><span class="section-number-4">5.1.2.</span> Representación del problema del viaje</h4>
<div class="outline-text-4" id="text-5-1-2">
<ul class="org-ul">
<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>sevilla<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>almer&#237;a<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   <span style="color: #707183;">(</span> conectado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">;</span> conectado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #7388d6;">)</span> <span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>conectado(?E1,?E2)</code> se verifica si <code>E1</code> y <code>E2</code> están conectados.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>huelva,sevilla<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>huelva,c&#225;diz<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,c&#243;rdoba<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,m&#225;laga<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,c&#225;diz<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,ja&#233;n<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,granada<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,m&#225;laga<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#225;diz,m&#225;laga<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>m&#225;laga,granada<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>ja&#233;n,granada<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>granada,almer&#237;a<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>coste(+E1,+E2,?C)</code> se verifica si <code>C</code> es la distancia entre <code>E1</code> y
<code>E2</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coste</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   coordenadas<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">P1</span><span style="color: #707183;">)</span>,
   coordenadas<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">P2</span><span style="color: #707183;">)</span>,
   distancia<span style="color: #707183;">(</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>coordenadas(E,C)</code> se verifica si <code>C</code> son las coordenadas de <code>E</code> según la
siguiente tabla: 
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">almería</td>
<td class="org-right">409.5</td>
<td class="org-right">93</td>
</tr>

<tr>
<td class="org-left">cádiz</td>
<td class="org-right">63</td>
<td class="org-right">57</td>
</tr>

<tr>
<td class="org-left">córdoba</td>
<td class="org-right">198</td>
<td class="org-right">207</td>
</tr>

<tr>
<td class="org-left">granada</td>
<td class="org-right">309</td>
<td class="org-right">127.5</td>
</tr>

<tr>
<td class="org-left">huelva</td>
<td class="org-right">3</td>
<td class="org-right">139.5</td>
</tr>

<tr>
<td class="org-left">jaén</td>
<td class="org-right">295.5</td>
<td class="org-right">192</td>
</tr>

<tr>
<td class="org-left">málaga</td>
<td class="org-right">232.5</td>
<td class="org-right">75</td>
</tr>

<tr>
<td class="org-left">sevilla</td>
<td class="org-right">90</td>
<td class="org-right">153</td>
</tr>
</tbody>
</table>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>almer&#237;a, <span style="color: #7388d6;">[</span>409.5,  93  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>c&#225;diz,   <span style="color: #7388d6;">[</span> 63  ,  57  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>c&#243;rdoba, <span style="color: #7388d6;">[</span>198  , 207  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>granada, <span style="color: #7388d6;">[</span>309  , 127.5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>huelva,  <span style="color: #7388d6;">[</span>  3  , 139.5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>ja&#233;n,    <span style="color: #7388d6;">[</span>295.5, 192  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>m&#225;laga,  <span style="color: #7388d6;">[</span>232.5,  75  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coordenadas</span><span style="color: #707183;">(</span>sevilla, <span style="color: #7388d6;">[</span> 90  , 153  <span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>distancia(+E1,+E2,?D)</code> se verifica si <code>D</code> es la distancia de <code>E1</code> a
<code>E2</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X1</span>,<span style="color: #a0522d;">Y1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">X2</span>,<span style="color: #a0522d;">Y2</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">D</span> is sqrt<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">X2</span><span style="color: #7388d6;">)</span>**2+<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y1</span>-<span style="color: #a0522d;">Y2</span><span style="color: #7388d6;">)</span>**2<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del problema del viaje se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_viaje.pl">p_viaje.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgf3221ac" class="outline-3">
<h3 id="orgf3221ac"><span class="section-number-3">5.2.</span> Solución del problema del viaje mediante búsqueda en profundidad y en anchura</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_viaje, b_profundidad_con_ciclos, b_anchura<span style="color: #707183;">]</span>.
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,c&#243;rdoba,ja&#233;n,granada,almer&#237;a<span style="color: #707183;">]</span>

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,c&#243;rdoba,granada,almer&#237;a<span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orged3e9e4" class="outline-3">
<h3 id="orged3e9e4"><span class="section-number-3">5.3.</span> Primer procedimiento de búsqueda óptima</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li><p>
<code>óptima_1(?S)</code> se verifica si <code>S</code> es una solución óptima del problema;
es decir, <code>S</code> es una solución del problema y no hay otra solución de
menor coste.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   coste_camino<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>profundidad_con_ciclos<span style="color: #909183;">(</span><span style="color: #a0522d;">S1</span><span style="color: #909183;">)</span>,
        coste_camino<span style="color: #909183;">(</span><span style="color: #a0522d;">S1</span>,<span style="color: #a0522d;">C1</span><span style="color: #909183;">)</span>,
        <span style="color: #a0522d;">C1</span> &lt; <span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>coste_camino(+L,?C)</code> se verifica si <code>C</code> es el coste del camino
<code>L</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coste_camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   coste<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coste_camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   coste<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C1</span><span style="color: #707183;">)</span>,
   coste_camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">C</span> is <span style="color: #a0522d;">C1</span>+<span style="color: #a0522d;">C2</span>.
</pre>
</div></li>

<li>El código del primer procedimiento de búsqueda óptima se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_b_optima_1.pl">b_optima_1.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgd65da68" class="outline-3">
<h3 id="orgd65da68"><span class="section-number-3">5.4.</span> Solución del problema del viaje mediante búsqueda óptima</h3>
<div class="outline-text-3" id="text-5-4">
<ul class="org-ul">
<li><p>
La solución (y la comparaciones con las anteriores) es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_viaje, b_profundidad_con_ciclos, b_anchura, b_optima_1<span style="color: #707183;">]</span>.
true.

?- &#243;ptima_1<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span>, b_optima_1:coste_camino<span style="color: #707183;">(</span>S,C<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,m&#225;laga,granada,almer&#237;a<span style="color: #707183;">]</span>,
C = 361.48952882676883 

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span>, b_optima_1:coste_camino<span style="color: #707183;">(</span>S,C<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,c&#243;rdoba,ja&#233;n,granada,almer&#237;a<span style="color: #707183;">]</span>,
C = 391.54918146974836 

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span>, b_optima_1:coste_camino<span style="color: #707183;">(</span>S,C<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,c&#243;rdoba,granada,almer&#237;a<span style="color: #707183;">]</span>,
C = 363.537398328421 
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd794165" class="outline-3">
<h3 id="orgd794165"><span class="section-number-3">5.5.</span> Segundo procedimiento de búsqueda óptima</h3>
<div class="outline-text-3" id="text-5-5">
<ul class="org-ul">
<li>Un <i>nodo</i> es un término de la forma <code>C-[E(n),...,E(1)]</code> tal
que <code>E(1)</code> es el estado inicial, <code>E(i+1)</code> es un sucesor de
<code>E(i)</code> y <code>C</code> es el coste de dicho camino.</li>

<li><p>
<code>óptima(?S)</code> se verifica si <code>S</code> es una solución del problema mediante
búsqueda óptima; es decir, <code>S</code> es la solución obtenida por búsqueda óptima a
partir de <code>[0-[E]]</code>, donde <code>E</code> el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   &#243;ptima<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>óptima(+Abiertos,?S)</code> se verifica si <code>S</code> es una solución del problema
a partir de la lista de nodos <code>Abiertos</code> encontrada por búsqueda
óptima. El procedimiento es
</p>
<ul class="org-ul">
<li>1. Si 
<ul class="org-ul">
<li>1.1 <code>C-[E|R]</code> es el primer elemento de <code>Abiertos</code> y</li>
<li>1.2 <code>E</code> es un estado final, entonces</li>
<li>1.3 <code>S</code> es la inversa de <code>[E|R]</code> y el coste de <code>S</code> es <code>C</code>.</li>
</ul></li>
<li>2. Si <code>N</code> es el mejor nodo de <code>Abiertos</code> y <code>RAbiertos</code> son los
restantes; 
<ul class="org-ul">
<li>2.1 <code>Sucesores</code> son los nodos sucesores de <code>N</code> (es decir, si <code>N = C-[E|R]</code>,
entonces <code>Sucesores</code> son los nodos de la forma <code>C1-[E1,E|R]</code> donde
<code>E1</code> es un sucesor de <code>E</code> que no pertenece a <code>[E|R]</code> y <code>C1</code> es la suma
de <code>C</code> y el coste de <code>E</code> a <code>E1</code>),</li>
<li>2.2 <code>Abiertos1</code> es la lista obtenida añadiendo <code>Sucesores</code> a
continuación de <code>RAbiertos</code> y</li>
<li>2.3 <code>Abiertos2</code> es la lista obtenida ordenando <code>Abiertos1</code>; entonces</li>
<li>2.4 <code>S</code> es la solución encontrada por búsqueda óptima a partir de
<code>Abiertos2</code>.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_C</span>-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_RA</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,                       <span style="color: #b22222;">% </span><span style="color: #b22222;">1.2</span>
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.                      <span style="color: #b22222;">% </span><span style="color: #b22222;">1.3</span>
<span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">RAbiertos</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   expande<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,                  <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">RAbiertos</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">Abiertos1</span><span style="color: #707183;">)</span>, <span style="color: #b22222;">% </span><span style="color: #b22222;">2.3</span>
   sort<span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos1</span>,<span style="color: #a0522d;">Abiertos2</span><span style="color: #707183;">)</span>,             <span style="color: #b22222;">% </span><span style="color: #b22222;">2.4</span>
   &#243;ptima<span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos2</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.                   <span style="color: #b22222;">% </span><span style="color: #b22222;">2.5</span>
</pre>
</div></li>

<li><p>
<code>expande(+N,?Sucesores)</code> se verifica si <code>Sucesores</code> es la lista de
sucesores del nodo <code>N</code> (es decir, si <code>N=C-[E|R]</code>, entonces <code>Sucesores</code> son
los nodos de la forma <code>C1-[E1,E|R]</code> donde <code>E1</code> es un sucesor de <code>E</code> que no
pertenece a <code>[E|R]</code> y <code>C1</code> es la suma de <code>C</code> y el coste de <code>E</code> a <code>E1</code>).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #a0522d;">C</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">C1</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #907373;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #907373;">]</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            coste<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C2</span><span style="color: #909183;">)</span>,
            <span style="color: #a0522d;">C1</span> is <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">C2</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del segundo procedimiento de búsqueda óptima se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_b_optima_2.pl">b_optima_2.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-org3dcabfd" class="outline-3">
<h3 id="org3dcabfd"><span class="section-number-3">5.6.</span> Comparación de procedimientos de búsqueda óptima</h3>
<div class="outline-text-3" id="text-5-6">
<ul class="org-ul">
<li><p>
Las comparaciones son
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_viaje, b_optima_1<span style="color: #707183;">]</span>.
true.

?- time<span style="color: #707183;">(</span>&#243;ptima_1<span style="color: #7388d6;">(</span>S<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 2,458 inferences, 0.000 CPU<span style="color: #a020f0;"> in</span> 0.000 seconds <span style="color: #707183;">(</span>100% CPU, 7720577 Lips<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>sevilla,m&#225;laga,granada,almer&#237;a<span style="color: #707183;">]</span> 

?- <span style="color: #707183;">[</span>p_viaje, b_optima_2<span style="color: #707183;">]</span>.
true.

?- time<span style="color: #707183;">(</span>&#243;ptima<span style="color: #7388d6;">(</span>S<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
% 1,487 inferences, 0.001 CPU<span style="color: #a020f0;"> in</span> 0.001 seconds <span style="color: #707183;">(</span>100% CPU, 1310784 Lips<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>sevilla,m&#225;laga,granada,almer&#237;a<span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org2c9940a" class="outline-2">
<h2 id="org2c9940a"><span class="section-number-2">6.</span> Búsqueda en escalada (con heurística).</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>La <i>heurística</i> de un estado es una estimación del mínimo coste de las
soluciones a partir de dicho estado.</li>

<li>Un <i>nodo</i> es un término de la forma <code>H-[E(n),...,E(1)]</code> donde [E_n,&#x2026;,E_1]
es una lista de estados de forma que E_1 es el estado inicial y
E_(i+1) es un sucesor de E_i y H es la heurística de E_n.</li>

<li><p>
<code>escalada(?S)</code> se verifica si <code>S</code> es una solución del problema
mediante búsqueda en escalada. El procedimiento es: 
</p>
<ul class="org-ul">
<li>Sea <code>E</code> el estado inicial y <code>H</code> su heurística. La solución <code>S</code> es la
solución obtenida por búsqueda en escalada a partir de <code>H-[E]</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">escalada</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Sol</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>,
   escalada<span style="color: #707183;">(</span><span style="color: #a0522d;">H</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sol</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>escalada(+N,?S)</code> se verifica si <code>S</code> es una solución del problema a partir
del nodo <code>N</code> encontrada por búsqueda en escalada. El procedimiento es
</p>
<ul class="org-ul">
<li>1. Si <code>N = H-[E|R]</code> y
<ul class="org-ul">
<li>1.1 <code>E</code> es un estado final, entonces</li>
<li>1.2 <code>S</code> es la inversa de <code>[E|R]</code>.</li>
</ul></li>
<li>2. Si <code>N = H-[E|C]</code> y
<ul class="org-ul">
<li>2.1 <code>E1</code> es un sucesor de <code>E</code> con heurística <code>H1 &lt; H</code> y <code>E</code> no
tiene sucesores con heurística menor que <code>H1</code>, entonces</li>
<li>2.2 <code>S</code> es la solución por escalada a partir de <code>H1-[E1,E|R]</code>.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">escalada</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_H</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,          <span style="color: #b22222;">% </span><span style="color: #b22222;">1.1</span>
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.         <span style="color: #b22222;">% </span><span style="color: #b22222;">1.2</span>
<span style="color: #0000ff;">escalada</span><span style="color: #707183;">(</span><span style="color: #a0522d;">H</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   mejor_sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H1</span><span style="color: #707183;">)</span>, <span style="color: #b22222;">% </span><span style="color: #b22222;">2.1</span>
   escalada<span style="color: #707183;">(</span><span style="color: #a0522d;">H1</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.  <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>

<span style="color: #0000ff;">mejor_sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H1</span><span style="color: #707183;">)</span> :-
   sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">H1</span> &lt; <span style="color: #a0522d;">H</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E2</span><span style="color: #909183;">)</span>,
        heuristica<span style="color: #909183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">H2</span><span style="color: #909183;">)</span>,
        <span style="color: #a0522d;">H2</span> &lt; <span style="color: #a0522d;">H1</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>

<div id="outline-container-org2591605" class="outline-3">
<h3 id="org2591605"><span class="section-number-3">6.1.</span> Heurística del problema del viaje</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><p>
<code>heuristica(E,H)</code> se verifica si <code>H4 es la heurística de ~E</code> (es
decir, la distancia de <code>E</code> al estado final).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   coste<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>.
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org5e9b44d" class="outline-3">
<h3 id="org5e9b44d"><span class="section-number-3">6.2.</span> Solución del problema del viaje mediante búsqueda en Escalada</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_viaje, b_escalada<span style="color: #707183;">]</span>.
true.

?- escalada<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span>sevilla,m&#225;laga,granada,almer&#237;a<span style="color: #707183;">]</span> 

?- trace<span style="color: #707183;">(</span>escalada,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- escalada<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: b_escalada:escalada<span style="color: #707183;">(</span>_8632<span style="color: #707183;">)</span>
 T Call: b_escalada:escalada<span style="color: #707183;">(</span>325.08498888752155-<span style="color: #7388d6;">[</span>sevilla<span style="color: #7388d6;">]</span>,_8632<span style="color: #707183;">)</span>
 T Call: b_escalada:escalada<span style="color: #707183;">(</span>177.91290003819284-<span style="color: #7388d6;">[</span>m&#225;laga,sevilla<span style="color: #7388d6;">]</span>,_8632<span style="color: #707183;">)</span>
 T Call: b_escalada:escalada<span style="color: #707183;">(</span>106.25676449054902-<span style="color: #7388d6;">[</span>granada,m&#225;laga,sevilla<span style="color: #7388d6;">]</span>,_8632<span style="color: #707183;">)</span>
 T Call: b_escalada:escalada<span style="color: #707183;">(</span>0.0-<span style="color: #7388d6;">[</span>almer&#237;a,granada,m&#225;laga,sevilla<span style="color: #7388d6;">]</span>,_8632<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span>sevilla,m&#225;laga,granada,almer&#237;a<span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb6bbb26" class="outline-2">
<h2 id="orgb6bbb26"><span class="section-number-2">7.</span> Búsqueda por primero el mejor</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgae91ae6" class="outline-3">
<h3 id="orgae91ae6"><span class="section-number-3">7.1.</span> Problema de las fichas</h3>
<div class="outline-text-3" id="text-7-1">
</div>
<div id="outline-container-org57d4a00" class="outline-4">
<h4 id="org57d4a00"><span class="section-number-4">7.1.1.</span> Descripción del problema de las fichas</h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
Se considera un tablero con 7 cuadrados consecutivos. Inicialmente, en
cada uno de los 3 primeros cuadrados hay una ficha blanca y en cada uno
de los 3 últimos cuadrados hay una ficha verde. El objetivo consiste en
tener las fichas verdes al principiocipio y las blancas al final.
</p>

<p>
La situación inicial es
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+---+---+---+---+---+---+
| B | B | B |   | V | V | V |
+---+---+---+---+---+---+---+

</pre>
</div>
<p>
y la final es
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+---+---+---+---+---+---+
| V | V | V |   | B | B | B |
+---+---+---+---+---+---+---+

</pre>
</div>

<p>
Los movimientos permitidos consisten en desplazar una ficha al hueco
saltando, como máximo, sobre otras dos.
</p>
</div>
</div>

<div id="outline-container-org61215c4" class="outline-4">
<h4 id="org61215c4"><span class="section-number-4">7.1.2.</span> Representación del problema de las Fichas</h4>
<div class="outline-text-4" id="text-7-1-2">
<ul class="org-ul">
<li>Un estado es una lista de siete elementos representando cada una de
las fichas (<code>B</code> = blanca, <code>V</code> = verde) y el hueco (<code>H</code>).</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b,b,b,h,v,v,v<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>v,v,v,h,b,b,b<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>. Por ejemplo,
</p>
<div class="org-src-container">
<pre class="src src-shell">?- sucesor<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>v, v, v, h, b, b, b<span style="color: #7388d6;">]</span>,E<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
E = <span style="color: #707183;">[</span>v, v, h, v, b, b, b<span style="color: #707183;">]</span> ;
E = <span style="color: #707183;">[</span>v, h, v, v, b, b, b<span style="color: #707183;">]</span> ;
E = <span style="color: #707183;">[</span>h, v, v, v, b, b, b<span style="color: #707183;">]</span> ;
E = <span style="color: #707183;">[</span>v, v, v, b, h, b, b<span style="color: #707183;">]</span> ;
E = <span style="color: #707183;">[</span>v, v, v, b, b, h, b<span style="color: #707183;">]</span> ;
E = <span style="color: #707183;">[</span>v, v, v, b, b, b, h<span style="color: #707183;">]</span> ;
No
</pre>
</div>
<p>
Su definición es
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,<span style="color: #a0522d;">F</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">F</span>,<span style="color: #a0522d;">G</span>,<span style="color: #a0522d;">H</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>descompone(?L1,?L2,?L3,+L4)</code> se verifica si <code>L4</code> es la concatenación
de las listas <code>L1</code>, <code>L2</code> y <code>L3</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">descompone</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span> :-
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L12</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L12</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>compone(+L1,+L2,+L3,?L4)</code> se verifica si <code>L4</code> es la concatenación de
las listas <code>L1</code>, <code>L2</code> y <code>L3</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">compone</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span> :-
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L12</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L12</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
Se considera la heurística que para cada estado vale la suma de piezas
blancas situadas a la izquierda de cada una de las piezas verdes. Por
ejemplo, para el estado
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+---+---+---+---+---+---+
| B | V | B |   | V | V | B |
+---+---+---+---+---+---+---+
</pre>
</div>
<p>
su valor es 1+2+2 = 5.
</p></li>

<li><p>
<code>heuristica(E,H)</code> se verifica si <code>H</code> es la heurística del estado <code>E</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>v<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span> :-
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>h<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span> :-
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span> :-
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">H1</span><span style="color: #707183;">)</span>,
   verdes<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">H</span> is <span style="color: #a0522d;">N</span>+<span style="color: #a0522d;">H1</span>.
<span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span>.

<span style="color: #0000ff;">verdes</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>v<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   verdes<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">N1</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N</span> is <span style="color: #a0522d;">N1</span>+1.
<span style="color: #0000ff;">verdes</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>h<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   verdes<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">verdes</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>b<span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span> :-
   verdes<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">N</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">verdes</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del problema de las fichas se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_fichas.pl">p_fichas.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgdca85c6" class="outline-3">
<h3 id="orgdca85c6"><span class="section-number-3">7.2.</span> Procedimiento de búsqueda por primero el mejor</h3>
<div class="outline-text-3" id="text-7-2">
<ul class="org-ul">
<li>Un <i>nodo</i> es un término <code>H-[E(n),...,E(1)]</code> de forma que <code>E(1)</code> es
el estado inicial, <code>E(i+1)</code> es un sucesor de <code>E(i)</code> y <code>H</code> es la
heurística de <code>E(n)</code>.</li>

<li><i>Abiertos</i> es una lista de nodos (los nodos pendientes de analizar).</li>

<li><i>Cerrados</i> es una lista de estados (los estados analizados).</li>

<li><p>
<code>primero_el_mejor(?S)</code> se verifica si <code>S</code> es una solución del problema
mediante búsqueda por primero el mejor. El procedimiento es
</p>
<ol class="org-ol">
<li>Sea <code>E</code> el estado inicial y</li>
<li><code>H</code> la heurística de <code>E</code>.</li>
<li>La solución <code>S</code> es la obtenida por búsqueda por primero el mejor
con <code>[H-[E]]</code> como la lista de abiertos y <code>[]</code> como la lista de
cerrados.</li>
</ol>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primero_el_mejor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,               <span style="color: #b22222;">% </span><span style="color: #b22222;">1</span>
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>,                 <span style="color: #b22222;">% </span><span style="color: #b22222;">2</span>
   primero_el_mejor<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">H</span>-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span> <span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>. <span style="color: #b22222;">% </span><span style="color: #b22222;">3</span>
</pre>
</div></li>

<li><p>
<code>primero_el_mejor(+Abiertos,+Cerrados,?Solucion)</code>  se verifica si
<code>Solucion</code> es la solución encontrada por búsqueda por primero el mejor a
partir de las listas <code>Abiertos</code> y <code>Cerrados</code>. El procedimiento es
</p>
<ul class="org-ul">
<li>1.1. Si el primer elemento de <code>Abiertos</code> es <code>_-[E|C]</code> y</li>
<li>1.2. <code>E</code> es un estado final, entonces</li>
<li>1.3. <code>S</code> es la inversa de <code>[E|C]</code>.</li>
<li>2.1. Si <code>Abiertos</code> es la lista <code>[_-[E|_]|R]</code>,</li>
<li>2.2. la lista de los sucesores de <code>E</code> que no están ni en <code>Abiertos</code>
ni en <code>Cerrados</code> es <code>Sucesores</code>,</li>
<li>2.3. los nuevos abiertos, <code>NAbiertos1</code>, es la lista obtenida añadiendo
dichos <code>Sucesores</code> a continuación de <code>R</code>,</li>
<li>2.4. la lista ordenada de los nuevos abiertos es <code>NAbiertos</code> y</li>
<li>2.5. los nuevos cerrados, <code>NCerrados</code>, es la lista obtenida añadiendo <code>E</code> a
<code>Cerrados</code>, entonces</li>
<li>2.6. <code>S</code> es la solución obtenida por búsqueda primero el mejor con los
nuevos abiertos y los nuevos cerrados.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">primero_el_mejor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos</span>,<span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Abiertos</span> = <span style="color: #707183;">[</span><span style="color: #a0522d;">_</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #707183;">]</span>,                  <span style="color: #b22222;">% </span><span style="color: #b22222;">1.1</span>
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,                         <span style="color: #b22222;">% </span><span style="color: #b22222;">1.2</span>
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.                        <span style="color: #b22222;">% </span><span style="color: #b22222;">1.3</span>
<span style="color: #0000ff;">primero_el_mejor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos</span>,<span style="color: #a0522d;">Cerrados</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Abiertos</span> = <span style="color: #707183;">[</span><span style="color: #a0522d;">_</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #707183;">]</span>,                  <span style="color: #b22222;">% </span><span style="color: #b22222;">2.1</span>
   expande<span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos</span>,<span style="color: #a0522d;">Cerrados</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,    <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">NAbiertos1</span><span style="color: #707183;">)</span>,          <span style="color: #b22222;">% </span><span style="color: #b22222;">2.3</span>
   sort<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos1</span>,<span style="color: #a0522d;">NAbiertos</span><span style="color: #707183;">)</span>,              <span style="color: #b22222;">% </span><span style="color: #b22222;">2.4</span>
   <span style="color: #a0522d;">NCerrados</span> = <span style="color: #707183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">Cerrados</span><span style="color: #707183;">]</span>,                <span style="color: #b22222;">% </span><span style="color: #b22222;">2.5</span>
   primero_el_mejor<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos</span>,<span style="color: #a0522d;">NCerrados</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>. <span style="color: #b22222;">% </span><span style="color: #b22222;">2.6</span>
</pre>
</div></li>

<li><p>
<code>expande(+Abiertos,+Cerrados,?Sucesores)</code> se verifica si Sucesores es
la lista de los sucesores del primer elemento de <code>Abiertos</code> que no
pertenecen si a <code>Abiertos</code> ni a <code>Cerrados</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos</span>,<span style="color: #a0522d;">Cerrados</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Abiertos</span> = <span style="color: #707183;">[</span><span style="color: #a0522d;">_</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #707183;">]</span>,
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">H1</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #a0522d;">_</span>-<span style="color: #907373;">[</span><span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #907373;">]</span>,<span style="color: #a0522d;">Abiertos</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">Cerrados</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            heuristica<span style="color: #909183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H1</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código de la búsqueda por primero el mejor se encuentra em <a href="https://swish.swi-prolog.org/p/PLP_b_primero_mejor.pl">b_primero_mejor.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-org5056efe" class="outline-3">
<h3 id="org5056efe"><span class="section-number-3">7.3.</span> Solución del problema de las fichas mediante búsqueda por primero el mejor</h3>
<div class="outline-text-3" id="text-7-3">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_fichas, b_primero_mejor<span style="color: #707183;">]</span>.
true.

?- primero_el_mejor<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>b,b,b,h,v,v,v<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,b,b,v,h,v,v<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,b,h,v,b,v,v<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,b,v,v,b,h,v<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,b,v,v,b,v,h<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,b,v,v,h,v,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,h,v,v,b,v,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,v,h,v,b,v,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,v,v,v,b,h,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,v,v,v,h,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>b,v,h,v,v,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>h,v,b,v,v,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>v,v,b,h,v,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>v,v,b,v,h,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>v,v,h,v,b,b,b<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>v,v,v,h,b,b,b<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgf72d39d" class="outline-2">
<h2 id="orgf72d39d"><span class="section-number-2">8.</span> Algoritmo A*</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org6029253" class="outline-3">
<h3 id="org6029253"><span class="section-number-3">8.1.</span> El problema del 8 puzzle</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-org8ae35b2" class="outline-4">
<h4 id="org8ae35b2"><span class="section-number-4">8.1.1.</span> Descripción del problema del 8 puzzle</h4>
<div class="outline-text-4" id="text-8-1-1">
<ul class="org-ul">
<li>La descripción del problema se encuentra al <a href="#orge812181">principio del tema</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-org9721dea" class="outline-4">
<h4 id="org9721dea"><span class="section-number-4">8.1.2.</span> Representación del problema del 9 puzzle</h4>
<div class="outline-text-4" id="text-8-1-2">
<ul class="org-ul">
<li>Un estado es una lista de los elementos del tablero de arriba a abajo
y de izquierda a derecha.</li>

<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>1,2,3,8,h,4,7,6,5<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado <code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   operador<span style="color: #707183;">(</span><span style="color: #a0522d;">O</span><span style="color: #707183;">)</span>,
   transforma<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">O</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>operador(O)</code> se verifica si <code>O</code> es un operador.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">operador</span><span style="color: #707183;">(</span>izquierda<span style="color: #707183;">)</span>. <span style="color: #b22222;">% </span><span style="color: #b22222;">Mover hueco a la izquierda</span>
<span style="color: #0000ff;">operador</span><span style="color: #707183;">(</span>arriba<span style="color: #707183;">)</span>.    <span style="color: #b22222;">% </span><span style="color: #b22222;">Mover hueco arriba</span>
<span style="color: #0000ff;">operador</span><span style="color: #707183;">(</span>derecha<span style="color: #707183;">)</span>.   <span style="color: #b22222;">% </span><span style="color: #b22222;">Mover hueco a la derecha</span>
<span style="color: #0000ff;">operador</span><span style="color: #707183;">(</span>abajo<span style="color: #707183;">)</span>.     <span style="color: #b22222;">% </span><span style="color: #b22222;">Mover hueco abajo</span>
</pre>
</div></li>

<li><p>
<code>transforma(+E1,+O,?E2)</code> se verifica si <code>E2</code> es el estado obtenido
aplicándole a <code>E1</code> el operador <code>O</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">transforma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,izquierda,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   el_hueco_no_esta_en_la_primera_columna<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">A</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">transforma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,arriba,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">A</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">transforma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,derecha,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   el_hueco_no_esta_en_la_ultima_columna<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">A</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">A</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">transforma</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,abajo,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   descompone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span>h,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,<span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   compone<span style="color: #707183;">(</span><span style="color: #a0522d;">I</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">C</span>,<span style="color: #a0522d;">A</span>,<span style="color: #a0522d;">B</span>,h<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>el_hueco_no_esta_en_la_primera_columna(E)</code> se verifica si en el
estado <code>E</code>, el hueco no está en la primera columna.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">el_hueco_no_esta_en_la_primera_columna</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   nth0<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">E</span>,h<span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N</span> mod 3 =\= 0.
</pre>
</div></li>

<li><p>
<code>el_hueco_no_esta_en_la_ultima_columna(E)</code> se verifica si en el estado
<code>E</code>, el hueco no está en la ultima columna.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">el_hueco_no_esta_en_la_ultima_columna</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   nth0<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">E</span>,h<span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">N</span> mod 3 =\= 2.
</pre>
</div></li>

<li><p>
<code>descompone(?L1,?L2,?L3,+L4)</code> se verifica si <code>L4</code> es la concatenación
de las listas <code>L1</code>, <code>L2</code> y <code>L3</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">descompone</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span> :-
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L12</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L12</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>compone(+L1,+L2,+L3,?L4)</code> se verifica si <code>L4</code> es la concatenación de
las listas <code>L1</code>, <code>L2</code> y <code>L3</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">compone</span><span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span> :-
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L1</span>,<span style="color: #a0522d;">L2</span>,<span style="color: #a0522d;">L12</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">L12</span>,<span style="color: #a0522d;">L3</span>,<span style="color: #a0522d;">L4</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>heuristica(+E,?H)</code> se verifica si <code>H</code> es el número de piezas
colocadas en <code>E</code> en distinto lugar que en el estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">heuristica</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">EF</span><span style="color: #707183;">)</span>,
   diferencias<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">EF</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>diferencias(+L1,+L2,?D)</code> se verifica si <code>D</code> es el número de elementos
de la lista <code>L1</code> distintos de los correspondientes en <code>L2</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">diferencias</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">X</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R1</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R2</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span><span style="color: #707183;">)</span> :-
   diferencias<span style="color: #707183;">(</span><span style="color: #a0522d;">R1</span>,<span style="color: #a0522d;">R2</span>,<span style="color: #a0522d;">D1</span><span style="color: #707183;">)</span>,
   <span style="color: #707183;">(</span> <span style="color: #7388d6;">(</span><span style="color: #a0522d;">X</span>==h<span style="color: #a020f0;">;</span> <span style="color: #a0522d;">X</span>==<span style="color: #a0522d;">Y</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">-&gt;</span> <span style="color: #a0522d;">D</span> is <span style="color: #a0522d;">D1</span>
   <span style="color: #a020f0;">;</span> otherwise    <span style="color: #a020f0;">-&gt;</span> <span style="color: #a0522d;">D</span> is <span style="color: #a0522d;">D1</span>+1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">diferencias</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span>,<span style="color: #7388d6;">[]</span>,0<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>coste(+E1,+E2,?C)</code> se verifica si C es el coste de pasar de E1 a E2.
En este caso, todos los costes valen 1.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coste</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #a0522d;">_</span>,1<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del 8 puzzle se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_p_8_puzzle.pl">p_8_puzzle.pl</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org53b15cb" class="outline-3">
<h3 id="org53b15cb"><span class="section-number-3">8.2.</span> El algoritmo A*</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li>Un <i>nodo</i> es un término de la forma <code>F/C-[E(n),...,E(1)]</code> donde
<code>[E(n),...,E(1)]</code> es una lista de estados de forma que <code>E(1)</code> es el estado
inicial y <code>E(i+1)</code> es un sucesor de <code>E(i)</code>, <code>C</code> es el coste de dicho camino
y <code>F</code> es la suma de <code>C</code> y la heurística de <code>E(n)</code>.</li>

<li>Abiertos es una lista de nodos.</li>

<li><p>
<code>a_estrella(?S)</code> se verifica si <code>S</code> es una solución del problema
mediante A*. El procedimiento es
</p>
<ul class="org-ul">
<li>Sea <code>E</code> el estado inicial y <code>H</code> su heurística. La solución <code>S</code> es la
solución obtenida por A* a partir de <code>[H/0-[E]]</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">a_estrella</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   heuristica<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">H</span><span style="color: #707183;">)</span>,
   a_estrella<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">H</span>/0-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>a_estrella(+Abiertos,?S)</code> se verifica si <code>S</code> es una solución del
problema a partir de <code>Abiertos</code> mediante A*. El procedimiento es
</p>
<ul class="org-ul">
<li>1. Si <code>_-[E|C]</code> es el mejor nodo de <code>Abiertos</code> y
<ul class="org-ul">
<li>1.1 <code>E</code> es un estado final, entonces</li>
<li>1.2 <code>S</code> es la inversa de <code>[E|C]</code>.</li>
</ul></li>
<li>2. Si <code>N</code> es el mejor nodo de <code>Abiertos</code> y <code>R</code> son los restantes;
<ul class="org-ul">
<li>2.1 <code>Sucesores</code> son los sucesores de <code>E</code> que no están en su camino,</li>
<li>2.2 <code>NAbiertos1</code> es la lista obtenida añadiendo <code>Sucesores</code> a
continuación de <code>R</code> y</li>
<li>2.3 <code>NAbiertos2</code> es la lista obtenida ordenando <code>NAbiertos1</code>; entonces</li>
<li>2.4 <code>S</code> es la solución encontrada por búsqueda minimal a partir de
<code>Nodos2</code> y <code>Co</code> es su coste.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">a_estrella</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_</span>-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,                <span style="color: #b22222;">% </span><span style="color: #b22222;">1.1</span>
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.               <span style="color: #b22222;">% </span><span style="color: #b22222;">1.2</span>
<span style="color: #0000ff;">a_estrella</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   expande<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,           <span style="color: #b22222;">% </span><span style="color: #b22222;">2.1</span>
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">NAbiertos1</span><span style="color: #707183;">)</span>, <span style="color: #b22222;">% </span><span style="color: #b22222;">2.2</span>
   sort<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos1</span>,<span style="color: #a0522d;">NAbiertos2</span><span style="color: #707183;">)</span>,    <span style="color: #b22222;">% </span><span style="color: #b22222;">2.3</span>
   a_estrella<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos2</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.       <span style="color: #b22222;">% </span><span style="color: #b22222;">2.4</span>
</pre>
</div></li>

<li><p>
<code>expande(+N,?Sucs)</code> se verifica si <code>Sucs</code> es la lista de sucesores del
nodo <code>N</code> que no han sido visitados (es decir, los sucesores del primer
elemento de <code>N</code> que no pertenecen al resto de <code>N</code>).
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>/<span style="color: #a0522d;">C</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucs</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">F1</span>/<span style="color: #a0522d;">C1</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">R</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            coste<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C2</span><span style="color: #909183;">)</span>,
            <span style="color: #a0522d;">C1</span> is <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">C2</span>,
            heuristica<span style="color: #909183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">H1</span><span style="color: #909183;">)</span>,
            <span style="color: #a0522d;">F1</span> is <span style="color: #a0522d;">C1</span>+<span style="color: #a0522d;">H1</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucs</span><span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código del algoritmo A* se encuentra en <a href="https://swish.swi-prolog.org/p/PLP_b_a_estrella.pl">b_a_estrella.pl</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgef2ae51" class="outline-3">
<h3 id="orgef2ae51"><span class="section-number-3">8.3.</span> Solucióm del 8 puzzle mediante el algoritmo A*</h3>
<div class="outline-text-3" id="text-8-3">
<ul class="org-ul">
<li><p>
La solución es
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>p_8_puzzle, b_a_estrella<span style="color: #707183;">]</span>.
true.

?- a_estrella<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,h,3,1,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>h,2,3,1,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>1,2,3,h,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>1,2,3,8,h,4,7,6,5<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> 

?- trace<span style="color: #707183;">(</span>expande, +call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- a_estrella<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>4/0-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_5016<span style="color: #707183;">)</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>4/1-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_5996<span style="color: #707183;">)</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>5/2-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>2,8,3,h,1,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_7108<span style="color: #707183;">)</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>5/2-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>2,h,3,1,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_8142<span style="color: #707183;">)</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>5/3-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>h,2,3,1,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,h,3,1,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_9152<span style="color: #707183;">)</span>
 T Call: b_a_estrella:expande<span style="color: #707183;">(</span>5/4-<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>1,2,3,h,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>h,2,3,1,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,h,3,1,8,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #909183;">]</span>,
                                   <span style="color: #909183;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,_10006<span style="color: #707183;">)</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>2,8,3,1,6,4,7,h,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,8,3,1,h,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,h,3,1,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>h,2,3,1,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>1,2,3,h,8,4,7,6,5<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>1,2,3,8,h,4,7,6,5<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> 
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgdde0c57" class="outline-2">
<h2 id="orgdde0c57"><span class="section-number-2">9.</span> Ejercicios</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgc614cc2" class="outline-3">
<h3 id="orgc614cc2"><span class="section-number-3">9.1.</span> Problemas de los bloques</h3>
<div class="outline-text-3" id="text-9-1">
<hr />
<p>
<b>Ejercicio 1.1.</b> En una mesa hay una pila de bloques y sitio para otras
dos pilas:
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+  
| C |  
+---+  
| A |  
+---+  
| B |  
+---+    +---+    +---+
</pre>
</div>

<p>
Las operaciones que se pueden realizar son:
</p>
<ul class="org-ul">
<li>Mover el bloque situado en la cima de una pila a la mesa.</li>
<li>Mover un bloque de la mesa a la cima de una pila.</li>
<li>Mover un bloque situado en la cima de una pila a la cima de otra
pila.</li>
</ul>

<p>
El problema consiste en poner los bloques de la siguiente forma
</p>
<div class="org-src-container">
<pre class="src src-txt">+---+  
| A |  
+---+  
| B |  
+---+  
| C |  
+---+
</pre>
</div>

<p>
En la representación del problema se consideran que los estado son
listas de tres elementos, cada uno de los cuales es una lista con
los elementos que la forman (el primero es la cima y el último es
la base).
</p>

<p>
Definir la relación <code>estado_inicial(?E)</code> que se verifica si <code>E</code> es el
estado inicial. 
</p>
<hr />

<p>
<b>Solución</b>
</p>

<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a,b<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.2.</b> Definir la relación <code>estado_final(?E)</code> que se verifica
si <code>E</code> es un estado final.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   member<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>a,b,c<span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
</pre>
</div>
<hr />
<p>
<b>Ejercicio 1.3.</b> Definir la relación <code>sucesor(+E1,?E2)</code> que se verifica
si <code>E2</code> es un sucesor del estado <code>E1</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">R</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P2</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P3</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P1</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P3</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">R</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P3</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P1</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #a0522d;">P2</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">P1</span>,<span style="color: #909183;">[</span><span style="color: #a0522d;">B</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">P2</span><span style="color: #909183;">]</span>,<span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.4.</b> Intentar resolver el problema mediante búsqueda en
profundidad sin ciclos.
</p>
<hr />

<p>
<b>Solución</b>
Con la búsqueda en profundidad sin ciclos no se encuentra solución.
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>b_profundidad_sin_ciclos<span style="color: #707183;">]</span>.
true.

?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.

?- profundidad_sin_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
 T Call: estado_final<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a,b<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a,b<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>a,c<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,<span style="color: #909183;">[</span>b,a,c<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
 T Call: estado_final<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,<span style="color: #909183;">[</span>a,c<span style="color: #909183;">]</span>,<span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>
 ...
?- trace<span style="color: #707183;">(</span>estado_final,-call<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
true.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.5.</b> Resolver el problema mediante búsqueda en profundidad
con ciclos. 
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>b_profundidad_con_ciclos<span style="color: #707183;">]</span>.
true.

?- profundidad_con_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a,b<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a,b<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b,a,c<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a,b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a,b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c,a<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c,b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c,b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b,c,a<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c,b<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a,c,b<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c,b<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c,a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c,a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,b<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>b,a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b,a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a,b,c<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>

<hr />
<p>
<b>Ejercicio 1.6.</b> Resolver el problema mediante búsqueda en anchura.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">?-<span style="color: #707183;">[</span>b_anchura<span style="color: #707183;">]</span>.
true.

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>c,a,b<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span>,      <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>a,b<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>b<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>c<span style="color: #909183;">]</span>,     <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>b,c<span style="color: #909183;">]</span>,   <span style="color: #909183;">[</span>a<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span><span style="color: #909183;">[]</span>,      <span style="color: #909183;">[</span>a,b,c<span style="color: #909183;">]</span>, <span style="color: #909183;">[]</span><span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge71dc2c" class="outline-3">
<h3 id="orge71dc2c"><span class="section-number-3">9.2.</span> Problema de las 8 reinas</h3>
<div class="outline-text-3" id="text-9-2">
<hr />
<p>
<b>Ejercicio 2.1.</b> El problema de las 8 reinas consiste en colocar 8
reinas en un tablero rectangular de dimensiones 8 por 8 de forma que
no se encuentren más de una en la misma línea: horizontal, vertical o
diagonal. 
</p>

<p>
Los estados son listas de números que representan las ordenadas de las
respectivas reinas. Por ejemplo, [3,5] representa que se ha colocado
las reinas (1,5) y (2,3).
</p>

<p>
Definir la relación <code>estado_inicial(?E)</code> que se verifica si <code>E</code> es el
estado inicial.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.2.</b> Definir la relación <code>estado_final(?E)</code> que se verifica
si <code>E</code> es un estado final. 
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,8<span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.3.</b> Definir la relación <code>sucesor(+E1,?E2)</code> que se verifica
si <code>E2</code> es un sucesor del estado <code>E1</code>.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span>1,2,3,4,5,6,7,8<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>member<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.

<span style="color: #b22222;">% </span><span style="color: #b22222;">no_ataca(Y,E) se verifica si E = [Y_n,...,Y_1] y la reina colocada en</span>
<span style="color: #b22222;">% </span><span style="color: #b22222;">(n+1,Y) no ataca a las colocadas en (1,Y_1),...,(n,Y_n).</span>
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span>,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y1</span>-<span style="color: #a0522d;">Y</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">Y1</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">D1</span> is <span style="color: #a0522d;">D</span>+1,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">D1</span><span style="color: #707183;">)</span>.
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.4.</b> Resolver el problema por búsqueda en profundidad sin
ciclos.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>b_profundidad_sin_ciclos<span style="color: #707183;">]</span>.
true.

?- profundidad_sin_ciclos<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>,
     <span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>7,3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,7,3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>4,2,7,3,6,8,5,1<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>

<hr />
<p>
<b>Ejercicio 2.5.</b> Resolver el problema por búsqueda en anchura.
</p>
<hr />

<p>
<b>Solución</b>
</p>
<div class="org-src-container">
<pre class="src src-shell">?- <span style="color: #707183;">[</span>b_anchura<span style="color: #707183;">]</span>.
true.

?- anchura<span style="color: #707183;">(</span>S<span style="color: #707183;">)</span><span style="color: #483d8b;">.</span>
S = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>,
     <span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>7,3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>2,7,3,6,8,5,1<span style="color: #7388d6;">]</span>,
     <span style="color: #7388d6;">[</span>4,2,7,3,6,8,5,1<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb1f8826" class="outline-2">
<h2 id="orgb1f8826"><span class="section-number-2">10.</span> Bibliografía</h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li>I. Bratko.
<a href="https://archive.org/details/prologprogrammin0000brat_w4b1">Prolog programming for artificial intelligence (3 ed.)</a>
(Addison&#x2013;Wesley, 1990)
<ul class="org-ul">
<li>Cap. 11 "Basic problem-solving strategies".</li>
</ul></li>

<li>A. Csenki.
<a href="https://books.google.es/books?id=copBGLD4LKwC&amp;lpg=PA1&amp;hl=es&amp;pg=PA3#v=onepage&amp;q&amp;f=false">Applications of Prolog</a>.
(Bookbook, 2009).
<ul class="org-ul">
<li>Cap. 2: Blind search</li>
<li>Cap. 3: Informed search.</li>
</ul></li>

<li>W. Ertel.
<a href="https://books.google.es/books?id=geFHDwAAQBAJ&amp;printsec=frontcover&amp;hl=es#v=onepage&amp;q&amp;f=false">Introduction to artificial intelligence (2E)</a>.
(Springer Verlag, 2017).
<ul class="org-ul">
<li>Cap. 5.6: A planning example.</li>
<li>Cap. 6: Search, games and problem solving.</li>
</ul></li>

<li>P. Flach.
<a href="https://book.simply-logical.space/">Simply logical (Intelligent reasoning by example)</a>.
(John Wiley, 1994)
<ul class="org-ul">
<li>Cap. 5: "Seaching graphs".</li>
</ul></li>

<li>D. Poole, A. Mackworth y R. Goebel.
<a href="https://www.cs.ubc.ca/~poole/ci.html">Computational intelligence (A logical approach)}</a>
(Oxford University Press, 1998)
<ul class="org-ul">
<li>Cap. 4: "Searching".</li>
</ul></li>

<li>Y. Shoham.
<a href="https://books.google.co.ve/books?id=kySjBQAAQBAJ&amp;printsec=frontcover&amp;hl=es#v=onepage&amp;q&amp;f=false">Artificial intelligence techniques in Prolog</a>.
(Morgan Kaufmann, 1994)
<ul class="org-ul">
<li>Cap. 2 "Search".</li>
</ul></li>

<li>T. Smith.
<a href="https://www.inf.ed.ac.uk/teaching/courses/aipp/material/aipp_coursenotes.pdf">Artificial intelligence programming in Prolog</a>.
(Univ. of Edinburgh, 2004).
<ul class="org-ul">
<li>Cap. 12: AI applications of Prolog: State-space search.</li>
</ul></li>

<li>J.M. Spivey
<a href="https://spivey.oriel.ox.ac.uk/wiki/files/logprog/logic.pdf">Introduction to logic programming through Prolog</a>.
(Prentice-Hall International, 1996).
<ul class="org-ul">
<li>Cap. 9: Searching problemas.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr>
<center>
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/curso-i1m/i1m/">Inicial</a> |
   <a href="/curso-i1m/i1m/temas_apuntes_codigos.html">Temas  </a> |
   <a href="/curso-i1m/i1m/manuales.html">Manuales  </a> |
   <a href="/curso-i1m/i1m/ejercicios.html">Ejercicios  </a> |
   <a href="/curso-i1m/i1m/examenes.html">Exámenes  </a> |
   <a href="/curso-i1m/i1m/doc.html">Documentación  </a>
</p>
</center>
<div id="extras">
  <p><a href="/">José A. Alonso Jiménez</a>
  <p>Sevilla, 28 de febrero del 2025</p>
  <p><i class="fa fa-cc"></i> Licencia: <a href="https://creativecommons.org/licenses/by-nc-sa/2.5/es/">Creative Commons</a>.</p>
</div>
</div>
</body>
</html>