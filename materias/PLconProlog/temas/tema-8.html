<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<!-- 28 de mayo del 2022 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tema 8: Resolución de problemas de espacios de estados</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="José A. Alonso" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../../css/estilo-org.css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</div>
<div id="content">
<h1 class="title">Tema 8: Resolución de problemas de espacios de estados</h1>
<div id="table-of-contents">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga0a04b4">1. Ejemplos de problemas mediante espacios de estados</a>
<ul>
<li><a href="#org5526458">1.1. El 8 puzzle</a></li>
<li><a href="#org533239d">1.2. Problema del árbol</a></li>
</ul>
</li>
<li><a href="#orgc1e0328">2. Búsqueda en profundidad sin ciclos</a>
<ul>
<li><a href="#org59b5a64">2.1. Búsqueda en profundidad sin ciclos</a></li>
<li><a href="#org3e92ef6">2.2. Búsqueda en profundidad sin ciclos</a></li>
<li><a href="#orgcfe7a93">2.3. Búsqueda en profundidad sin ciclos: 4 reinas</a></li>
<li><a href="#orge8ce1be">2.4. Búsqueda en profundidad sin ciclos: 4 reinas</a></li>
<li><a href="#org0cdedf3">2.5. Búsqueda en profundidad sin ciclos: 4 reinas</a></li>
<li><a href="#org299c0be">2.6. Búsqueda en profundidad con ciclos: Grafo</a></li>
<li><a href="#orgb532175">2.7. Búsqueda en profundidad con ciclos: Grafo</a></li>
<li><a href="#org8e67af2">2.8. Búsqueda en profundidad con ciclos: Grafo</a></li>
<li><a href="#org994bdd5">2.9. Búsqueda en profundidad con ciclos: Grafo</a></li>
<li><a href="#org57051c2">2.10. Búsqueda en profundidad con ciclos</a></li>
<li><a href="#orgd4602b2">2.11. Búsqueda en profundidad con ciclos: Problema de las jarras</a></li>
<li><a href="#org809a4ed">2.12. Búsqueda en profundidad con ciclos: Problema de las jarras</a></li>
<li><a href="#org3ab6ce0">2.13. Búsqueda en profundidad con ciclos: Problema de las jarras</a></li>
<li><a href="#orgb1b0159">2.14. Búsqueda en profundidad con ciclos: Problema de las jarras</a></li>
<li><a href="#org4627065">2.15. Búsqueda en anchura: Problema del paseo</a></li>
<li><a href="#org6aac169">2.16. Búsqueda en anchura: Problema del paseo</a></li>
<li><a href="#org06f277f">2.17. Búsqueda en anchura: Problema del paseo</a></li>
<li><a href="#org21c9878">2.18. Búsqueda en anchura</a></li>
<li><a href="#org80251fd">2.19. Búsqueda en anchura</a></li>
<li><a href="#org0066928">2.20. Búsqueda en anchura</a></li>
<li><a href="#orga8a9d4e">2.21. Búsqueda óptima: Problema del viaje</a></li>
<li><a href="#orgae90b1d">2.22. Búsqueda óptima: Problema del viaje</a></li>
<li><a href="#org1685c90">2.23. Búsqueda óptima: Problema del viaje</a></li>
<li><a href="#orgd9da0ab">2.24. Búsqueda óptima: Problema del viaje</a></li>
<li><a href="#orgcb110fb">2.25. Búsqueda óptima: Problema del viaje</a></li>
<li><a href="#org2991d26">2.26. Búsqueda óptima</a></li>
<li><a href="#org7a8eb6f">2.27. Búsqueda óptima</a></li>
<li><a href="#orgbd3233a">2.28. Búsqueda óptima (II)</a></li>
<li><a href="#org7d83671">2.29. Búsqueda óptima (II)</a></li>
<li><a href="#org3b4850f">2.30. Búsqueda óptima (II)</a></li>
<li><a href="#orgea918c8">2.31. Búsqueda óptima (II)</a></li>
</ul>
</li>
<li><a href="#org57027cb">3. Bibliografía</a></li>
</ul>
</div>
</div>

<div id="outline-container-orga0a04b4" class="outline-2">
<h2 id="orga0a04b4"><span class="section-number-2">1.</span> Ejemplos de problemas mediante espacios de estados</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org5526458" class="outline-3">
<h3 id="org5526458"><span class="section-number-3">1.1.</span> El 8 puzzle</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Para el 8 puzzle se usa un cajón cuadrado en el que hay situados 8
bloques cuadrados. El cuadrado restante está sin rellenar. Cada
bloque tiene un número. Un bloque adyacente al hueco puede deslizarse
hacia él. El juego consiste en transformar la posición inicial en la
posición final mediante el deslizamiento de los bloques.  En
particular, consideramos el estado inicial y final siguientes: <br />
<img src="./fig/tema-8-8-puzzle-4.png" alt="tema-8-8-puzzle-4.png" /></li>

<li>Ejemplos de movimientos <br />
<img src="./fig/tema-8-8-puzzle-1.png" alt="tema-8-8-puzzle-1.png" /></li>

<li>Solución del 8&#x2013;puzzle: <br />
<img src="./fig/tema-8-8-puzzle-3.png" alt="tema-8-8-puzzle-3.png" /></li>

<li>Representación:
<ul class="org-ul">
<li>Estado inicial: <code>[[2,8,3],[1,6,4],[7,h,5]]</code></li>
<li>Estado final: <code>[[1,2,3],[8,h,4],[7,6,5]]</code></li>
<li>Operadores:
<ul class="org-ul">
<li>Mover el hueco a la izquierda</li>
<li>Mover el hueco arriba</li>
<li>Mover el hueco a la derecha</li>
<li>Mover el hueco abajo</li>
</ul></li>
</ul></li>

<li>Número de estados = 9! = 362.880.</li>
</ul>
</div>
</div>

<div id="outline-container-org533239d" class="outline-3">
<h3 id="org533239d"><span class="section-number-3">1.2.</span> Problema del árbol</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>Descripción del problema
<ul class="org-ul">
<li>El árbol de sucesores es <br />
<img src="./fig/tema-8-arbol.png" alt="tema-8-arbol.png" /></li>
<li>Estado inicial: <code>a</code></li>
<li>Estados finales: <code>f</code> y <code>j</code></li>
</ul></li>

<li>Representación <code>arbol.pl</code></li>
<li><p>
<code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li><p>
<code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,c<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,d<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,e<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,g<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>d,h<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,i<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,j<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>f,k<span style="color: #707183;">)</span>.
</pre>
</div></li>

<li>El código de la descripción anterior se encuentra en</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgc1e0328" class="outline-2">
<h2 id="orgc1e0328"><span class="section-number-2">2.</span> Búsqueda en profundidad sin ciclos</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org59b5a64" class="outline-3">
<h3 id="org59b5a64"><span class="section-number-3">2.1.</span> Búsqueda en profundidad sin ciclos</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li><code>profundidad_sin_ciclos(?S)</code> se verifica si <code>S</code> es una solución del
problema mediante búsqueda en profundidad sin ciclos. Por ejemplo,</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span>arbol<span style="color: #707183;">]</span>.
?- profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span>
?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span>, profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span>9<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>10<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>e<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org3e92ef6" class="outline-3">
<h3 id="org3e92ef6"><span class="section-number-3">2.2.</span> Búsqueda en profundidad sin ciclos</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Algoritmo de búsqueda en profundidad sin ciclos:</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.

<span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">profundidad_sin_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">S1</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">S1</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcfe7a93" class="outline-3">
<h3 id="orgcfe7a93"><span class="section-number-3">2.3.</span> Búsqueda en profundidad sin ciclos: 4 reinas</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Resolución del problema de las 4 reinas
</p>
<ul class="org-ul">
<li>Enunciado: Colocar 4 reinas en un tablero rectangular de dimensiones
4 por 4 de forma que no se encuentren más de una en la misma línea:
horizontal, vertical o diagonal.</li>

<li>Estados: listas de números que representan las ordenadas de las reinas
colocadas. Por ejemplo, [3,1] representa que se ha colocado las reinas
(1,1) y (2,3).</li>

<li><p>
Soluciones:
</p>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'4-reinas'</span>,<span style="color: #8b2252;">'b-profundidad-sin-ciclos'</span><span style="color: #707183;">]</span>.
<span style="color: #a0522d;">Yes</span>
?- profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>, <span style="color: #7388d6;">[</span>2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>4, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>1, 4, 2<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>3, 1, 4, 2<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[]</span>, <span style="color: #7388d6;">[</span>3<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>1, 3<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>4, 1, 3<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>2, 4, 1, 3<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
<span style="color: #a0522d;">No</span>
</pre>
</div></li>
</ul>
</div>
</div>


<div id="outline-container-orge8ce1be" class="outline-3">
<h3 id="orge8ce1be"><span class="section-number-3">2.4.</span> Búsqueda en profundidad sin ciclos: 4 reinas</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Representación del problema de las 4 reinas (<code>4-reinas.pl</code>)
</p>
<ul class="org-ul">
<li><code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[]</span><span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   length<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,4<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span><span style="color: #707183;">)</span> :-
   member<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span>1,2,3,4<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>member<span style="color: #7388d6;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-org0cdedf3" class="outline-3">
<h3 id="org0cdedf3"><span class="section-number-3">2.5.</span> Búsqueda en profundidad sin ciclos: 4 reinas</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Representación del problema de las 4 reinas (<code>4-reinas.pl</code>)
</p>
<ul class="org-ul">
<li><code>no_ataca(Y,E)</code> se verifica si <code>E=[Yn,...,Y1]</code>, entonces la reina
colocada en <code>(n+1,Y)</code> no ataca a las colocadas en <code>(1,Y1)</code>, &hellip;,
<code>(n,Yn)</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span><span style="color: #707183;">)</span> :-
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">E</span>,1<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">_</span>,<span style="color: #7388d6;">[]</span>,<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">no_ataca</span><span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #7388d6;">[</span><span style="color: #a0522d;">Y1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">L</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">D</span><span style="color: #707183;">)</span> :-
   <span style="color: #a0522d;">Y1</span>-<span style="color: #a0522d;">Y</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">Y</span>-<span style="color: #a0522d;">Y1</span> =\= <span style="color: #a0522d;">D</span>,
   <span style="color: #a0522d;">D1</span> is <span style="color: #a0522d;">D</span>+1,
   no_ataca<span style="color: #707183;">(</span><span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">L</span>,<span style="color: #a0522d;">D1</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org299c0be" class="outline-3">
<h3 id="org299c0be"><span class="section-number-3">2.6.</span> Búsqueda en profundidad con ciclos: Grafo</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>Grafo con ciclos</li>
</ul>

<p>
% \begin{verbatim}
%                                   a
%                                 /   \
%                               b       c
%                              /  \    /  \
%                             d    e  f    g
%                           //    /  \  \
%                          h     i    j   k
% \end{verbatim}
</p>

<p>
\includegraphics[scale=0.6]{fig/grafo.eps}
</p>

<ul class="org-ul">
<li>Estado inicial: <code>a</code></li>
<li>Estados finales: <code>f</code> y <code>j</code></li>
<li>Nota: el arco entre <code>d</code> y <code>h</code> es bidireccional</li>
</ul>
</div>
</div>

<div id="outline-container-orgb532175" class="outline-3">
<h3 id="orgb532175"><span class="section-number-3">2.7.</span> Búsqueda en profundidad con ciclos: Grafo</h3>
<div class="outline-text-3" id="text-2-7">
<ul class="org-ul">
<li>Representación <code>grafo.pl</code></li>
<li><code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,b<span style="color: #707183;">)</span>.   <span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>a,c<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,d<span style="color: #707183;">)</span>.   <span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>b,e<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,f<span style="color: #707183;">)</span>.   <span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>c,g<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>d,h<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,i<span style="color: #707183;">)</span>.   <span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>e,j<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>f,k<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span>h,d<span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e67af2" class="outline-3">
<h3 id="org8e67af2"><span class="section-number-3">2.8.</span> Búsqueda en profundidad con ciclos: Grafo</h3>
<div class="outline-text-3" id="text-2-8">
<ul class="org-ul">
<li>Solución</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'grafo'</span>,<span style="color: #8b2252;">'b-profundidad-sin-ciclos'</span><span style="color: #707183;">]</span>.
?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span>, profundidad_sin_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 10<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 14<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
<span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>:  <span style="color: #707183;">(</span> 15<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
....
?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'b-profundidad-con-ciclos'</span><span style="color: #707183;">]</span>.
?- profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, c, f<span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
<span style="color: #a0522d;">No</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org994bdd5" class="outline-3">
<h3 id="org994bdd5"><span class="section-number-3">2.9.</span> Búsqueda en profundidad con ciclos: Grafo</h3>
<div class="outline-text-3" id="text-2-9">
<div class="org-src-container">
<pre class="src src-prolog">?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span>, profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>10<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>a<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>h<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>e<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>j<span style="color: #707183;">)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, b, e, j<span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>f<span style="color: #707183;">)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>a, c, f<span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>k<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>g<span style="color: #707183;">)</span>
<span style="color: #a0522d;">No</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org57051c2" class="outline-3">
<h3 id="org57051c2"><span class="section-number-3">2.10.</span> Búsqueda en profundidad con ciclos</h3>
<div class="outline-text-3" id="text-2-10">
<p>
Procedimiento (<code>b-profundidad-con-ciclos.pl</code>)
</p>
<ul class="org-ul">
<li>Un {\em nodo} es una lista de estados \bfm{[E_n,\dots,E_1]} de forma
que \bfm{E_1} es el estado inicial y \bfm{E_{i+1}} es un sucesor de
\bfm{E_i}.</li>

<li><code>profundidad_con_ciclos(?S)</code> se verifica si <code>S</code> es una solución del
problema mediante búsqueda en profundidad con ciclos.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">profundidad_con_ciclos</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   sucesor<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span>memberchk<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>,
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4602b2" class="outline-3">
<h3 id="orgd4602b2"><span class="section-number-3">2.11.</span> Búsqueda en profundidad con ciclos: Problema de las jarras</h3>
<div class="outline-text-3" id="text-2-11">
<ul class="org-ul">
<li>Enunciado:</li>
<li>Se tienen dos jarras, una de 4 litros de capacidad y otra de 3.</li>
<li>Ninguna de ellas tiene marcas de medición.</li>
<li>Se tiene una bomba que permite llenar las jarras de agua.</li>
<li>Averiguar cómo se puede lograr tener exactamente 2 litros de agua</li>
</ul>
<p>
en la jarra de 4 litros de capacidad.
</p>

<ul class="org-ul">
<li>Representación:</li>
<li>Estado inicial: <code>0-0</code></li>
<li>Estados finales: <code>2-y</code></li>
</ul>
</div>
</div>


<div id="outline-container-org809a4ed" class="outline-3">
<h3 id="org809a4ed"><span class="section-number-3">2.12.</span> Búsqueda en profundidad con ciclos: Problema de las jarras</h3>
<div class="outline-text-3" id="text-2-12">
<ul class="org-ul">
<li>Operadores: \newline
<ul class="org-ul">
<li>Llenar la jarra de 4 litros con la bomba. \newline</li>
<li>Llenar la jarra de 3 litros con la bomba. \newline</li>
<li>Vaciar la jarra de 4 litros en el suelo. \newline</li>
<li>Vaciar la jarra de 3 litros en el suelo. \newline</li>
<li>Llenar la jarra de 4 litros con la jarra de 3 litros. \newline</li>
<li>Llenar la jarra de 3 litros con la jarra de 4 litros. \newline</li>
<li>Vaciar la jarra de 3 litros en la jarra de 4 litros. \newline</li>
<li>Vaciar la jarra de 4 litros en la jarra de 3 litros.</li>
</ul></li>

<li>Solución</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'jarras'</span>,<span style="color: #8b2252;">'b-profundidad-con-ciclos'</span><span style="color: #707183;">]</span>.
?- profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>0-0, 4-0, 4-3, 0-3, 3-0, 3-3, 4-2, 0-2, 2-0<span style="color: #707183;">]</span> <span style="color: #a020f0;">;</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>0-0, 4-0, 4-3, 0-3, 3-0, 3-3, 4-2, 0-2, 2-0, 2-3<span style="color: #707183;">]</span>
<span style="color: #a0522d;">Yes</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3ab6ce0" class="outline-3">
<h3 id="org3ab6ce0"><span class="section-number-3">2.13.</span> Búsqueda en profundidad con ciclos: Problema de las jarras</h3>
<div class="outline-text-3" id="text-2-13">
<p>
Representación (<code>jarras.pl</code>)
</p>
<ul class="org-ul">
<li><code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>0-0<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>2-<span style="color: #a0522d;">_</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1b0159" class="outline-3">
<h3 id="orgb1b0159"><span class="section-number-3">2.14.</span> Búsqueda en profundidad con ciclos: Problema de las jarras</h3>
<div class="outline-text-3" id="text-2-14">
<p>
Representación (<code>jarras.pl</code>)
</p>

<ul class="org-ul">
<li><code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.</li>
</ul>
<p>
\hspace*{-7mm}
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,4-<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>    :- <span style="color: #a0522d;">X</span> &lt; 4.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span>-3<span style="color: #707183;">)</span>    :- <span style="color: #a0522d;">Y</span> &lt; 3.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,0-<span style="color: #a0522d;">Y</span><span style="color: #707183;">)</span>    :- <span style="color: #a0522d;">X</span> &gt; 0.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X</span>-<span style="color: #a0522d;">Y</span>,<span style="color: #a0522d;">X</span>-0<span style="color: #707183;">)</span>    :- <span style="color: #a0522d;">Y</span> &gt; 0.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,4-<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">X1</span> &lt; 4, <span style="color: #a0522d;">T</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>, <span style="color: #a0522d;">T</span> &gt;= 4,
                       <span style="color: #a0522d;">Y2</span> is <span style="color: #a0522d;">Y1</span>-<span style="color: #707183;">(</span>4-<span style="color: #a0522d;">X1</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,<span style="color: #a0522d;">X2</span>-3<span style="color: #707183;">)</span> :- <span style="color: #a0522d;">Y1</span> &lt; 3, <span style="color: #a0522d;">T</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>, <span style="color: #a0522d;">T</span> &gt;= 3,
                       <span style="color: #a0522d;">X2</span> is <span style="color: #a0522d;">X1</span>-<span style="color: #707183;">(</span>3-<span style="color: #a0522d;">Y1</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,<span style="color: #a0522d;">X2</span>-0<span style="color: #707183;">)</span> :- <span style="color: #a0522d;">Y1</span> &gt; 0, <span style="color: #a0522d;">X2</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>, <span style="color: #a0522d;">X2</span> &lt; 4.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">X1</span>-<span style="color: #a0522d;">Y1</span>,0-<span style="color: #a0522d;">Y2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">X1</span> &gt; 0, <span style="color: #a0522d;">Y2</span> is <span style="color: #a0522d;">X1</span>+<span style="color: #a0522d;">Y1</span>, <span style="color: #a0522d;">Y2</span> &lt; 3.
</pre>
</div>
</div>
</div>

<div id="outline-container-org4627065" class="outline-3">
<h3 id="org4627065"><span class="section-number-3">2.15.</span> Búsqueda en anchura: Problema del paseo</h3>
<div class="outline-text-3" id="text-2-15">
<p>
Problema del paseo
</p>
<ul class="org-ul">
<li>Enunciado: Una persona puede moverse en línea recta dando cada vez un
paso hacia la derecha o hacia la izquierda. Podemos representarlo mediante su
posición <code>X</code>. El valor inicial de <code>X</code> es 0. El problema consiste en llegar a
la posición -3.</li>

<li><code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>-3<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">E2</span> is <span style="color: #a0522d;">E1</span>+1.
<span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :- <span style="color: #a0522d;">E2</span> is <span style="color: #a0522d;">E1</span>-1.
</pre>
</div>
</div>
</div>


<div id="outline-container-org6aac169" class="outline-3">
<h3 id="org6aac169"><span class="section-number-3">2.16.</span> Búsqueda en anchura: Problema del paseo</h3>
<div class="outline-text-3" id="text-2-16">
<ul class="org-ul">
<li>Solución por búsqueda en profundidad con ciclos</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'paseo'</span>,<span style="color: #8b2252;">'b-profundidad-con-ciclos'</span><span style="color: #707183;">]</span>.
?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span>, profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>9<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>10<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>2<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>4<span style="color: #707183;">)</span>
 ....
</pre>
</div>
</div>
</div>


<div id="outline-container-org06f277f" class="outline-3">
<h3 id="org06f277f"><span class="section-number-3">2.17.</span> Búsqueda en anchura: Problema del paseo</h3>
<div class="outline-text-3" id="text-2-17">
<ul class="org-ul">
<li>Solución por búsqueda en anchura</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'paseo'</span>,<span style="color: #8b2252;">'b-anchura'</span><span style="color: #707183;">]</span>.
?- trace<span style="color: #707183;">(</span>estado_final,+call<span style="color: #707183;">)</span>, anchura<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>10<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>0<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>11<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>1<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>12<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>-1<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>13<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>2<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>14<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>-2<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>15<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>3<span style="color: #707183;">)</span>
 <span style="color: #a0522d;">T</span> <span style="color: #a0522d;">Call</span>: <span style="color: #707183;">(</span>16<span style="color: #707183;">)</span> estado_final<span style="color: #707183;">(</span>-3<span style="color: #707183;">)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>0, -1, -2, -3<span style="color: #707183;">]</span>
<span style="color: #a0522d;">Yes</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org21c9878" class="outline-3">
<h3 id="org21c9878"><span class="section-number-3">2.18.</span> Búsqueda en anchura</h3>
<div class="outline-text-3" id="text-2-18">
<p>
Procedimiento de búsqueda en anchura (<code>b-anchura.pl</code>):
</p>
<ul class="org-ul">
<li>Un {\em nodo} es una lista de estados \bfm{[E_n,\dots,E_1]} de forma
que \bfm{E_1} es el estado inicial y \bfm{E_{i+1}} es un sucesor de
\bfm{E_i}.</li>

<li>{\em Abiertos} es la lista de nodos pendientes de analizar.</li>

<li><code>anchura(?S)</code> se verifica si <code>S</code> es una solución del problema
mediante búsqueda en anchura.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   anchura<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-org80251fd" class="outline-3">
<h3 id="org80251fd"><span class="section-number-3">2.19.</span> Búsqueda en anchura</h3>
<div class="outline-text-3" id="text-2-19">
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">anchura</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   expande<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">R</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">NAbiertos</span><span style="color: #707183;">)</span>,
   anchura<span style="color: #707183;">(</span><span style="color: #a0522d;">NAbiertos</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-org0066928" class="outline-3">
<h3 id="org0066928"><span class="section-number-3">2.20.</span> Búsqueda en anchura</h3>
<div class="outline-text-3" id="text-2-20">
<ul class="org-ul">
<li><code>expande(+Abiertos,?Sucesores)</code> se verifica si <code>Sucesores</code> es la
lista de los sucesores del primer elemento de <code>Abiertos</code> que no pertenecen ni
al camino que lleva a dicho elemento ni a <code>Abiertos</code>. Por ejemplo, con las
jarras,</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">   ?- expande<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>0-0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, <span style="color: #a0522d;">L1</span><span style="color: #707183;">)</span>.
   <span style="color: #a0522d;">L1</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>4-0, 0-0<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>0-3, 0-0<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>
   ?- expande<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span>4-0, 0-0<span style="color: #909183;">]</span>, <span style="color: #909183;">[</span>0-3, 0-0<span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>, <span style="color: #a0522d;">L2</span><span style="color: #707183;">)</span>.
   <span style="color: #a0522d;">L2</span> = <span style="color: #707183;">[</span><span style="color: #7388d6;">[</span>4-3, 4-0, 0-0<span style="color: #7388d6;">]</span>, <span style="color: #7388d6;">[</span>1-3, 4-0, 0-0<span style="color: #7388d6;">]</span><span style="color: #707183;">]</span>

<span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>memberchk<span style="color: #709870;">(</span><span style="color: #907373;">[</span><span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_</span><span style="color: #907373;">]</span>,<span style="color: #907373;">[</span><span style="color: #6276ba;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">C</span><span style="color: #6276ba;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #907373;">]</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-orga8a9d4e" class="outline-3">
<h3 id="orga8a9d4e"><span class="section-number-3">2.21.</span> Búsqueda óptima: Problema del viaje</h3>
<div class="outline-text-3" id="text-2-21">
<ul class="org-ul">
<li>Enunciado:
Nos encontramos en una capital andaluza (p.e. Sevilla) y deseamos
ir a otra capital andaluza (p.e. Almería). Los autobuses sólo van de cada
capital a sus vecinas.
  \includegraphics[scale=0.6]{fig/andalucia.eps}</li>
</ul>
</div>
</div>

<div id="outline-container-orgae90b1d" class="outline-3">
<h3 id="orgae90b1d"><span class="section-number-3">2.22.</span> Búsqueda óptima: Problema del viaje</h3>
<div class="outline-text-3" id="text-2-22">
<ul class="org-ul">
<li>Solución:</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog">?- <span style="color: #707183;">[</span><span style="color: #8b2252;">'viaje'</span>, <span style="color: #8b2252;">'b-profundidad-con-ciclos'</span>, <span style="color: #8b2252;">'b-anchura'</span><span style="color: #707183;">]</span>.
?- profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>sevilla, c&#243;rdoba, ja&#233;n, granada, almer&#237;a<span style="color: #707183;">]</span>
?- anchura<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>sevilla, c&#243;rdoba, granada, almer&#237;a<span style="color: #707183;">]</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org1685c90" class="outline-3">
<h3 id="org1685c90"><span class="section-number-3">2.23.</span> Búsqueda óptima: Problema del viaje</h3>
<div class="outline-text-3" id="text-2-23">
<p>
Representación (<code>viaje.pl</code>)
</p>
<ul class="org-ul">
<li><code>estado_inicial(?E)</code> se verifica si <code>E</code> es el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_inicial</span><span style="color: #707183;">(</span>sevilla<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>estado_final(?E)</code> se verifica si <code>E</code> es un estado final.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">estado_final</span><span style="color: #707183;">(</span>almer&#237;a<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>sucesor(+E1,?E2)</code> se verifica si <code>E2</code> es un sucesor del estado
<code>E1</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">sucesor</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #707183;">)</span> :-
   <span style="color: #707183;">(</span> conectado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">;</span> conectado<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #7388d6;">)</span> <span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-orgd9da0ab" class="outline-3">
<h3 id="orgd9da0ab"><span class="section-number-3">2.24.</span> Búsqueda óptima: Problema del viaje</h3>
<div class="outline-text-3" id="text-2-24">
<p>
<code>conectado(?E1,?E2)</code> se verifica si <code>E1</code> y <code>E2</code> están conectados.
</p>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>huelva,sevilla<span style="color: #707183;">)</span>.  <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>huelva,c&#225;diz<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,c&#243;rdoba<span style="color: #707183;">)</span>. <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,m&#225;laga<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>sevilla,c&#225;diz<span style="color: #707183;">)</span>.   <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,ja&#233;n<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,granada<span style="color: #707183;">)</span>. <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#243;rdoba,m&#225;laga<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>c&#225;diz,m&#225;laga<span style="color: #707183;">)</span>.    <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>m&#225;laga,granada<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>ja&#233;n,granada<span style="color: #707183;">)</span>.    <span style="color: #0000ff;">conectado</span><span style="color: #707183;">(</span>granada,almer&#237;a<span style="color: #707183;">)</span>.
</pre>
</div>

<ul class="org-ul">
<li><code>coste(+E1,+E2,?C)</code> se verifica si <code>C</code> es la distancia entre <code>E1</code> y
<code>E2</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coste</span><span style="color: #707183;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   <span style="color: #707183;">(</span> distancia<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span> <span style="color: #a020f0;">;</span> distancia<span style="color: #7388d6;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span> <span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb110fb" class="outline-3">
<h3 id="orgcb110fb"><span class="section-number-3">2.25.</span> Búsqueda óptima: Problema del viaje</h3>
<div class="outline-text-3" id="text-2-25">
<ul class="org-ul">
<li><code>distancia(+E1,+E2,?D)</code> se verifica si <code>D</code> es la distancia de <code>E1</code> a
<code>E2</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>huelva,sevilla,94<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>huelva,c&#225;diz,219<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>sevilla,c&#243;rdoba,138<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>sevilla,m&#225;laga,218<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>sevilla,c&#225;diz,125<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>c&#243;rdoba,ja&#233;n,104<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>c&#243;rdoba,granada,166<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>c&#243;rdoba,m&#225;laga,187<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>c&#225;diz,m&#225;laga,265<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>m&#225;laga,granada,129<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>ja&#233;n,granada,99<span style="color: #707183;">)</span>.
<span style="color: #0000ff;">distancia</span><span style="color: #707183;">(</span>granada,almer&#237;a,166<span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org2991d26" class="outline-3">
<h3 id="org2991d26"><span class="section-number-3">2.26.</span> Búsqueda óptima</h3>
<div class="outline-text-3" id="text-2-26">
<ul class="org-ul">
<li>Primer procedimiento de búsqueda óptima (<code>b-optima-1.pl</code>)</li>

<li><code>óptima_1(?S)</code> se verifica si <code>S</code> es una solución óptima del
problema; es decir, <code>S</code> es una solución del problema y no hay otra solución
de menor coste.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima_1</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   profundidad_con_ciclos<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>,
   coste_camino<span style="color: #707183;">(</span><span style="color: #a0522d;">S</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>,
   not<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>profundidad_con_ciclos<span style="color: #909183;">(</span><span style="color: #a0522d;">S1</span><span style="color: #909183;">)</span>,
        coste_camino<span style="color: #909183;">(</span><span style="color: #a0522d;">S1</span>,<span style="color: #a0522d;">C1</span><span style="color: #909183;">)</span>,
        <span style="color: #a0522d;">C1</span> &lt; <span style="color: #a0522d;">C</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>


<div id="outline-container-org7a8eb6f" class="outline-3">
<h3 id="org7a8eb6f"><span class="section-number-3">2.27.</span> Búsqueda óptima</h3>
<div class="outline-text-3" id="text-2-27">
<ul class="org-ul">
<li><code>coste_camino(+L,?C)</code> se verifica si <code>C</code> es el coste del camino
<code>L</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">coste_camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   coste<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">coste_camino</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C</span><span style="color: #707183;">)</span> :-
   coste<span style="color: #707183;">(</span><span style="color: #a0522d;">E2</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C1</span><span style="color: #707183;">)</span>,
   coste_camino<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">C2</span><span style="color: #707183;">)</span>,
   <span style="color: #a0522d;">C</span> is <span style="color: #a0522d;">C1</span>+<span style="color: #a0522d;">C2</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd3233a" class="outline-3">
<h3 id="orgbd3233a"><span class="section-number-3">2.28.</span> Búsqueda óptima (II)</h3>
<div class="outline-text-3" id="text-2-28">
<ul class="org-ul">
<li>2\bfm{^o} procedimiento de búsqueda óptima (<code>b-optima-2.pl</code>)</li>
<li>Un {\em nodo} es un término de la forma \bfm{C-[E_n,\dots,E_1]} tal
que \bfm{E_1} es el estado inicial, \bfm{E_{i+1}} es un sucesor de
\bfm{E_i} y \bfm{C} es el coste de dicho camino.</li>

<li><code>óptima(?S)</code> se verifica si <code>S</code> es una solución del problema mediante
búsqueda óptima; es decir, <code>S</code> es la solución obtenida por búsqueda óptima a
partir de <code>[0-[E]]</code>, donde <code>E</code> el estado inicial.</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_inicial<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   &#243;ptima<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span>0-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #909183;">]</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d83671" class="outline-3">
<h3 id="org7d83671"><span class="section-number-3">2.29.</span> Búsqueda óptima (II)</h3>
<div class="outline-text-3" id="text-2-29">
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">_C</span>-<span style="color: #909183;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #909183;">]</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">_RA</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   estado_final<span style="color: #707183;">(</span><span style="color: #a0522d;">E</span><span style="color: #707183;">)</span>,
   reverse<span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
<span style="color: #0000ff;">&#243;ptima</span><span style="color: #707183;">(</span><span style="color: #7388d6;">[</span><span style="color: #a0522d;">N</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">RAbiertos</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span> :-
   expande<span style="color: #707183;">(</span><span style="color: #a0522d;">N</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>,
   append<span style="color: #707183;">(</span><span style="color: #a0522d;">RAbiertos</span>,<span style="color: #a0522d;">Sucesores</span>,<span style="color: #a0522d;">Abiertos1</span><span style="color: #707183;">)</span>,
   sort<span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos1</span>,<span style="color: #a0522d;">Abiertos2</span><span style="color: #707183;">)</span>,
   &#243;ptima<span style="color: #707183;">(</span><span style="color: #a0522d;">Abiertos2</span>,<span style="color: #a0522d;">S</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-org3b4850f" class="outline-3">
<h3 id="org3b4850f"><span class="section-number-3">2.30.</span> Búsqueda óptima (II)</h3>
<div class="outline-text-3" id="text-2-30">
<ul class="org-ul">
<li><code>expande(+N,?Sucesores)</code> se verifica si <code>Sucesores</code> es la lista de
sucesores del nodo <code>N</code> (es decir, si <code>N=C-[E|R]</code>, entonces <code>Sucesores</code> son
los nodos de la forma <code>C1-[E1,E|R]</code> donde <code>E1</code> es un sucesor de <code>E</code> que no
pertenece a <code>[E|R]</code> y <code>C1</code> es la suma de <code>C</code> y el coste de <code>E</code> a <code>E1</code>).</li>
</ul>
<div class="org-src-container">
<pre class="src src-prolog"><span style="color: #0000ff;">expande</span><span style="color: #707183;">(</span><span style="color: #a0522d;">C</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,<span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span> :-
   findall<span style="color: #707183;">(</span><span style="color: #a0522d;">C1</span>-<span style="color: #7388d6;">[</span><span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #7388d6;">]</span>,
           <span style="color: #7388d6;">(</span>sucesor<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span><span style="color: #909183;">)</span>,
            not<span style="color: #909183;">(</span>member<span style="color: #709870;">(</span><span style="color: #a0522d;">E1</span>,<span style="color: #907373;">[</span><span style="color: #a0522d;">E</span><span style="color: #a020f0;">|</span><span style="color: #a0522d;">R</span><span style="color: #907373;">]</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span>,
            coste<span style="color: #909183;">(</span><span style="color: #a0522d;">E</span>,<span style="color: #a0522d;">E1</span>,<span style="color: #a0522d;">C2</span><span style="color: #909183;">)</span>,
            <span style="color: #a0522d;">C1</span> is <span style="color: #a0522d;">C</span>+<span style="color: #a0522d;">C2</span><span style="color: #7388d6;">)</span>,
           <span style="color: #a0522d;">Sucesores</span><span style="color: #707183;">)</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea918c8" class="outline-3">
<h3 id="orgea918c8"><span class="section-number-3">2.31.</span> Búsqueda óptima (II)</h3>
<div class="outline-text-3" id="text-2-31">
<p>
Comparaciones
</p>
<div class="org-src-container">
<pre class="src src-prolog">?- time<span style="color: #707183;">(</span>&#243;ptima_1<span style="color: #7388d6;">(</span><span style="color: #a0522d;">S</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #b22222;">% </span><span style="color: #b22222;">1,409 inferences in 0.00 seconds (Infinite Lips)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>sevilla, c&#243;rdoba, granada, almer&#237;a<span style="color: #707183;">]</span>

?-  time<span style="color: #707183;">(</span>&#243;ptima<span style="color: #7388d6;">(</span><span style="color: #a0522d;">S</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>.
<span style="color: #b22222;">% </span><span style="color: #b22222;">907 inferences in 0.00 seconds (Infinite Lips)</span>
<span style="color: #a0522d;">S</span> = <span style="color: #707183;">[</span>sevilla, c&#243;rdoba, granada, almer&#237;a<span style="color: #707183;">]</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org57027cb" class="outline-2">
<h2 id="org57027cb"><span class="section-number-2">3.</span> Bibliografía</h2>
<div class="outline-text-2" id="text-3">
<p>
{\em Prolog Programming for Artificial Intelligence (2nd ed.)}
(Addison&#x2013;Wesley, 1990)
</p>
<ul class="org-ul">
<li>Cap. 11 ``Basic problem&#x2013;solving strategies''</li>
</ul>
<ul class="org-ul">
<li>Flach, P.
{\em Simply Logical (Intelligent Reasoning by Example)}
(John Wiley, 1994)
<ul class="org-ul">
<li>Cap. 5: ``Seaching graphs''</li>
</ul></li>

<li>Poole, D.; Mackworth, A. y Goebel, R.
{\em Computational Intelligence (A Logical Approach)}
(Oxford University Press, 1998)
<ul class="org-ul">
<li>Cap. 4: ``Searching''</li>
</ul></li>

<li>Shoham, Y.
{\em Artificial Intelligence Techniques in Prolog}
(Morgan Kaufmann, 1994)
<ul class="org-ul">
<li>Cap. 2 ``Search''</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr>
<center>
<p><a href="/"><i class="fa fa-home"></i></a> |
   <a href="/materias/PLconProlog/">Inicial</a> |
   <a href="/materias/PLconProlog/temas.html">Temas  </a> |
   <a href="/materias/PLconProlog/sistemas.html">Sistemas </a> |
   <a href="/materias/PLconProlog/cursos.html">Cursos </a> |
   <a href="/materias/PLconProlog/doc.html">Documentación  </a>
</p>
</center>
<div id="extras">
  <p><a href="/">José A. Alonso Jiménez</a>
  <p>Sevilla, 28 de mayo del 2022</p>
  <p><i class="fa fa-cc"></i> Licencia: <a href="https://creativecommons.org/licenses/by-nc-sa/2.5/es/">Creative Commons</a>.</p>
</div>
</div>
</body>
</html>
